---
layout: page
title: Test View class
test: true
---

<div id="chart"></div>

<script src="../public/dist/chartstack2.min.js"></script>
<script>

describe('Chartstack view', function(){

  var model = new chartstack.Model({
    adapter: 'Keen IO',
    url: '../api/keen/multilinechart.json'
  });

  it('should properly support dom ready', function(done){
    chartstack.ready(function(){
      done();
    });
  });

  it('should support view without new operator', function(){
    var view = chartstack.lineChart({
      el: '#chart'
    });
    expect(view.el).to.equal(document.getElementById('chart'));
  });

  it('should support passed .el as string', function(){
    var view = chartstack.lineChart({
      el: '#chart'
    });
    expect(view.el).to.equal(document.getElementById('chart'));
  });

  it('should support passed .el as element', function(){
    var el = document.getElementById('chart');
    var view = new chartstack.lineChart({
      el: el
    });
    expect(view.el).to.equal(el);
  });

  it('should have acquired defaults', function(){
    var view = new chartstack.lineChart({
      el: '#chart'
    });

    chartstack.each(chartstack.View.defaults, function(v,k){
      expect(view[k]).to.equal(v);
    });
  });

  it('should have autofetched model on draw and rendered HTML chart', function(){
    var view = new chartstack.lineChart({
      el: '#chart',
      model: model
    }).draw();

    console.log('view w model', view);

  });

  xit('should support inline data instead of model', function(){});
  xit('test attaching model afterwards', function(){});






});




// To test
// library override

</script>
