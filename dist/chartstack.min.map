{"version":3,"file":"chartstack.min.js","sources":["../src/chartstack.js","../src/diver/chartstack.diver.js","../src/adapter/chartstack.keen.universal.adapter.js","../src/adapter/chartstack.universal.nvd3.adapter.js","../src/renderer/chartstack.nvd3.renderer.js","../src/adapter/chartstack.universal.googlecharts.adapter.js","../src/renderer/chartstack.googlecharts.renderer.js","../src/adapter/chartstack.universal.highcharts.adapter.js","../src/renderer/chartstack.highcharts.renderer.js"],"names":["root","is","o","t","each","cb","s","n","length","call","hasOwnProperty","extend","e","v","noConflict","chartstack","previousChartstack","this","ready","isDomReady","readyCallbacks","push","bootstrap","defaults","library","Object","keys","renderers","ns","window","Error","parse","chartNodes","document","querySelectorAll","el","getAttribute","Chart","getAjax","url","xhr","createXHR","ActiveXObject","console","warn","message","XMLHttpRequest","onreadystatechange","readyState","responseText","open","setRequestHeader","send","get","strOrEl","matchedChart","nodeName","querySelector","charts","chart","addAdapter","domain","configObj","func","type","adapters","addRenderer","provider","addTransformer","name","transformers","Adapter","json","data","JSON","addtransformer","labels","DataAdapter","args","setup","setupDom","setupJS","$chart","chartType","toLocaleLowerCase","style","display","k","attr","test","newKey","nodeType","dataformat","init","datasource","match","fetch","finish","renderer","show","hide","render","google","load","packages","setOnLoadCallback","addEventListener","cs","result","loop","arguments","Array","prototype","slice","target","pop","i","splinter","concat","apply","splice","proto","diver","build","self","cols","label","split","cells","fixed","rows","index","order","table","series","raw","sort","a","b","aIndex","bIndex","output","key","values","cell","j","value","aTotal","bTotal","record","transform","column","parseInt","row","format","piechart","extras","barchart","Date","linechart","diverFormat","ar","shift","item","entry","section","colomnKeys","rowDescription","selection","rowDesc","y","x","options","svg","createElementNS","m","setAttributeNS","appendChild","nv","addGraph","models","pieChart","d","showLabels","color","colors","d3","select","datum","transition","duration","multiBarChart","width","height","xAxis","tickFormat","time","yAxis","utils","windowResize","update","lineChart","scale","category10","range","useInteractiveGuideline","visualization","arrayToDataTable","title","customOptions","prop","pieSliceTextStyle","pieSliceTextColor","titleTextStyle","titleTextColor","legend","textStyle","legendColor","PieChart","draw","BarChart","LineChart","headers","join","categories","Highcharts","renderTo","plotBackgroundColor","plotBorderWidth","plotShadow","text","plotOptions","pie","allowPointSelect","cursor","dataLabels","enabled","connectorColor","formatter","point","percentage","min","align","overflow","bar","layout","verticalAlign","floating","borderWidth","backgroundColor","shadow","credits","plotLines"],"mappings":"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","sourcesContent":["/* global google */\n(function(root) {\n  var previousChartstack = root.chartstack;\n  var chartstack = root.chartstack = {};\n  var adapters, renderers, charts, Chart, Adapter, transformers, isDomReady, readyCallbacks = [];\n\n  // These three functions taken from https://github.com/spocke/punymce\n  function is(o, t){\n    o = typeof(o);\n\n    if (!t){\n      return o != 'undefined';\n    }\n\n    return o == t;\n  }\n\n  function each(o, cb, s){\n    var n;\n\n    if (!o){\n      return 0;\n    }\n\n    s = !s ? o : s;\n\n    if (is(o.length)){\n      // Indexed arrays, needed for Safari\n      for (n=0; n<o.length; n++) {\n        if (cb.call(s, o[n], n, o) === false){\n          return 0;\n        }\n      }\n    } else {\n      // Hashtables\n      for (n in o){\n        if (o.hasOwnProperty(n)) {\n          if (cb.call(s, o[n], n, o) === false){\n            return 0;\n          }\n        }\n      }\n    }\n\n    return 1;\n  }\n\n  // Extend object e on to o.\n  function extend(o, e){\n    each(e, function(v, n){\n      o[n] = v;\n    });\n\n    return o;\n  }\n\n\n  function noConflict(){\n    root.chartstack = previousChartstack;\n    return this;\n  }\n\n  // DOM-ready queue method.\n  function ready(cb){\n    if (!isDomReady){\n      readyCallbacks.push(cb);\n    }else{\n      cb();\n    }\n  }\n\n  // Called when DOM and chart libs are loaded and ready.\n  function bootstrap (){\n    // If graph library isn't set in defaults, match provider to the first graph\n    // lib found on the page that we have an adapter for.\n    if (chartstack.defaults.library){\n      chartstack.library = chartstack.defaults.library;\n    }else{\n      each(Object.keys(chartstack.renderers), function(ns){\n        if (ns in window){\n          chartstack.library = ns;\n          return false;\n        }\n      });\n\n      if (!chartstack.library){\n        throw new Error('No charting library located.');\n      }\n\n      // Parse the dom.\n      chartstack.parse();\n\n      isDomReady = true;\n      each(readyCallbacks, function(cb){\n        cb();\n      });\n    }\n  }\n\n  // Parse the DOM and search for valid charting elements to turn to classes.\n  function parse(){\n    var chartNodes = document.querySelectorAll('piechart,barchart,linechart');\n    each(chartNodes, function(el){\n      // Ensure data attribute exists.\n      if (el.getAttribute('datasource')){\n        new Chart(el);\n      }\n    });\n  }\n\n  function getAjax(url, cb){\n    var xhr;\n    var createXHR = function(){\n      var xhr;\n      if (window.ActiveXObject){\n        try{\n          xhr = new ActiveXObject(\"Microsoft.XMLHTTP\");\n        }catch(e){\n          console.warn(e.message);\n          xhr = null;\n        }\n      }else{\n        xhr = new XMLHttpRequest();\n      }\n      return xhr;\n    };\n\n    xhr = createXHR();\n    xhr.onreadystatechange = function(){\n      if (xhr.readyState === 4){\n        cb(xhr.responseText);\n      }\n    };\n    xhr.open('GET', url, true);\n    xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n    xhr.send();\n  }\n\n  // Returns a chartstack object by html element id or element comparison.\n  function get(strOrEl){\n    var el = strOrEl.nodeName ? strOrEl : document.querySelector(strOrEl);\n    var matchedChart;\n\n    if (el){\n      each(chartstack.charts, function(chart){\n        if (el == chart.el){\n          matchedChart = chart;\n          return false;\n        }\n      });\n      return matchedChart;\n    }\n    throw(\"That element doesn't exist on the page.\");\n  }\n\n  // Adapters that normalize 3rd party api to a standard format.\n  function addAdapter(domain, configObj){\n    each(configObj, function(func, type){\n      if (!adapters[domain]){\n        adapters[domain] = {};\n      }\n\n      adapters[domain][type] = func;\n\n    });\n  }\n\n  // Chart specific Renderers that Chartstack uses to render charts.\n  function addRenderer(provider, configObj){\n    each(configObj, function(func, type){\n      if (!renderers[provider]){\n        renderers[provider] = {};\n      }\n\n      renderers[provider][type] = func;\n    });\n  }\n\n  // Methods that transform non-JSON data to JSON.\n  function addTransformer(name, func){\n    transformers[name] = func;\n  }\n\n  // Placeholder for chartstack data adapters.\n  chartstack.adapters = adapters = {};\n\n  // Placeholder for chartstack renderers.\n  chartstack.renderers = renderers = {};\n\n  // Array of instantiated charts.\n  chartstack.charts = charts = [];\n\n  // Placeholder for transform data adapters.\n  chartstack.transformers = transformers = {\n    json : function(data){\n      if (typeof data == 'string'){\n        return JSON.parse(data);\n      }else{\n        return data;\n      }\n    }\n  };\n\n  // Store them in API as well for plugin use.\n  extend(chartstack, {\n    noConflict : noConflict,\n    parse : parse,\n    is : is,\n    each : each,\n    extend : extend,\n    getAjax : getAjax,\n    ready: ready,\n    get: get,\n    addAdapter : addAdapter,\n    addRenderer : addRenderer,\n    addtransformer : addTransformer\n  });\n\n  // Defaults accessible from outside in case user wants to change them.\n  // DOM properties override defaults.\n  chartstack.defaults = {\n    labels: true\n  };\n\n  chartstack.DataAdapter = Adapter = function(){\n  };\n\n  // Main Chart class.\n  chartstack.Chart = Chart = function(args) {\n    var $chart = this;\n    // Add to internal array.\n    chartstack.charts.push(this);\n\n    // Collects properties off DOM element and inspects data source.\n\n    function setup(){\n      var setupDom, setupJS, domain;\n\n      setupDom = function(){\n        $chart.el = args;\n\n        // Type of chart.\n        $chart.chartType = $chart.el.nodeName.toLocaleLowerCase();\n\n        // Our made up HTML nodes are display: inline so we need to make\n        // them block;\n        $chart.el.style.display = \"inline-block\";\n      };\n\n      setupJS = function(){\n        $chart.el = args.el;\n\n        // Type of chart.\n        $chart.chartType = args.chartType;\n      };\n\n      // Copy global defaults on to this chart.\n      each(chartstack.defaults, function(k, v){\n        $chart[v] = k;\n      });\n\n      if ('nodeType' in args){\n        setupDom();\n      }else{\n        setupJS();\n      }\n\n      // Find properties on dom element to override defaults.\n      // Support arrays here so we can store the data under a different name.\n      // TODO: These strings should be objects with support for defaults and other options.\n      each([\n        ['provider', 'domain'],\n        'datasource',\n        'dataformat',\n        'library',\n        'labels',\n        'width',\n        'height',\n        'title',\n        'titleTextColor', // Custom, currently supported on Google  TODO: NVD3\n        'legendColor', // Custom, currently supported on Google TODO: NVD3\n        'colors', // item colors - Supported for all chart types for Google and NVD3.\n        'pieSliceBorderColor', // TODO: Pie only  TODO: NVD3\n        'pieSliceTextColor', // TODO: Pie only  TODO: NVD3\n        'backgroundColor', // Bg color of chart.  TODO: NVD3\n        'customOptions'\n      ], function(attr){\n        var test, newKey;\n\n        if (is(attr, 'object')){\n          newKey = attr[1];\n          attr = attr[0];\n        }\n        test = args.nodeType ? args.getAttribute(attr) : args[attr];\n        // If property exists, save it.\n        if (test){\n          // Support for real booleans.\n          if (test == 'false' || test == '0' || test == 'off'){\n            test = false;\n          }else if (test == 'true' || test == '1' || test == \"on\"){\n            test = true;\n          }\n\n          if (newKey){\n            $chart[newKey] = test;\n          }else{\n            $chart[attr] = test;\n          }\n        }\n      });\n\n      // If we don't have a localized library set on this chart then set the\n      // global one.\n      if (!$chart.library){\n        $chart.library = chartstack.library;\n      }\n\n      // Used to transform response if needed to JSON.\n      if (!$chart.dataformat){\n        $chart.dataformat = 'json';\n      }\n\n      // Run library renderer's init if the lib needs to do some setup.\n      if (renderers[$chart.library] && renderers[$chart.library].init){\n        renderers[$chart.library].init($chart);\n      }\n\n      // Check datasource starts with { or [ assume it's JSON or else\n      // assume it's a URL to fetch.  We do not check for http anymore\n      // as it can be a local/relative file.\n      if (typeof $chart.datasource == 'string'){\n        if ($chart.datasource.match(/^({|\\[)/)){\n          $chart.datasource = JSON.parse($chart.datasource);\n        }else{\n          domain = $chart.datasource.match(/\\/\\/(.*?)\\//);\n          if (domain){\n            $chart.domain = domain[1];\n          }\n        }\n      }\n    }\n\n\n    // Fetches and normalizes data with a callback to pass data to.\n    function fetch(cb){\n      function finish(data){\n\n        // Transform data.\n        if ($chart.dataformat in transformers){\n          data = transformers[$chart.dataformat](data);\n        }else{\n          throw new Error('Transformer for datatype missing: ' + $chart.dataformat);\n        }\n\n        // If domain specified, check if we have adapters for this domain and\n        // that we also have a chart adapter for this chart from this domain.\n        if (adapters[$chart.domain] && adapters[$chart.domain][$chart.chartType]){\n          data = adapters[$chart.domain][$chart.chartType].call(new Adapter, data);\n        }\n\n        // Transform data into graph libs format.\n        data = adapters[$chart.library][$chart.chartType].call(new Adapter, data);\n        cb(data);\n      }\n\n      // If this is a URL fetch data.\n      if (typeof $chart.datasource == \"string\"){\n        chartstack.getAjax($chart.datasource, finish);\n\n        // The data is local.\n      }else{\n        finish($chart.datasource);\n      }\n    }\n\n    setup();\n    fetch(function(data){\n      var renderer = chartstack.renderers[$chart.library];\n      if (!renderer){\n        throw('Renderer for ' + $chart.library + ' is missing.');\n      }else if(!renderer[$chart.chartType]){\n        throw('Renderer for ' + $chart.library + ':' + $chart.chartType + ' is missing.');\n      }\n      renderer[$chart.chartType]($chart, data);\n    });\n\n    // Public methods\n    extend(this, {\n      show : function(){\n        this.el.style.display = 'none';\n      },\n\n      hide : function(){\n        this.el.style.display = 'block';\n      },\n\n      render : function(){\n        // TODO\n        // chartstack.renderer[this.chartType](this, this.fetch());\n      },\n\n      fetch : function(cb){\n        cb || (cb = function(){});\n        fetch(cb);\n      }\n    });\n  };\n\n  // Hack to support google charts.\n  if (window.google){\n    google.load('visualization', '1.0', {'packages':['corechart']});\n    google.setOnLoadCallback(bootstrap);\n  }else{\n    document.addEventListener(\"DOMContentLoaded\", bootstrap);\n  }\n})(this);\n","/* global chartstack */\n(function(cs){\n  var proto;\n  var each = chartstack.each;\n\n  cs.diver = function(root, setup) {\n    this.build(root, setup);\n  };\n\n  proto = cs.diver.prototype;\n\n  proto.build = function(root, setup) {\n    var self = this;\n\n    self.cols = {\n      label: (setup.cols.label) ? setup.cols.label.split(\" -> \") : false,\n      cells: (setup.cols.cells) ? setup.cols.cells.split(\" -> \") : false,\n      fixed: (setup.cols.fixed) ? setup.cols.fixed : false\n    };\n\n    self.rows = {\n      index: setup.rows.index.split(\" -> \"),\n      cells: setup.rows.cells.split(\" -> \")\n    };\n    self.order = {\n      rows: (setup.order && setup.order.rows) ? setup.order.rows.split(\":\") : false,\n      cols: (setup.order && setup.order.cols) ? setup.order.cols.split(\":\") : false\n    };\n\n    self.table = [];\n    self.series = [];\n    self.raw = root;\n\n\n    // SORT ROWS\n    if (self.order.rows.length > 0) {\n      root.sort(function(a, b){\n        var aIndex = parse.apply(self, [a].concat(self.rows.index));\n        var bIndex = parse.apply(self, [b].concat(self.rows.index));\n\n        if (self.order.rows[1] == 'asc') {\n          if (aIndex > bIndex){return 1;}\n          if (aIndex < bIndex){return -1;}\n          return 0;\n        } else {\n          if (aIndex > bIndex){return -1;}\n          if (aIndex < bIndex){return 1;}\n          return 0;\n        }\n\n        return false;\n      });\n    }\n\n    // ADD SERIES\n    (function(){\n\n      self.cols.label = (self.cols.fixed) ? self.cols.fixed[0] : 'series';\n      var fixed = (self.cols.fixed) ? self.cols.fixed : [];\n      var cells = (self.cols.cells) ? parse.apply(self, [root[0]].concat(self.cols.cells)) : [];\n      var output = fixed.concat(cells);\n      output.splice(0,1);\n\n      each(output, function(el){\n        self.series.push({ key: el, values: [] });\n      });\n    })();\n\n    // ADD SERIES' RECORDS\n    each(root, function(el){\n      var index = parse.apply(self, [el].concat(self.rows.index));\n      var cells = parse.apply(self, [el].concat(self.rows.cells));\n\n      each(cells, function(cell, j){\n        var output = {};\n        output[self.cols.label] = index[0];\n        output.value = cell;\n        self.series[j].values.push(output);\n      });\n    });\n\n    // SORT COLUMNS\n    if (self.order.cols.length > 0) {\n      self.series = self.series.sort(function(a, b){\n        var aTotal = 0;\n        var bTotal = 0;\n        each(a.values, function(record){\n          aTotal += record.value;\n        });\n        each(b.values, function(record){\n          bTotal += record.value;\n        });\n\n        if (self.order.cols[1] == 'asc') {\n          return aTotal - bTotal;\n        } else {\n          return bTotal - aTotal;\n        }\n      });\n    }\n\n    // BUILD TABLE\n    self.table = [];\n    self.table.push([self.cols.label]);\n\n    each(self.series[0].values, function(value){\n      self.table.push([value[self.cols.label]]);\n    });\n\n    each(self.series, function(series){\n      self.table[0].push(series.key);\n      each(series.values, function(record, j){\n        self.table[j+1].push(record.value);\n      });\n    });\n\n    // COLUMN TRANSFORMS\n    if (setup.cols.transform) {\n      for (var transform in setup.cols.transform) {\n        if (transform == 'all') {\n          each(self.table[0], function(column, index){\n            if (index > 0) {\n              self.table[0][index] = setup.cols.transform[transform](self.table[0][index]);\n            }\n          });\n        } else {\n          transform = parseInt(transform);\n          if (self.table[0].length > transform) {\n            self.table[0][transform] = setup.cols.transform[transform](self.table[0][transform]);\n          }\n        }\n      }\n    }\n\n    // ROW TRANSFORMS\n    if (setup.rows.transform) {\n      each(self.table, function(row, index){\n        if (index > 0) {\n          for (var transform in setup.rows.transform) {\n            self.table[index][transform] = setup.rows.transform[transform](self.table[index][transform]);\n          }\n        }\n      });\n    }\n\n    return this;\n  };\n\n  proto.render = function(format){\n    if (format == 'csv') {\n    }\n    return this;\n  };\n\n  function parse() {\n    var result = [];\n    var loop = function() {\n      var root = arguments[0];\n      var args = Array.prototype.slice.call(arguments, 1);\n      var target = args.pop();\n\n      if (args.length === 0) {\n        if (root instanceof Array) {\n          args = root;\n        } else if (typeof root === 'object') {\n          args.push(root);\n        }\n      }\n\n      each(args, function(el){\n\n        if (el[target] || el[target] == 0 || el[target] !== void 0) {\n          // Easy grab!\n          if (el[target] === null) {\n            return result.push('');\n          } else {\n            return result.push(el[target]);\n          }\n\n        } else if (root[el]){\n          if (root[el] instanceof Array) {\n            // dive through each array item\n\n            each(root[el], function(n, i) {\n              var splinter = [root[el]].concat(root[el][i]).concat(args.slice(1)).concat(target);\n              return loop.apply(this, splinter);\n            });\n\n          } else {\n            if (root[el][target]) {\n              // grab it!\n              return result.push(root[el][target]);\n\n            } else {\n              // dive down a level!\n              return loop.apply(this, [root[el]].concat(args.splice(1)).concat(target));\n\n            }\n          }\n\n        } else {\n          // dive down a level!\n          return loop.apply(this, [el].concat(args.splice(1)).concat(target));\n\n        }\n\n        return;\n\n      });\n      if (result.length > 0) {\n        return result;\n      }\n    };\n    return loop.apply(this, arguments);\n  }\n})(chartstack);\n","/* global chartstack */\n// Data normalizing adaper for keen.io API.\n(function(cs){\n  cs.addAdapter('api.keen.io', {\n    piechart: function(data){\n      data = new cs.diver(data.result, {\n        cols: {\n          fixed: ['Browser', 'Share']\n        },\n        rows: {\n          index: 'platform',\n          cells: 'result'\n        }\n      });\n\n      return {\n        data: data.table,\n        extras: {}\n      };\n    },\n\n    barchart: function(data){\n      data = new cs.diver(data.result, {\n        cols: {\n          fixed: ['Date'],\n          cells: 'value -> platform'\n        },\n        rows: {\n          index: 'timeframe -> start',\n          cells: 'value -> result',\n          transform: {\n            0: function(value){\n              return new Date(value);\n            }\n          }\n        }\n      });\n\n      return {\n        data: data.table,\n        extras: {}\n      };\n    },\n\n    linechart: function(data){\n      var diverFormat;\n\n      if(data.result[0].value instanceof Array){\n        diverFormat = {\n          cols: {\n            fixed: ['Date'],\n            cells: 'value -> platform'\n          },\n          rows: {\n            index: 'timeframe -> start',\n            cells: 'value -> result',\n            transform: {\n              0: function(value){\n                return new Date(value);\n              }\n            }\n          }\n        }\n      }else{\n        diverFormat = {\n          cols: {\n            fixed: ['Date', 'Value']\n          },\n          rows: {\n            index: 'timeframe -> start',\n            cells: 'value',\n            transform: {\n              0: function(value){\n                return new Date(value);\n              }\n            }\n          }\n        }\n      }\n\n      data = new cs.diver(data.result, diverFormat);\n\n      return {\n        data: data.table,\n        extras: {}\n      };\n    }\n  });\n})(chartstack);\n","/* global chartstack */\n(function(cs){\n  cs.addAdapter('nv', {\n    piechart: function(data){\n      data = data.data;\n\n      var ar = [];\n\n      // Pop off unused header array.\n      data.shift();\n\n      cs.each(data, function(item){\n        var entry = {\n          label: item[0],\n          value: item[1]\n        };\n        ar.push(entry);\n      });\n      return ar;\n    },\n\n    barchart: function(data){\n      data = data.data;\n\n      var each = cs.each;\n      var section = [];\n      var colomnKeys = data.shift();\n      var rowDescription = colomnKeys.shift();\n\n      // Prep rows\n      each(colomnKeys, function(name){\n        section.push({\n          key: name,\n          values: []\n        });\n      });\n\n      each(data, function(selection){\n        var rowDesc = selection.shift();\n        each(selection, function(y, a){\n          section[a].values.push({\n            x: rowDesc,\n            y: y\n          });\n        });\n      });\n\n      return {\n        result: section,\n        options: {\n          rowDescription: rowDescription\n        }\n      };\n    },\n\n    linechart: function(data){\n      data = data.data;\n\n      var each = cs.each;\n      var section = [];\n      var colomnKeys = data.shift();\n      var rowDescription = colomnKeys.shift();\n\n      // Prep rows\n      each(colomnKeys, function(name){\n        section.push({\n          key: name,\n          values: []\n        });\n      });\n\n      each(data, function(selection){\n        var rowDesc = selection.shift();\n        each(selection, function(y, a){\n          section[a].values.push([rowDesc, y]);\n        });\n      });\n\n      return {\n        result: section,\n        options: {\n          rowDescription: rowDescription\n        }\n      };\n    }\n  });\n})(chartstack);\n","/* global chartstack, nv, d3 */\n(function(cs){\n  cs.addRenderer('nv', {\n\n    init: function($chart){\n      // Create the SVG element that D3 needs.\n      $chart.svg = document.createElementNS ('http://www.w3.org/2000/svg', 'svg');\n      // Set height and width of SVG to it's parent's container.\n      cs.each(['width', 'height'], function(m){\n        var v = parseInt($chart[m]);\n        $chart[m] = v;\n        $chart.svg.setAttributeNS(null, m, v);\n      });\n\n      $chart.el.appendChild($chart.svg);\n    },\n\n    piechart: function($chart, data){\n\n      // Regular pie chart example\n      nv.addGraph(function() {\n        var chart = nv.models.pieChart()\n          .x(function(d) { return d.label; })\n          .y(function(d) { return d.value; })\n          .showLabels($chart.labels);\n\n        if ('colors' in $chart){\n          chart.color($chart.colors);\n        }\n\n        d3.select($chart.svg)\n          .datum(data)\n          .transition().duration(350)\n          .call(chart);\n\n        return chart;\n      });\n    },\n\n    barchart: function($chart, data){\n      nv.addGraph(function() {\n        var chart = nv.models.multiBarChart();\n\n        // Required to set the height once more or it's too small.\n        chart.width($chart.width).height($chart.height);\n\n        if (data.result[0].values[0].x instanceof Date){\n          chart.xAxis\n            .tickFormat(function(d) {\n              return d3.time.format('%b %d')(new Date(d));\n            });\n        }else{\n          chart.xAxis\n            .tickFormat(d3.format('f'));\n        }\n\n        if ('colors' in $chart){\n          chart.color($chart.colors);\n        }\n\n        chart.yAxis\n        //.axisLabel('Count')\n          .tickFormat(d3.format(',f'));\n\n        d3.select($chart.svg)\n          .datum(data.result)\n          .transition().duration(500)\n          .call(chart);\n\n        nv.utils.windowResize(chart.update);\n      });\n    },\n\n    linechart: function($chart, data){\n      var chart = nv.models.lineChart()\n        .x(function(d) { return d[0]; })\n        .y(function(d) { return d[1]; })\n        .color(d3.scale.category10().range())\n        .useInteractiveGuideline(true);\n\n      if (data.result[0].values[0][0] instanceof Date){\n        chart.xAxis\n          .tickFormat(function(d) {\n            return d3.time.format('%b %d')(new Date(d));\n          });\n      }else{\n        chart.xAxis\n          .tickFormat(d3.format('f'));\n      }\n\n      if ('colors' in $chart){\n        chart.color($chart.colors);\n      }\n\n      //chart.xAxis\n      //  .tickFormat(function(d) {\n      //    return d3.time.format('%x')(new Date(d));\n      //  });\n\n      chart.yAxis\n        .tickFormat(d3.format(',g'));\n\n      d3.select($chart.svg)\n        .datum(data.result)\n        .call(chart);\n\n      chart.width($chart.width).height($chart.height).update();\n      nv.utils.windowResize(chart.update);\n      return chart;\n    }\n\n  });\n})(chartstack);\n","/* global google, chartstack */\n(function(cs){\n  cs.addAdapter('google', {\n    piechart: function(data){\n      return google.visualization.arrayToDataTable(data.data);\n    },\n\n    barchart: function(data){\n      return google.visualization.arrayToDataTable(data.data);\n    },\n\n    linechart: function(data){\n      return google.visualization.arrayToDataTable(data.data);\n    }\n  });\n})(chartstack);\n","/* global google, chartstack */\n(function(cs){\n  cs.addRenderer('google', {\n\n    piechart: function($chart, data){\n      var chart, options;\n      var each = cs.each;\n      var extend = cs.extend;\n\n      // Set chart options\n      options = {\n        'title': $chart.title || '',\n        'width': parseInt($chart.width),\n        'height': parseInt($chart.height)\n      };\n\n      if ($chart.customOptions){\n        extend(options, $chart.customOptions);\n      }\n\n      each(['backgroundColor', 'pieSliceBorderColor', 'colors'], function(prop){\n        if (prop in $chart){\n          options[prop] = $chart[prop];\n        }\n      });\n\n      if ('pieSliceTextColor' in $chart){\n        options.pieSliceTextStyle = {\n          color: $chart.pieSliceTextColor\n        };\n      }\n\n      if ('titleTextColor' in $chart){\n        options.titleTextStyle = {\n          color: $chart.titleTextColor\n        };\n      }\n\n      if ('legendColor' in $chart){\n        options.legend = {\n          textStyle: {\n            color: $chart.legendColor\n          }\n        };\n      }\n\n      chart = new google.visualization.PieChart($chart.el);\n      chart.draw(data, options);\n    },\n\n    barchart: function($chart, data){\n      var chart, options;\n      var each = cs.each;\n      var extend = cs.extend;\n\n      // Set chart options\n      options = {\n        title: $chart.title || '',\n        'width': parseInt($chart.width),\n        'height': parseInt($chart.height)\n      };\n\n      each(['backgroundColor', 'pieSliceBorderColor', 'colors'], function(prop){\n        if (prop in $chart){\n          options[prop] = $chart[prop];\n        }\n      });\n\n      if ('titleTextColor' in $chart){\n        options.titleTextStyle = {\n          color: $chart.titleTextColor\n        };\n      }\n\n      if ('legendColor' in $chart){\n        options.legend = {\n          textStyle: {\n            color: $chart.legendColor\n          }\n        };\n      }\n\n      chart = new google.visualization.BarChart($chart.el);\n      chart.draw(data, options);\n    },\n\n    linechart: function($chart, data){\n      var chart, options;\n      var each = cs.each;\n      var extend = cs.extend;\n\n      // Set chart options\n      options = {\n        title: $chart.title || '',\n        'width': parseInt($chart.width),\n        'height': parseInt($chart.height)\n      };\n\n      each(['backgroundColor', 'pieSliceBorderColor', 'colors'], function(prop){\n        if (prop in $chart){\n          options[prop] = $chart[prop];\n        }\n      });\n\n      if ('titleTextColor' in $chart){\n        options.titleTextStyle = {\n          color: $chart.titleTextColor\n        };\n      }\n\n      if ('legendColor' in $chart){\n        options.legend = {\n          textStyle: {\n            color: $chart.legendColor\n          }\n        };\n      }\n\n      chart = new google.visualization.LineChart($chart.el);\n      chart.draw(data, options);\n    }\n\n  });\n})(chartstack);\n","/* global chartstack */\n(function(cs){\n  cs.addAdapter('Highcharts', {\n    piechart: function(data){\n      data = data.data;\n      var headers = data.shift();\n\n      return {\n        type: 'pie',\n        name: headers.join(' '),\n        data: data\n      };\n    },\n\n    barchart: function(data){\n      data = data.data;\n\n      var each = cs.each;\n      var section = [];\n      var colomnKeys = data.shift();\n      var rowDescription = colomnKeys.shift();\n      var categories = [];\n\n      // Prep rows\n      each(colomnKeys, function(name){\n        section.push({\n          name: name,\n          data: []\n        });\n      });\n\n      each(data, function(selection){\n        categories.push(selection.shift());\n        each(selection, function(y, a){\n          section[a].data.push(y);\n        });\n      });\n\n      return {\n        result: section,\n        options: {\n          categories: categories,\n          rowDescription: rowDescription\n        }\n      };\n    },\n\n    linechart: function(data){\n      data = data.data;\n\n      var each = cs.each;\n      var section = [];\n      var colomnKeys = data.shift();\n      var rowDescription = colomnKeys.shift();\n      var categories = [];\n\n      // Prep rows\n      each(colomnKeys, function(name){\n        section.push({\n          name: name,\n          data: []\n        });\n      });\n\n      each(data, function(selection){\n        categories.push(selection.shift());\n        each(selection, function(y, a){\n          section[a].data.push(y);\n        });\n      });\n      return {\n        result: section,\n        options: {\n          categories: categories,\n          rowDescription: rowDescription\n        }\n      };\n    }\n  });\n})(chartstack);\n","/* global chartstack, Highcharts */\n(function(cs){\n  cs.addRenderer('Highcharts', {\n\n    piechart: function($chart, data){\n      return new Highcharts.Chart({\n        chart: {\n          renderTo: $chart.el,\n          type: 'pie',\n          plotBackgroundColor: null,\n          plotBorderWidth: null,\n          plotShadow: false\n        },\n        title: {\n          text: $chart.title || ''\n        },\n\n        //tooltip: {\n        //  pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n        //},\n\n        plotOptions: {\n          pie: {\n            allowPointSelect: true,\n            cursor: 'pointer',\n            dataLabels: {\n              enabled: true,\n              color: '#000000',\n              connectorColor: '#000000',\n              formatter: function() {\n                return '<b>'+ this.point.name +'</b>: '+ this.percentage +' %';\n              }\n            }\n          }\n        },\n\n        series: [data]\n      });\n    },\n\n    barchart: function($chart, data){\n      return new Highcharts.Chart({\n        chart: {\n          renderTo: $chart.el,\n          type: 'bar',\n          plotBackgroundColor: null,\n          plotBorderWidth: null,\n          plotShadow: false\n        },\n        title: {\n          text: $chart.title || ''\n        },\n        xAxis: {\n          title: {\n            text: data.options.rowDescription\n          },\n          labels: {\n            // format: '{value:%m-%d}'\n          },\n          categories: data.options.categories\n        },\n        yAxis: {\n          min: 0,\n          title: {\n            align: 'high'\n          },\n          labels: {\n            overflow: 'justify'\n          }\n        },\n        //tooltip: {\n        //  valueSuffix: ' millions'\n        //},\n        plotOptions: {\n          bar: {\n            dataLabels: {\n              enabled: true\n            }\n          }\n        },\n        legend: {\n          layout: 'vertical',\n          align: 'right',\n          verticalAlign: 'top',\n          x: -40,\n          y: 100,\n          floating: true,\n          borderWidth: 1,\n          backgroundColor: '#FFFFFF',\n          shadow: true\n        },\n        credits: {\n          enabled: false\n        },\n        series: data.result\n      });\n    },\n\n    linechart: function($chart, data){\n      return new Highcharts.Chart({\n        chart: {\n          renderTo: $chart.el,\n          type: 'line',\n          plotBackgroundColor: null,\n          plotBorderWidth: null,\n          plotShadow: false\n        },\n        title: {\n          text: $chart.title || '',\n          x: -20 //center\n        },\n        xAxis: {\n          categories: data.options.categories,\n          title: {\n            text: data.options.rowDescription\n          }\n        },\n        yAxis: {\n          title: {\n            // text: 'Temperature (°C)'\n          },\n          plotLines: [{\n            value: 0,\n            width: 1,\n            color: '#808080'\n          }]\n        },\n        //tooltip: {\n        //  valueSuffix: '°C'\n        //},\n        legend: {\n          layout: 'vertical',\n          align: 'right',\n          verticalAlign: 'middle',\n          borderWidth: 0\n        },\n        series: data.result\n      });\n    }\n  });\n})(chartstack);\n"]}