<<<<<<< Updated upstream
<<<<<<< HEAD
{"version":3,"file":"chartstack.min.js","sources":["../src/chartstack.js","../src/utils/chartstack.dataform.js","../src/adapters/chartstack.keen-io.js","../src/libraries/chartstack.keen-widgets.js","../src/libraries/chartstack.googlecharts.js"],"names":["root","visualErrorHandler","console","log","arguments","is","o","t","each","cb","s","n","length","call","hasOwnProperty","extend","e","v","noConflict","chartstack","previousChartstack","this","ready","isDomReady","readyCallbacks","push","bootstrap","defaults","library","namespace","libraries","window","Error","parseDOM","moment","get","strOrEl","matchedChart","el","nodeName","document","querySelector","charts","chart","addAdapter","domain","configObj","adapters","func","type","retrievedNodes","registeredNodes","key","indexOf","querySelectorAll","join","getAttribute","Chart","parseParams","str","match","urlParams","pl","search","decode","decodeURIComponent","replace","query","split","exec","buildQueryString","params","value","Object","prototype","toString","JSON","stringify","encodeURIComponent","getAjax","url","xhr","createXHR","ActiveXObject","warn","message","XMLHttpRequest","onreadystatechange","readyState","responseText","open","setRequestHeader","send","getJSONP","success","error","callbackName","Date","getTime","loaded","response","undefined","script","createElement","id","src","getElementsByTagName","appendChild","onerror","Events","transformers","json","data","parse","labels","on","name","callback","listeners","events","off","i","splice","trigger","args","Array","slice","apply","DataResource","config","option","configure","attribute","set","attributes","Dataset","resources","options","source","fetch","self","completions","responses","finish","index","transform","resource","successSequencer","adapter","at","Visualization","chartOptions","width","offsetWidth","update","initialize","render","remove","register","methods","method","protoProps","staticProps","parent","constructor","Surrogate","__super__","setup","mapAttribute","dataAttributes","setupData","initAttributes","setupVis","setupDom","setupJS","visualAttributes","chartType","toLocaleLowerCase","style","display","k","concat","attr","test","newKey","nodeType","view","$chart","dataset","dataformat","dateformat","show","hide","draw","google","load","packages","setOnLoadCallback","addEventListener","cs","result","loop","target","pop","splinter","proto","dataform","map","build","_root","table","series","raw","cols","split_index","split_value","output","fixed","label","cells","rows","order","sort","a","b","aIndex","bIndex","values","j","cell","aTotal","bTotal","record","row","isValid","format","Keen","Metric","css","innerHTML","body","parseInt","title","metric","GoogleCharts","AreaChart","_chart","visualization","arrayToDataTable","height","BarChart","ColumnChart","LineChart","PieChart","DataTable","Table","areachart","barchart","columnchart","linechart","piechart","datatable"],"mappings":"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","sourcesContent":["/* global google */\n(function(root) {\n  var previousChartstack = root.chartstack;\n  var chartstack = root.chartstack = {};\n  var adapters, charts, Chart, Events, transformers, isDomReady, readyCallbacks = [];\n\n  // Placeholder for chartstack data adapters.\n  chartstack.adapters = adapters = {};\n\n  // Array of instantiated charts.\n  chartstack.charts = charts = [];\n\n  // Placeholder for transform data adapters.\n  chartstack.transformers = transformers = {\n    json : function(data){\n      if (typeof data == 'string'){\n        return JSON.parse(data);\n      }else{\n        return data;\n      }\n    }\n  };\n\n  // Defaults accessible from outside in case user wants to change them.\n  // DOM properties override defaults.\n  chartstack.defaults = extend({\n    labels: true\n  }, chartstack.defaults || {});\n\n\n  // -----------------------------\n  // Events class\n  // -----------------------------\n  // Extended by all classes that\n  // require event listeners\n  // -----------------------------\n\n  Events = chartstack.Events = {\n\n    on: function(name, callback) {\n      this.listeners || (this.listeners = {});\n      var events = this.listeners[name] || (this.listeners[name] = []);\n      events.push({callback: callback});\n      return this;\n    },\n\n    // once: function(name, callback) {},\n\n    off: function(name, callback) {\n      if (!name && !callback) {\n        this.listeners = void 0;\n        delete this.listeners;\n        return this;\n      }\n      var events = this.listeners[name] || [];\n      for (var i = events.length; i--;) {\n        if (callback && callback == events[i].callback) {\n          this.listeners[name].splice(i, 1);\n        }\n        if (!callback || events.length === 0) {\n          this.listeners[name] = void 0;\n          delete this.listeners[name];\n        }\n      }\n      return this;\n    },\n\n    trigger: function(name) {\n      if (!this.listeners) {\n        return this;\n      }\n      var args = Array.prototype.slice.call(arguments, 1);\n      var events = this.listeners[name] || [];\n      for (var i = 0; i < events.length; i++) {\n        events[i].callback.apply(this, args);\n      }\n      return this;\n    }\n\n  };\n  extend(chartstack, Events);\n\n\n\n  // -----------------------------\n  // DataResource class\n  // -----------------------------\n  // This class is never directly\n  // instantiated, but is managed\n  // by the Dataset class\n  // -----------------------------\n\n  chartstack.DataResource = function(config){\n    // Types: String (Data or URL), Object\n    if (typeof config === \"string\") {\n      if (config.match(/^({|\\[)/)) {\n        // Raw Data\n        this.response = JSON.parse(config);\n      } else {\n        // URL + Params\n        this.url = config;\n      }\n    } else {\n      for (var option in config) {\n        this[option] = config[option];\n      }\n    }\n    this.configure();\n  };\n\n  chartstack.DataResource.prototype = {\n    configure: function(){\n      if (this.url !== void 0 && this.url.indexOf(\"?\") !== -1 && this.params == void 0) {\n        this.params = chartstack.parseParams(this.url);\n        this.url = this.url.split(\"?\")[0];\n      }\n      return this;\n    },\n    get: function(attribute){\n      return this.params[attribute] || null;\n    },\n    set: function(attributes){\n      for (var attribute in attributes) {\n        this.params[attribute] = attributes[attribute];\n      }\n      return this;\n    }\n  };\n  extend(chartstack.DataResource.prototype, Events);\n\n\n  // -----------------------------\n  // Dataset class\n  // -----------------------------\n  // This class instantiates and\n  // manages instances of the\n  // DataResource class\n  // -----------------------------\n\n  chartstack.Dataset = function(config){\n    var resources = [], options = config || {};\n    if (options instanceof Array) {\n      each(options, function(source){\n        resources.push(new chartstack.DataResource(source));\n      });\n    } else {\n      resources.push(new chartstack.DataResource(options));\n    }\n    this.resources = resources;\n    return;\n  };\n\n  chartstack.Dataset.prototype = {\n\n    fetch: function(){\n      var self = this, completions = 0;\n\n      self.data = [];\n      self.responses = [];\n\n      var finish = function(response, index){\n        self.responses[index] = JSON.parse(response);\n        completions++;\n        if (completions == self.resources.length){\n          self.transform();\n        }\n      };\n\n      var error = function(){\n        //console.log('error');\n        return false;\n      };\n\n      each(self.resources, function(resource, index){\n        if (resource.url) {\n          var url = resource.url + buildQueryString(resource.params);\n          var successSequencer = function(response){\n            finish(response, index);\n          };\n          chartstack.getAjax(url, successSequencer, error);\n          //chartstack.getJSONP(url, successSequencer);\n        } else {\n          error();\n        }\n      });\n\n      return self;\n    },\n\n    transform: function() {\n      var self = this;\n      each(self.resources, function(resource, index){\n        var adapter = resource.adapter;\n        var response = self.responses[index];\n        self.data[index] = adapters[adapter].call(resource, response);\n      });\n      self.trigger(\"complete\", self.data[0]);\n      return self;\n    },\n\n    at: function(index){\n      //if (typeof index == \"string\") {\n      //  return this.resources where\n      //}\n      return this.resources[index] || null;\n    }\n\n  };\n  extend(chartstack.Dataset.prototype, Events);\n\n\n  // -----------------------------\n  // Visualization class\n  // -----------------------------\n  // This class is never directly\n  // instantiated, but extended\n  // by all library rendersets\n  // -----------------------------\n\n  chartstack.Visualization = function(config){\n    var self = this;\n    extend(self, config);\n\n    self.chartOptions = self.chartOptions || {};\n    self.chartOptions.width = self.chartOptions.width || self.el.offsetWidth;\n\n    // Set default event handlers\n    self.on(\"error\", function(){\n      visualErrorHandler.apply(this, arguments);\n    });\n    self.on(\"update\", function(){\n      self.update.apply(this, arguments);\n    });\n\n    // Let's kick it off!\n    this.initialize();\n  };\n\n  chartstack.Visualization.prototype = {\n    initialize: function(){\n      // Sets listeners and prepares data\n    },\n    render: function(){\n      // Builds artifacts\n    },\n    update: function(){\n      // Optional: handles data updates\n    },\n    remove: function(){\n      // Cleanup and DOM removal\n    }\n  };\n  extend(chartstack.Visualization.prototype, Events);\n\n  chartstack.libraries = {};\n\n  chartstack.Visualization.register = function(name, methods){\n    chartstack.libraries[name] = chartstack.libraries[name] || {};\n    for (var method in methods) {\n      chartstack.libraries[name][method] = methods[method];\n    }\n  };\n\n  chartstack.Visualization.extend = function(protoProps, staticProps){\n    var parent = this, Visualization;\n    if (protoProps && protoProps.hasOwnProperty('constructor')) {\n      Visualization = protoProps.constructor;\n    } else {\n      Visualization = function(){ return parent.apply(this, arguments); };\n    }\n    extend(Visualization, parent, staticProps);\n    var Surrogate = function(){ this.constructor = Visualization; };\n    Surrogate.prototype = parent.prototype;\n    Visualization.prototype = new Surrogate();\n    if (protoProps) {\n      extend(Visualization.prototype, protoProps);\n    }\n    Visualization.__super__ = parent.prototype;\n    return Visualization;\n  };\n\n  function visualErrorHandler(){\n    console.log(\"Error!\", arguments);\n  }\n\n\n\n  // -----------------------------\n  // Chart class\n  // -----------------------------\n  // Primary class encompassing\n  // every chartstack instance\n  // -----------------------------\n\n  chartstack.Chart = Chart = function(args) {\n    var $chart = this,\n    setupVis = { chartOptions: {} },\n    setupData = {},\n    options = args || {};\n\n    // Add to internal array.\n    chartstack.charts.push($chart);\n\n    // Collects properties off DOM element and inspects data source.\n    function setup(){\n      var setupDom, setupJS;\n      var initAttributes, dataAttributes, visualAttributes;\n\n      setupDom = function(){\n        //$chart.el = args;\n        setupVis.el = options;\n\n        // Type of chart.\n        options.chartType = setupVis.el.nodeName.toLocaleLowerCase();\n\n        // Our made up HTML nodes are display: inline so we need to make\n        // them block;\n        setupVis.el.style.display = \"block\";\n        setupVis.style = {\n          display: \"inline-block\"\n        };\n      };\n\n      setupJS = function(){\n        //setupVis['el'] = options.el;\n      };\n\n      // Copy global defaults on to this chart.\n      each(chartstack.defaults, function(k, v){\n        setupVis[v] = k;\n      });\n\n      if ('nodeType' in options){\n        setupDom();\n      } else {\n        setupJS();\n      }\n\n      // Find properties on dom element to override defaults.\n      // Support arrays here so we can store the data under a different name.\n      // TODO: These strings should be objects with support for defaults and other options.\n\n      dataAttributes = ['adapter', 'dataset', 'dataformat', 'dateformat'];\n      initAttributes = ['library'];\n      visualAttributes = ['title', 'labels', 'height', 'width', 'isStacked'];\n\n      // Prev:\n      // titleTextColor, legendColor, colors, pieSliceBorderColor,\n      // pieSliceTextColor, backgroundColor, customOptions, formatRowLabel\n\n      each(initAttributes.concat(dataAttributes, visualAttributes), function(attr){\n        var test, newKey;\n\n        if (is(attr, 'object')){\n          newKey = attr[1];\n          attr = attr[0];\n        }\n        test = options.nodeType ? options.getAttribute(attr) : options[attr];\n        // If property exists, save it.\n        if (test){\n          // Support for real booleans.\n          if (test == 'false' || test == '0' || test == 'off'){\n            test = false;\n          } else if (test == 'true' || test == '1' || test == \"on\"){\n            test = true;\n          }\n\n          if (newKey){\n            mapAttribute(newKey, test);\n          } else {\n            mapAttribute(attr, test);\n          }\n        }\n      });\n\n      function mapAttribute(key, value){\n        if (dataAttributes.indexOf(key) !== -1) {\n          setupData[key] = value;\n        } else if (initAttributes.indexOf(key) !== -1) {\n          options[key] = value;\n        } else {\n          setupVis.chartOptions[key] = value;\n        }\n      }\n\n      // If we don't have a designated library...\n      if (!options.library){\n        if(options.chartType in chartstack.libraries[chartstack.library] || options.view instanceof chartstack.Visualization) {\n          // Set global default if type matches\n          options.library = chartstack.library;\n        } else {\n          // Select library with matching type\n          each(chartstack.libraries, function(library, namespace){\n            each(library, function(value, key){\n              if (options.chartType == key) {\n                options.library = namespace;\n              }\n            });\n          });\n        }\n      }\n\n      if (options.view instanceof chartstack.Visualization) {\n        $chart.view = options.view;\n      } else {\n        $chart.view = new chartstack.libraries[options.library][options.chartType](setupVis);\n      }\n\n\n      // Check datasource starts with { or [ assume it's JSON or else\n      // assume it's a URL to fetch.  We do not check for http anymore\n      // as it can be a local/relative file.\n\n      if (options.dataset instanceof chartstack.Dataset) {\n        $chart.dataset = options.dataset;\n\n      } else if (typeof setupData.dataset == 'string'){\n        $chart.dataset = new chartstack.Dataset(setupData.dataset.replace(/(\\r\\n|\\n|\\r|\\ )/g,\"\"));\n        $chart.dataset.resources[0].adapter = setupData.adapter || false;\n        $chart.dataset.resources[0].dataformat = setupData.dataformat || 'json';\n        $chart.dataset.resources[0].dateformat = setupData.dateformat || false;\n      }\n\n      $chart.dataset.on(\"complete\", function(data){\n        //console.log('data', this.data);\n        $chart.view.data = this.data;\n        $chart.view.trigger(\"update\", data);\n      });\n      $chart.dataset.fetch();\n    }\n\n    setup();\n  };\n\n  Chart.prototype = {\n\n    show : function(){\n      this.trigger('show');\n      return this;\n    },\n\n    hide : function(){\n      this.trigger('hide');\n      return this;\n    },\n\n    draw: function(){\n      this.trigger('draw');\n      return this;\n    },\n\n    fetch : function(){\n      this.dataset.fetch();\n      //cb || (cb = function(){});\n      //fetch(cb);\n      return this;\n    }\n\n  };\n  extend(Chart.prototype, Events);\n\n\n\n  // -----------------------------\n  // Private Methods\n  // -----------------------------\n  // Expose for plugin use\n  // -----------------------------\n\n  extend(chartstack, {\n    is : is,\n    each : each,\n    extend : extend,\n    noConflict : noConflict,\n    ready: ready,\n    get: get,\n    addAdapter : addAdapter,\n    parseDOM : parseDOM,\n    parseParams: parseParams,\n    buildQueryString: buildQueryString,\n    getAjax : getAjax,\n    getJSONP: getJSONP\n  });\n\n\n  // These three functions taken from:\n  // https://github.com/spocke/punymce\n  function is(o, t){\n    o = typeof(o);\n    if (!t){\n      return o != 'undefined';\n    }\n    return o == t;\n  }\n\n  function each(o, cb, s){\n    var n;\n    if (!o){\n      return 0;\n    }\n    s = !s ? o : s;\n    if (is(o.length)){\n      // Indexed arrays, needed for Safari\n      for (n=0; n<o.length; n++) {\n        if (cb.call(s, o[n], n, o) === false){\n          return 0;\n        }\n      }\n    } else {\n      // Hashtables\n      for (n in o){\n        if (o.hasOwnProperty(n)) {\n          if (cb.call(s, o[n], n, o) === false){\n            return 0;\n          }\n        }\n      }\n    }\n    return 1;\n  }\n\n  // Extend object e on to o.\n  function extend(o, e){\n    each(e, function(v, n){\n      o[n] = v;\n    });\n    return o;\n  }\n\n  function noConflict(){\n    root.chartstack = previousChartstack;\n    return this;\n  }\n\n  // DOM-ready queue method.\n  function ready(cb){\n    if (!isDomReady){\n      readyCallbacks.push(cb);\n    }else{\n      cb();\n    }\n  }\n\n  // Called when DOM and chart libs are loaded and ready.\n  function bootstrap (){\n    // If graph library isn't set in defaults, match provider to the first graph\n    // lib found on the page that we have an adapter for.\n    if (chartstack.defaults.library){\n      chartstack.library = chartstack.defaults.library;\n    } else {\n      for (var namespace in chartstack.libraries) {\n        if (namespace in window) {\n          chartstack.library = namespace;\n          break;\n        }\n      }\n    }\n\n    if (!chartstack.library){\n      throw new Error('No charting library located.');\n    }\n\n    // Parse the dom.\n    chartstack.parseDOM();\n    isDomReady = true;\n\n    // Bring moment.js into the mix\n    chartstack.moment = root.moment || false;\n\n    each(readyCallbacks, function(cb){\n      cb();\n    });\n  }\n\n  // Returns a chartstack object by html element id or element comparison.\n  function get(strOrEl){\n    var el = strOrEl.nodeName ? strOrEl : document.querySelector(strOrEl);\n    var matchedChart;\n\n    if (el){\n      each(chartstack.charts, function(chart){\n        if (el == chart.el){\n          matchedChart = chart;\n          return false;\n        }\n      });\n      return matchedChart;\n    }\n    throw(\"That element doesn't exist on the page.\");\n  }\n\n  // Adapters that normalize 3rd party api to a standard format.\n  function addAdapter(domain, configObj){\n    if (chartstack.is(configObj, 'function')){\n      adapters[domain] = configObj;\n    }else{\n      each(configObj, function(func, type){\n        // If domain doesn't exist, create the namespace.\n        if (!adapters[domain]){\n          adapters[domain] = {};\n        }\n        adapters[domain][type] = func;\n\n      });\n    }\n  }\n\n  // Parse the DOM and search for valid charting elements to turn to classes.\n  function parseDOM(){\n    var registeredNodes = [], retrievedNodes;\n    each(chartstack.libraries, function(library){\n      for (var key in library){\n        if (registeredNodes.indexOf(key) == -1) {\n          registeredNodes.push(key);\n        }\n      }\n    });\n    retrievedNodes = document.querySelectorAll(registeredNodes.join(','));\n    each(retrievedNodes, function(el){\n      // Ensure data attribute exists.\n      if (el.getAttribute('dataset')){\n        new Chart(el);\n      }\n    });\n  }\n\n  function parseParams(str){\n    // via http://stackoverflow.com/a/2880929/2511985\n    var urlParams = {},\n        match,\n        pl     = /\\+/g,  // Regex for replacing addition symbol with a space\n        search = /([^&=]+)=?([^&]*)/g,\n        decode = function (s) { return decodeURIComponent(s.replace(pl, \" \")); },\n        query  = str.split(\"?\")[1];\n\n    while (!!(match=search.exec(query))) {\n      urlParams[decode(match[1])] = decode(match[2]);\n    }\n    return urlParams;\n  }\n\n  function buildQueryString(params){\n    var query = [];\n    for (var key in params) {\n      if (params[key]) {\n        var value = params[key];\n        if (Object.prototype.toString.call(value) !== '[object String]') {\n          value = JSON.stringify(value);\n        }\n        value = encodeURIComponent(value);\n        query.push(key + '=' + value);\n      }\n    }\n    return \"?\" + query.join('&');\n  }\n\n  function getAjax(url, cb){\n    var xhr;\n    var createXHR = function(){\n      var xhr;\n      if (window.ActiveXObject){\n        try{\n          xhr = new ActiveXObject(\"Microsoft.XMLHTTP\");\n        }catch(e){\n          console.warn(e.message);\n          xhr = null;\n        }\n      }else{\n        xhr = new XMLHttpRequest();\n      }\n      return xhr;\n    };\n\n    xhr = createXHR();\n    xhr.onreadystatechange = function(){\n      if (xhr.readyState === 4){\n        cb(xhr.responseText);\n      }\n    };\n    xhr.open('GET', url, true);\n    xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n    xhr.send();\n  }\n\n  function getJSONP(url, success, error){\n    var callbackName = \"ChartstackJSONPCallback\" + new Date().getTime();\n    while (callbackName in window) {\n      callbackName += \"a\";\n    }\n    var loaded = false;\n    window[callbackName] = function (response) {\n      loaded = true;\n      if (success && response) {\n        success(response);\n      }\n      // Remove this from the namespace\n      window[callbackName] = undefined;\n    };\n    url = url + \"&jsonp=\" + callbackName;\n    var script = document.createElement(\"script\");\n    script.id = \"chartstack-jsonp\";\n    script.src = url;\n    document.getElementsByTagName(\"head\")[0].appendChild(script);\n    // for early IE w/ no onerror event\n    script.onreadystatechange = function() {\n      if (loaded === false && this.readyState === \"loaded\") {\n        loaded = true;\n        if (error) {\n          error();\n        }\n      }\n    };\n    // non-ie, etc\n    script.onerror = function() {\n      if (loaded === false) { // on IE9 both onerror and onreadystatechange are called\n        loaded = true;\n        if (error) {\n          error();\n        }\n      }\n    };\n  }\n\n  // Hack to support google charts.\n  if (window.google){\n    google.load('visualization', '1.0', {'packages':['corechart','table']});\n    google.setOnLoadCallback(bootstrap);\n  }else{\n    document.addEventListener(\"DOMContentLoaded\", bootstrap);\n  }\n})(this);\n","/* global chartstack */\n/* jshint camelcase: false */\n(function(cs){\n  var proto;\n  var each = chartstack.each;\n\n  cs.dataform = function(data, map) {\n    this.build(data, map);\n  };\n\n  proto = cs.dataform.prototype;\n\n  proto.build = function(data, map) {\n\n    // map.root\n    // map.each.index\n    // map.each.label\n    // map.each.value\n\n    var self = this, _root;\n    // root = data[map.root];\n    if (map.root == \"\") {\n      _root = [[data]];\n      //console.log('root', _root[0])\n    } else {\n      _root = parse.apply(self, [data].concat(map.root.split(\" -> \")));\n    }\n    self.root = _root[0],\n    self.map = map,\n    self.table = [],\n    self.series = [],\n    self.raw = data;\n\n    self.cols = (function(){\n      var split_index, split_value, output = { fixed: [] };\n\n      split_value = self.map.each.value.split(\" -> \");\n      split_index =  (self.map.each.index) ? self.map.each.index.split(\" -> \") : self.map.each.value.split(\" -> \");\n      output.fixed.push(split_index[split_index.length-1]);\n\n      if (self.map.each.label) {\n        output.cells = self.map.each.label.split(\" -> \");\n      } else {\n        output.fixed.push(split_value[split_value.length-1])\n      }\n      return output;\n\n      /*\n      if (self.map.each.index) {\n        split_index = self.map.each.index.split(\" -> \");\n        output.fixed.push(split_index[split_index.length-1]);\n      } else {\n        output.fixed.push('result');\n      }*/\n\n      /*var split_index = self.map.each.index.split(\" -> \");\n      var split_value = self.map.each.value.split(\" -> \");\n      var output = {\n        fixed: [split_index[split_index.length-1]]\n      };\n      if (self.map.each.label) {\n        output.cells = self.map.each.label.split(\" -> \");\n      } else {\n        output.fixed.push(split_value[split_value.length-1]);\n      }\n      return output;*/\n    })();\n\n\n    self.rows = {\n      index: (self.map.each.index) ? self.map.each.index.split(\" -> \") : ['result'],\n      cells: (self.map.each.value) ? self.map.each.value.split(\" -> \") : []\n    };\n\n    self.order = (function(){\n      var output = {};\n      if (self.map.sort) {\n        output.rows = self.map.sort.index || 'asc';\n        output.cols = self.map.sort.label || 'desc';\n      }\n      return output;\n    })();\n\n    // SORT ROWS\n    if (self.order.rows.length > 0) {\n      if (self.root instanceof Array) {\n        self.root.sort(function(a, b){\n          var aIndex = parse.apply(self, [a].concat(self.rows.index));\n          var bIndex = parse.apply(self, [b].concat(self.rows.index));\n\n          if (self.order.rows == 'asc') {\n            if (aIndex > bIndex){return 1;}\n            if (aIndex < bIndex){return -1;}\n            return 0;\n          } else {\n            if (aIndex > bIndex){return -1;}\n            if (aIndex < bIndex){return 1;}\n            return 0;\n          }\n\n          return false;\n        });\n      }\n    }\n\n    // ADD SERIES\n    (function(){\n      //var fixed, cells, output;\n      //self.cols.label = (self.cols.fixed.length > 0) ? self.cols.fixed[0] : 'series';\n      if (self.cols.fixed && self.cols.fixed[self.cols.fixed.length-1] == \"\") {\n        self.cols.label = self.cols.fixed[self.cols.fixed.length-1];\n        fixed = self.cols.fixed;\n        fixed.splice((fixed.length-1),1);\n      } else {\n        self.cols.label = fixed = self.cols.fixed[0];\n        fixed = self.cols.fixed;\n      }\n\n      //var fixed = (self.cols.fixed) ? self.cols.fixed : [];\n      var cells = (self.cols.cells) ? parse.apply(self, [self.root[0]].concat(self.cols.cells)) : [];\n      var output = fixed.concat(cells);\n      if (output.length > 1) {\n        output.splice(0,1);\n      }\n      each(output, function(el, i){\n        self.series.push({ key: el, values: [] });\n      });\n    })();\n\n    // ADD SERIES' RECORDS\n    if (self.root instanceof Array || typeof self.root == 'object') {\n      each(self.root, function(el){\n        var index = parse.apply(self, [el].concat(self.rows.index));\n        var cells = parse.apply(self, [el].concat(self.rows.cells));\n        //console.log(index, cells);\n        if (index.length > 1) {\n          each(index, function(key, j){\n            var output = {};\n            output[self.cols.label] = key;\n            output.value = cells[j];\n            self.series[0].values.push(output);\n          });\n        } else {\n          each(cells, function(cell, j){\n            var output = {};\n            output[self.cols.label] = index[0];\n            output.value = cell;\n            self.series[j].values.push(output);\n          });\n        }\n      });\n    } else {\n      (function(){\n        var output = {};\n        output[self.cols.label] = 'result';\n        output.value = self.root;\n        self.series[0].values.push(output);\n      })();\n    }\n\n\n    // SORT COLUMNS\n    if (self.order.cols.length > 0) {\n      self.series = self.series.sort(function(a, b){\n        var aTotal = 0;\n        var bTotal = 0;\n        each(a.values, function(record){\n          aTotal += record.value;\n        });\n        each(b.values, function(record){\n          bTotal += record.value;\n        });\n\n        if (self.order.cols == 'asc') {\n          return aTotal - bTotal;\n        } else {\n          return bTotal - aTotal;\n        }\n      });\n    }\n\n    // BUILD TABLE\n    self.table = [];\n\n    //console.log(self.cols.fixed, self.cols.index);\n    //if (self.cols.index) {\n      self.table.push([self.cols.label]);\n      each(self.series[0].values, function(value){\n        self.table.push([value[self.cols.label]]);\n      });\n    /*} else {\n      self.table.push([]);\n      each(self.series[0].values, function(value){\n        self.table.push([]);\n      });\n    }*/\n\n    each(self.series, function(series){\n      self.table[0].push(series.key);\n      each(series.values, function(record, j){\n        self.table[j+1].push(record.value);\n      });\n    });\n\n    // COLUMN TRANSFORMS\n    /*\n    if (setup.cols.transform) {\n      for (var transform in setup.cols.transform) {\n        if (transform == 'all') {\n          each(self.table[0], function(column, index){\n            if (index > 0) {\n              self.table[0][index] = setup.cols.transform[transform](self.table[0][index]);\n            }\n          });\n        } else {\n          transform = parseInt(transform);\n          if (self.table[0].length > transform) {\n            self.table[0][transform] = setup.cols.transform[transform](self.table[0][transform]);\n          }\n        }\n      }\n    }*/\n\n    // ROW TRANSFORMS\n    /*\n    if (setup.rows.transform) {\n      each(self.table, function(row, index){\n        if (index > 0) {\n          for (var transform in setup.rows.transform) {\n            self.table[index][transform] = setup.rows.transform[transform](self.table[index][transform]);\n          }\n        }\n      });\n    }*/\n\n    return this;\n  };\n\n  function parse() {\n    var result = [];\n    var loop = function() {\n      var root = arguments[0];\n      var args = Array.prototype.slice.call(arguments, 1);\n      var target = args.pop();\n\n      if (args.length === 0) {\n        if (root instanceof Array) {\n          args = root;\n        } else if (typeof root === 'object') {\n          args.push(root);\n        }\n      }\n\n      each(args, function(el){\n\n\n        if (target == \"\" && typeof el == \"number\") {\n          //console.log(typeof(el), el);\n          return result.push(el);\n        }\n        //\n\n        if (el[target] || el[target] === 0 || el[target] !== void 0) {\n          // Easy grab!\n          if (el[target] === null) {\n            return result.push('');\n          } else {\n            return result.push(el[target]);\n          }\n\n        } else if (root[el]){\n          if (root[el] instanceof Array) {\n            // dive through each array item\n\n            each(root[el], function(n, i) {\n              var splinter = [root[el]].concat(root[el][i]).concat(args.slice(1)).concat(target);\n              return loop.apply(this, splinter);\n            });\n\n          } else {\n            if (root[el][target]) {\n              // grab it!\n              return result.push(root[el][target]);\n\n            } else {\n              // dive down a level!\n              return loop.apply(this, [root[el]].concat(args.splice(1)).concat(target));\n\n            }\n          }\n\n        } else {\n          // dive down a level!\n          return loop.apply(this, [el].concat(args.splice(1)).concat(target));\n\n        }\n\n        return;\n\n      });\n      if (result.length > 0) {\n        return result;\n      }\n    };\n    return loop.apply(this, arguments);\n  }\n\n})(chartstack);\n","/* global chartstack */\n// Data normalizing adaper for keen.io API.\n(function(cs){\n  var each = cs.each;\n\n  cs.addAdapter('keen-io', function(response){\n    var self = this, data, output;\n    var map = self.map || false;\n    //var response = { result: 2450 };\n\n    // Default Response Map\n    if (!map) {\n\n      map = {\n        root: \"result\",\n        each: {},\n        sort: {\n          index: 'asc',\n          label: 'desc'\n        }\n      };\n\n      if (response.result instanceof Array) {\n\n        if (response.result[0]['value'] !== void 0){\n\n          if (response.result[0]['value'] instanceof Array) {\n            // Interval + Group_by\n\n            // Get value (interval result)\n            map.each.value = \"value -> result\";\n\n            // Get label (group_by field)\n            for (var key in response.result[0]['value'][0]){\n              if (key !== \"result\") {\n                map.each.label = \"value -> \" + key;\n                break;\n              }\n            }\n\n          } else {\n            // Interval, no Group_by\n            // Get value\n            map.each.value = \"value\";\n          }\n        }\n\n        if (response.result[0]['timeframe']) {\n          // Get index (start time)\n          map.each.index = \"timeframe -> start\";\n        }\n\n        if (response.result[0]['result']) {\n          // Get value (group_by)\n          map.each.value = \"result\";\n          for (var key in response.result[0]){\n            if (key !== \"result\") {\n              map.each.index = key;\n              break;\n            }\n          }\n        }\n\n        if (typeof response.result[0] == \"number\") {\n          map.root = \"\";\n          map.each.index = \"steps -> event_collection\";\n          map.each.value = \"result -> \";\n        }\n\n      } else {\n        // Metric: { result: 2450 } -> [['result'],[2450]]\n        /*data = {\n          table: [['result'], [response.result]],\n          series: [{ key: 'result', values: [{ value: response.result }] }]\n        };\n        output = data.table;*/\n        map.each.value = 'result';\n      }\n\n    }\n\n    data = new cs.dataform(response, map);\n    output = data.table;\n    // Date formatting\n    if (chartstack.moment) {\n      each(output, function(row, i){\n        each(row, function(cell, j){\n          if (j == 0) {\n            if (chartstack.moment(cell).isValid()) {\n              output[i][j] = (self.dateformat) ? chartstack.moment(cell).format(self.dateformat) : new Date(cell);\n            }\n          }\n        });\n      });\n    }\n    //console.log(data);\n    return output;\n  });\n\n})(chartstack);\n","/* global google, chartstack */\n(function(cs){\n  var each = cs.each;\n  var extend = cs.extend;\n\n  // -----------------------------\n  // Library Namespace\n  // -----------------------------\n\n  cs.Keen = cs.Keen || {};\n\n  // -----------------------------\n  // Type: Number\n  // -----------------------------\n\n  cs.Keen.Metric = cs.Visualization.extend({\n    initialize: function(){\n      var css = document.createElement(\"style\");\n      css.type = \"text/css\";\n      css.innerHTML = \".cs-widget {\n          background: #49c5b1;\n          border-radius: 4px;\n          color: #fff;\n          font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n          margin: 0 auto;\n          padding: 10px 0;\n          text-align: center;\n        }\n        .cs-widget-title {\n          display: block;\n          font-size: 84px;\n          font-weight: 700;\n          line-height: 84px;\n        }\n        .cs-widget-subtitle {\n          display: block;\n          font-size: 24px;\n          font-weight: 200;\n        }\";\n      document.body.appendChild(css);\n\n      this.render();\n    },\n    //render: function(){},\n    update: function(){\n      this.el.innerHTML = '' +\n        '<div class=\"cs-widget cs-number\" style=\"width:' + parseInt(this.chartOptions.width) + 'px;\">' +\n          '<span class=\"cs-widget-title\">' + this.data[0][1][1] + '</span>' +\n          '<span class=\"cs-widget-subtitle\">' + (this.chartOptions.title || 'Result') + '</span>' +\n        '</div>';\n    }\n  });\n\n\n  // -----------------------------\n  // Register Methods\n  // -----------------------------\n\n  cs.Visualization.register(\"keen-io\", {\n    \"metric\": cs.Keen.Metric\n  });\n\n})(chartstack);\n","/* global google, chartstack */\n(function(cs){\n  var each = cs.each;\n  var extend = cs.extend;\n\n  // -----------------------------\n  // Library Namespace\n  // -----------------------------\n\n  cs.GoogleCharts = cs.GoogleCharts || {};\n\n  // \"https://www.google.com/jsapi\"\n\n\n  // -----------------------------\n  // Type: Area chart\n  // -----------------------------\n\n  cs.GoogleCharts.AreaChart = cs.Visualization.extend({\n    initialize: function(){\n      //this.trigger('error', 'testing pie errors');\n      this.render();\n    },\n    render: function(){\n      this._chart = this._chart || new google.visualization.AreaChart(this.el);\n    },\n    update: function(){\n      var data = google.visualization.arrayToDataTable(this.data[0]);\n      var options = extend(this.chartOptions, {\n        title: this.chartOptions.title || '',\n        height: parseInt(this.chartOptions.height),\n        width: parseInt(this.chartOptions.width)\n      });\n      this._chart.draw(data, options);\n    }\n  });\n\n\n  // -----------------------------\n  // Type: Bar chart\n  // -----------------------------\n\n  cs.GoogleCharts.BarChart = cs.Visualization.extend({\n    initialize: function(){\n      //console.log('bar!', this);\n      this.render();\n    },\n    render: function(){\n      this._chart = this._chart || new google.visualization.BarChart(this.el);\n    },\n    update: function(){\n      var data = google.visualization.arrayToDataTable(this.data[0]);\n      var options = extend(this.chartOptions, {\n        title: this.chartOptions.title || '',\n        height: parseInt(this.chartOptions.height),\n        width: parseInt(this.chartOptions.width)\n      });\n      this._chart.draw(data, options);\n    }\n  });\n\n\n  // -----------------------------\n  // Type: Column chart\n  // -----------------------------\n\n  cs.GoogleCharts.ColumnChart = cs.Visualization.extend({\n    initialize: function(){\n      //console.log('bar!', this);\n      this.render();\n    },\n    render: function(){\n      this._chart = this._chart || new google.visualization.ColumnChart(this.el);\n      //this.chart.draw(data, options);\n    },\n    update: function(){\n      var data = google.visualization.arrayToDataTable(this.data[0]);\n      var options = extend(this.chartOptions, {\n        title: this.chartOptions.title || '',\n        height: parseInt(this.chartOptions.height),\n        width: parseInt(this.chartOptions.width)\n      });\n      this._chart.draw(data, options);\n    }\n  });\n\n\n  // -----------------------------\n  // Type: Line chart\n  // -----------------------------\n\n  cs.GoogleCharts.LineChart = cs.Visualization.extend({\n    initialize: function(){\n      this.render();\n    },\n    render: function(){\n      this._chart = this._chart || new google.visualization.LineChart(this.el);\n    },\n    update: function(){\n      var data = google.visualization.arrayToDataTable(this.data[0]);\n      var options = extend(this.chartOptions, {\n        title: this.chartOptions.title || '',\n        height: parseInt(this.chartOptions.height),\n        width: parseInt(this.chartOptions.width)\n      });\n      this._chart.draw(data, options);\n    }\n  });\n\n\n  // -----------------------------\n  // Type: Pie chart\n  // -----------------------------\n\n  cs.GoogleCharts.PieChart = cs.Visualization.extend({\n    initialize: function(){\n      this.render();\n    },\n    render: function(){\n      this._chart = this._chart || new google.visualization.PieChart(this.el);\n    },\n    update: function(){\n      var data = google.visualization.arrayToDataTable(this.data[0]);\n      var options = extend(this.chartOptions, {\n        title: this.chartOptions.title || '',\n        height: parseInt(this.chartOptions.height),\n        width: parseInt(this.chartOptions.width)\n      });\n      this._chart.draw(data, options);\n    }\n  });\n\n\n  // -----------------------------\n  // Type: Table\n  // -----------------------------\n\n  cs.GoogleCharts.DataTable = cs.Visualization.extend({\n    initialize: function(){\n      this.render();\n    },\n    render: function(){\n      this._chart = this._chart || new google.visualization.Table(this.el);\n      //this.chart.draw(data, options);\n    },\n    update: function(){\n      var data = google.visualization.arrayToDataTable(this.data[0]);\n      this._chart.draw(data, this.chartOptions);\n    }\n  });\n\n\n  // -----------------------------\n  // Register Methods\n  // -----------------------------\n\n  cs.Visualization.register(\"google\", {\n    \"areachart\": cs.GoogleCharts.AreaChart,\n    \"barchart\": cs.GoogleCharts.BarChart,\n    \"columnchart\": cs.GoogleCharts.ColumnChart,\n    \"linechart\": cs.GoogleCharts.LineChart,\n    \"piechart\": cs.GoogleCharts.PieChart,\n    \"datatable\": cs.GoogleCharts.DataTable\n  });\n\n})(chartstack);\n"]}
=======
{"version":3,"file":"chartstack.min.js","sources":["../src/chartstack.js","../src/utils/chartstack.dataform.js","../src/adapters/chartstack.keen-io.js","../src/libraries/chartstack.keen-widgets.js","../src/libraries/chartstack.googlecharts.js","../lib/momentjs/moment.js"],"names":["root","visualErrorHandler","console","log","arguments","is","o","t","each","cb","s","n","length","call","hasOwnProperty","extend","e","v","noConflict","chartstack","previousChartstack","this","ready","isDomReady","readyCallbacks","push","bootstrap","defaults","library","namespace","libraries","window","Error","parseDOM","moment","suppressDeprecationWarnings","get","strOrEl","matchedChart","el","nodeName","document","querySelector","charts","chart","addAdapter","domain","configObj","adapters","func","type","retrievedNodes","registeredNodes","key","indexOf","querySelectorAll","join","getAttribute","Chart","parseParams","str","match","urlParams","pl","search","decode","decodeURIComponent","replace","query","split","exec","buildQueryString","params","value","Object","prototype","toString","JSON","stringify","encodeURIComponent","getAjax","url","xhr","createXHR","ActiveXObject","warn","message","XMLHttpRequest","onreadystatechange","readyState","responseText","open","setRequestHeader","send","getJSONP","success","error","callbackName","Date","getTime","loaded","response","undefined","script","createElement","id","src","getElementsByTagName","appendChild","onerror","Events","transformers","json","data","parse","labels","on","name","callback","listeners","events","off","i","splice","trigger","args","Array","slice","apply","DataResource","config","option","configure","attribute","set","attributes","Dataset","resources","options","source","fetch","self","completions","responses","finish","index","transform","resource","successSequencer","adapter","at","Visualization","chartOptions","width","offsetWidth","update","initialize","render","remove","init","visual","register","methods","method","protoProps","staticProps","parent","constructor","Surrogate","__super__","setup","mapAttribute","val","setupData","setupVis","setupDom","setupJS","chartType","toLocaleLowerCase","style","display","k","concat","attr","test","newKey","nodeType","view","$chart","dataset","dataformat","dateformat","show","hide","draw","google","load","packages","setOnLoadCallback","addEventListener","cs","result","loop","target","pop","splinter","proto","dataform","map","build","_root","table","series","raw","cols","split_index","split_value","output","fixed","label","cells","rows","order","sort","a","b","aIndex","bIndex","values","j","cell","aTotal","bTotal","record","row","isValid","format","Keen","Metric","css","innerHTML","body","parseInt","title","metric","GoogleCharts","AreaChart","_chart","visualization","arrayToDataTable","height","BarChart","ColumnChart","LineChart","PieChart","DataTable","Table","areachart","barchart","columnchart","linechart","piechart","datatable","defaultParsingFlags","empty","unusedTokens","unusedInput","overflow","charsLeftOver","nullInput","invalidMonth","invalidFormat","userInvalidated","iso","deprecate","msg","fn","printMsg","firstTime","padToken","count","leftZeroFill","ordinalizeToken","period","lang","ordinal","Language","Moment","checkOverflow","Duration","duration","normalizedInput","normalizeObjectUnits","years","year","quarters","quarter","months","month","weeks","week","days","day","hours","hour","minutes","minute","seconds","second","milliseconds","millisecond","_milliseconds","_days","_months","_data","_bubble","valueOf","cloneMoment","m","momentProperties","absRound","number","Math","ceil","floor","targetLength","forceSign","abs","sign","addOrSubtractDurationFromMoment","mom","isAdding","updateOffset","_d","setTime","rawSetter","rawGetter","rawMonthSetter","isArray","input","isDate","compareArrays","array1","array2","dontConvert","len","min","lengthDiff","diffs","toInt","normalizeUnits","units","lowered","toLowerCase","unitAliases","camelFunctions","inputObject","normalizedProp","prop","makeList","field","setter","getter","_lang","results","utc","argumentForCoercion","coercedNumber","isFinite","daysInMonth","UTC","getUTCDate","weeksInYear","dow","doy","weekOfYear","daysInYear","isLeapYear","_a","_pf","MONTH","DATE","YEAR","HOUR","MINUTE","SECOND","MILLISECOND","_overflowDayOfYear","_isValid","isNaN","_strict","normalizeLanguage","makeAs","model","_isUTC","zone","_offset","local","loadLang","abbr","languages","unloadLang","getLangDefinition","next","hasModule","require","removeFormattingTokens","makeFormatFunction","array","formattingTokens","formatTokenFunctions","Function","formatMoment","expandFormat","formatFunctions","invalidDate","replaceLongDateFormatTokens","longDateFormat","localFormattingTokens","lastIndex","getParseRegexForToken","token","strict","parseTokenOneDigit","parseTokenThreeDigits","parseTokenFourDigits","parseTokenOneToFourDigits","parseTokenSignedNumber","parseTokenSixDigits","parseTokenOneToSixDigits","parseTokenTwoDigits","parseTokenOneToThreeDigits","parseTokenWord","_l","_meridiemParse","parseTokenTimestampMs","parseTokenTimezone","parseTokenT","parseTokenDigits","parseTokenOneOrTwoDigits","parseTokenOrdinal","RegExp","regexpEscape","unescapeFormat","timezoneMinutesFromString","string","possibleTzMatches","tzChunk","parts","parseTimezoneChunker","addTimeToArrayFromToken","datePartArray","monthsParse","_dayOfYear","parseTwoDigitYear","_isPm","isPM","parseFloat","_useUTC","_tzm","substr","_w","dateFromConfig","date","currentDate","yearToUse","fixYear","w","temp","weekday","currentDateArray","intVal","weekYear","GG","W","E","dayOfYearFromWeeks","d","parseWeekday","_week","gg","dayOfYear","makeUTCDate","getUTCMonth","makeDate","dateFromObject","_i","now","getUTCFullYear","getFullYear","getMonth","getDate","makeDateFromStringAndFormat","parsedInput","tokens","skipped","stringLength","totalParsedInputLength","_f","matched","p1","p2","p3","p4","makeDateFromStringAndArray","tempConfig","bestMoment","scoreToBeat","currentScore","NaN","score","makeDateFromString","l","isoRegex","isoDates","isoTimes","createFromInputFallback","makeDateFromInput","aspNetJsonRegex","y","h","M","ms","setFullYear","setUTCFullYear","language","weekdaysParse","substituteTimeAgo","withoutSuffix","isFuture","relativeTime","round","firstDayOfWeek","firstDayOfWeekOfYear","adjustedMoment","end","daysToDayOfWeek","add","daysToAdd","getUTCDay","makeMoment","invalid","preparse","isMoment","dayOfMonth","unit","makeAccessor","keepTime","makeDurationGetter","makeDurationAsGetter","factor","makeGlobal","shouldDeprecate","ender","oldGlobalMoment","globalScope","VERSION","global","_isAMomentObject","module","exports","aspNetTimeSpanJsonRegex","isoDurationRegex","isoFormat","unitMillisecondFactors","Milliseconds","Seconds","Minutes","Hours","Days","Months","Years","D","Q","DDD","dayofyear","isoweekday","isoweek","weekyear","isoweekyear","ordinalizeTokens","paddedTokens","MMM","monthsShort","MMMM","dd","weekdaysMin","ddd","weekdaysShort","dddd","weekdays","isoWeek","YY","YYYY","YYYYY","YYYYYY","gggg","ggggg","isoWeekYear","GGGG","GGGGG","isoWeekday","meridiem","A","H","S","SS","SSS","SSSS","Z","ZZ","z","zoneAbbr","zz","zoneName","X","unix","lists","DDDD","_monthsShort","monthName","regex","_monthsParse","_weekdays","_weekdaysShort","_weekdaysMin","weekdayName","_weekdaysParse","_longDateFormat","LT","L","LL","LLL","LLLL","toUpperCase","charAt","isLower","_calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","calendar","_relativeTime","future","past","mm","hh","MM","yy","pastFuture","diff","_ordinal","postformat","_invalidDate","c","ret","parseIso","isDuration","inp","res","version","defaultFormat","r","_abbr","langData","obj","flags","parseZone","clone","toDate","toISOString","toArray","isDSTShifted","parsingFlags","invalidAt","inputString","dur","subtract","asFloat","that","zoneDiff","startOf","from","time","humanize","fromNow","sod","isDST","getDay","endOf","isAfter","isBefore","isSame","other","max","offset","getTimezoneOffset","_changeInProgress","hasAlignedHourOffset","isoWeeksInYear","weekInfo","dates","isoWeeks","toJSON","withSuffix","difference","as","toIsoString","asSeconds","asMonths","define","amd","noGlobal"],"mappings":"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","sourcesContent":["/* global google */\n(function(root) {\n  var previousChartstack = root.chartstack;\n  var chartstack = root.chartstack = {};\n  var adapters, charts, Chart, Events, transformers, isDomReady, readyCallbacks = [];\n\n  // Placeholder for chartstack data adapters.\n  chartstack.adapters = adapters = {};\n\n  // Array of instantiated charts.\n  chartstack.charts = charts = [];\n\n  // Placeholder for transform data adapters.\n  chartstack.transformers = transformers = {\n    json : function(data){\n      if (typeof data == 'string'){\n        return JSON.parse(data);\n      }else{\n        return data;\n      }\n    }\n  };\n\n  // Defaults accessible from outside in case user wants to change them.\n  // DOM properties override defaults.\n  chartstack.defaults = extend({\n    labels: true\n  }, chartstack.defaults || {});\n\n\n  // -----------------------------\n  // Events class\n  // -----------------------------\n  // Extended by all classes that\n  // require event listeners\n  // -----------------------------\n\n  Events = chartstack.Events = {\n\n    on: function(name, callback) {\n      this.listeners || (this.listeners = {});\n      var events = this.listeners[name] || (this.listeners[name] = []);\n      events.push({callback: callback});\n      return this;\n    },\n\n    // once: function(name, callback) {},\n\n    off: function(name, callback) {\n      if (!name && !callback) {\n        this.listeners = void 0;\n        delete this.listeners;\n        return this;\n      }\n      var events = this.listeners[name] || [];\n      for (var i = events.length; i--;) {\n        if (callback && callback == events[i].callback) {\n          this.listeners[name].splice(i, 1);\n        }\n        if (!callback || events.length === 0) {\n          this.listeners[name] = void 0;\n          delete this.listeners[name];\n        }\n      }\n      return this;\n    },\n\n    trigger: function(name) {\n      if (!this.listeners) {\n        return this;\n      }\n      var args = Array.prototype.slice.call(arguments, 1);\n      var events = this.listeners[name] || [];\n      for (var i = 0; i < events.length; i++) {\n        events[i].callback.apply(this, args);\n      }\n      return this;\n    }\n\n  };\n  extend(chartstack, Events);\n\n\n\n  // -----------------------------\n  // DataResource class\n  // -----------------------------\n  // This class is never directly\n  // instantiated, but is managed\n  // by the Dataset class\n  // -----------------------------\n\n  chartstack.DataResource = function(config){\n    // Types: String (Data or URL), Object\n    if (typeof config === \"string\") {\n      if (config.match(/^({|\\[)/)) {\n        // Raw Data\n        this.response = JSON.parse(config);\n      } else {\n        // URL + Params\n        this.url = config;\n      }\n    } else {\n      for (var option in config) {\n        this[option] = config[option];\n      }\n    }\n    this.configure();\n  };\n\n  chartstack.DataResource.prototype = {\n    configure: function(){\n      if (this.url !== void 0 && this.url.indexOf(\"?\") !== -1 && this.params == void 0) {\n        this.params = chartstack.parseParams(this.url);\n        this.url = this.url.split(\"?\")[0];\n      }\n      return this;\n    },\n    get: function(attribute){\n      return this.params[attribute] || null;\n    },\n    set: function(attributes){\n      for (var attribute in attributes) {\n        this.params[attribute] = attributes[attribute];\n      }\n      return this;\n    }\n  };\n  extend(chartstack.DataResource.prototype, Events);\n\n\n  // -----------------------------\n  // Dataset class\n  // -----------------------------\n  // This class instantiates and\n  // manages instances of the\n  // DataResource class\n  // -----------------------------\n\n  chartstack.Dataset = function(config){\n    var resources = [], options = config || {};\n    if (options instanceof Array) {\n      each(options, function(source){\n        resources.push(new chartstack.DataResource(source));\n      });\n    } else {\n      resources.push(new chartstack.DataResource(options));\n    }\n    this.resources = resources;\n    return;\n  };\n\n  chartstack.Dataset.prototype = {\n\n    fetch: function(){\n      var self = this, completions = 0;\n\n      self.data = [];\n      self.responses = [];\n\n      var finish = function(response, index){\n        self.responses[index] = JSON.parse(response);\n        completions++;\n        if (completions == self.resources.length){\n          self.transform();\n        }\n      };\n\n      var error = function(){\n        //console.log('error');\n        return false;\n      };\n\n      each(self.resources, function(resource, index){\n        if (resource.url) {\n          var url = resource.url + buildQueryString(resource.params);\n          var successSequencer = function(response){\n            finish(response, index);\n          };\n          chartstack.getAjax(url, successSequencer, error);\n          //chartstack.getJSONP(url, successSequencer);\n        } else {\n          error();\n        }\n      });\n\n      return self;\n    },\n\n    transform: function() {\n      var self = this;\n      each(self.resources, function(resource, index){\n        var adapter = resource.adapter || 'default' || false;\n        var response = self.responses[index];\n        if (adapter) {\n          self.data[index] = chartstack.adapters[adapter].call(resource, response);\n        } else {\n          self.data[index] = response.data;\n        }\n\n      });\n      self.trigger(\"complete\", self.data[0]);\n      return self;\n    },\n\n    at: function(index){\n      //if (typeof index == \"string\") {\n      //  return this.resources where\n      //}\n      return this.resources[index] || null;\n    }\n\n  };\n  extend(chartstack.Dataset.prototype, Events);\n\n\n  // -----------------------------\n  // Visualization class\n  // -----------------------------\n  // This class is never directly\n  // instantiated, but extended\n  // by all library rendersets\n  // -----------------------------\n\n  chartstack.Visualization = function(config){\n    var self = this;\n    extend(self, config);\n\n    self.chartOptions = self.chartOptions || {};\n    self.chartOptions.width = self.chartOptions.width || self.el.offsetWidth;\n\n    // Set default event handlers\n    self.on(\"error\", function(){\n      visualErrorHandler.apply(this, arguments);\n    });\n    self.on(\"update\", function(){\n      self.update.apply(this, arguments);\n    });\n\n    // Let's kick it off!\n    this.initialize();\n  };\n\n  chartstack.Visualization.prototype = {\n    initialize: function(){\n      // Sets listeners and prepares data\n    },\n    render: function(){\n      // Builds artifacts\n    },\n    update: function(){\n      // Optional: handles data updates\n    },\n    remove: function(){\n      // Cleanup and DOM removal\n    }\n  };\n  extend(chartstack.Visualization.prototype, Events);\n\n  chartstack.libraries = {};\n\n  chartstack.attributes = {\n    data: ['adapter', 'dataset', 'dataformat', 'dateformat'],\n    init: ['library'],\n    visual: ['title', 'labels', 'height', 'width', 'colors']\n  };\n\n  chartstack.Visualization.register = function(name, methods, options){\n    chartstack.libraries[name] = chartstack.libraries[name] || {};\n    for (var method in methods) {\n      chartstack.libraries[name][method] = methods[method];\n    }\n    if (options !== void 0 && options.attributes !== void 0) {\n      each(options.attributes, function(attribute, index){\n        if (chartstack.attributes.visual.indexOf(attribute) == -1) {\n          chartstack.attributes.visual.push(options.attributes[index]);\n        }\n      });\n    }\n  };\n\n  chartstack.Visualization.extend = function(protoProps, staticProps){\n    var parent = this, Visualization;\n    if (protoProps && protoProps.hasOwnProperty('constructor')) {\n      Visualization = protoProps.constructor;\n    } else {\n      Visualization = function(){ return parent.apply(this, arguments); };\n    }\n    extend(Visualization, parent, staticProps);\n    var Surrogate = function(){ this.constructor = Visualization; };\n    Surrogate.prototype = parent.prototype;\n    Visualization.prototype = new Surrogate();\n    if (protoProps) {\n      extend(Visualization.prototype, protoProps);\n    }\n    Visualization.__super__ = parent.prototype;\n    return Visualization;\n  };\n\n  function visualErrorHandler(){\n    console.log(\"Error!\", arguments);\n  }\n\n\n\n  // -----------------------------\n  // Chart class\n  // -----------------------------\n  // Primary class encompassing\n  // every chartstack instance\n  // -----------------------------\n\n  chartstack.Chart = Chart = function(args) {\n    var $chart = this,\n    setupVis = { chartOptions: {} },\n    setupData = {},\n    options = args || {};\n\n    // Add to internal array.\n    chartstack.charts.push($chart);\n\n    // Collects properties off DOM element and inspects data source.\n    function setup(){\n      var setupDom, setupJS;\n      //var initAttributes, dataAttributes, visualAttributes;\n\n      setupDom = function(){\n        //$chart.el = args;\n        setupVis.el = options;\n\n        // Type of chart.\n        options.chartType = setupVis.el.nodeName.toLocaleLowerCase();\n\n        // Our made up HTML nodes are display: inline so we need to make\n        // them block;\n        setupVis.el.style.display = \"block\";\n        setupVis.style = {\n          display: \"inline-block\"\n        };\n      };\n\n      setupJS = function(){\n        //setupVis['el'] = options.el;\n      };\n\n      // Copy global defaults on to this chart.\n      each(chartstack.defaults, function(k, v){\n        setupVis[v] = k;\n      });\n\n      if ('nodeType' in options){\n        setupDom();\n      } else {\n        setupJS();\n      }\n\n      // Find properties on dom element to override defaults.\n      // Support arrays here so we can store the data under a different name.\n      // TODO: These strings should be objects with support for defaults and other options.\n\n      // Prev:\n      // titleTextColor, legendColor, colors, pieSliceBorderColor,\n      // pieSliceTextColor, backgroundColor, customOptions, formatRowLabel\n\n      each(chartstack.attributes.init.concat(chartstack.attributes.data, chartstack.attributes.visual), function(attr){\n        var test, newKey;\n\n        if (is(attr, 'object')){\n          newKey = attr[1];\n          attr = attr[0];\n        }\n        test = options.nodeType ? options.getAttribute(attr) : options[attr];\n        // If property exists, save it.\n        if (test){\n          // Support for real booleans.\n          if (test == 'false' || test == '0' || test == 'off'){\n            test = false;\n          } else if (test == 'true' || test == '1' || test == \"on\"){\n            test = true;\n          }\n\n          if (newKey){\n            mapAttribute(newKey, test);\n          } else {\n            mapAttribute(attr, test);\n          }\n        }\n      });\n\n      function mapAttribute(key, val){\n        var value = (typeof val === \"string\" && val.match(/^({|\\[)/)) ? JSON.parse(val.replace(/'/g, \"\\\"\")) : val;\n        if (chartstack.attributes.data.indexOf(key) !== -1) {\n          setupData[key] = value;\n        } else if (chartstack.attributes.init.indexOf(key) !== -1) {\n          options[key] = value;\n        } else {\n          setupVis.chartOptions[key] = value;\n        }\n      }\n\n      // If we don't have a designated library...\n      if (!options.library){\n        if(options.chartType in chartstack.libraries[chartstack.library] || options.view instanceof chartstack.Visualization) {\n          // Set global default if type matches\n          options.library = chartstack.library;\n        } else {\n          // Select library with matching type\n          each(chartstack.libraries, function(library, namespace){\n            each(library, function(value, key){\n              if (options.chartType == key) {\n                options.library = namespace;\n              }\n            });\n          });\n        }\n      }\n\n      if (options.view instanceof chartstack.Visualization) {\n        $chart.view = options.view;\n      } else {\n        $chart.view = new chartstack.libraries[options.library][options.chartType](setupVis);\n      }\n\n\n      // Check datasource starts with { or [ assume it's JSON or else\n      // assume it's a URL to fetch.  We do not check for http anymore\n      // as it can be a local/relative file.\n\n      if (options.dataset instanceof chartstack.Dataset) {\n        $chart.dataset = options.dataset;\n\n      } else if (typeof setupData.dataset == 'string'){\n        $chart.dataset = new chartstack.Dataset(setupData.dataset.replace(/(\\r\\n|\\n|\\r|\\ )/g,\"\"));\n        $chart.dataset.resources[0].adapter = setupData.adapter || false;\n        $chart.dataset.resources[0].dataformat = setupData.dataformat || 'json';\n        $chart.dataset.resources[0].dateformat = setupData.dateformat || false;\n      }\n\n      $chart.dataset.on(\"complete\", function(data){\n        //console.log('data', this.data);\n        $chart.view.data = this.data;\n        $chart.view.trigger(\"update\", data);\n      });\n      $chart.dataset.fetch();\n    }\n\n    setup();\n  };\n\n  Chart.prototype = {\n\n    show : function(){\n      this.trigger('show');\n      return this;\n    },\n\n    hide : function(){\n      this.trigger('hide');\n      return this;\n    },\n\n    draw: function(){\n      this.trigger('draw');\n      return this;\n    },\n\n    fetch : function(){\n      this.dataset.fetch();\n      //cb || (cb = function(){});\n      //fetch(cb);\n      return this;\n    }\n\n  };\n  extend(Chart.prototype, Events);\n\n\n\n  // -----------------------------\n  // Private Methods\n  // -----------------------------\n  // Expose for plugin use\n  // -----------------------------\n\n  extend(chartstack, {\n    is : is,\n    each : each,\n    extend : extend,\n    noConflict : noConflict,\n    ready: ready,\n    get: get,\n    addAdapter : addAdapter,\n    parseDOM : parseDOM,\n    parseParams: parseParams,\n    buildQueryString: buildQueryString,\n    getAjax : getAjax,\n    getJSONP: getJSONP\n  });\n\n\n  // These three functions taken from:\n  // https://github.com/spocke/punymce\n  function is(o, t){\n    o = typeof(o);\n    if (!t){\n      return o != 'undefined';\n    }\n    return o == t;\n  }\n\n  function each(o, cb, s){\n    var n;\n    if (!o){\n      return 0;\n    }\n    s = !s ? o : s;\n    if (is(o.length)){\n      // Indexed arrays, needed for Safari\n      for (n=0; n<o.length; n++) {\n        if (cb.call(s, o[n], n, o) === false){\n          return 0;\n        }\n      }\n    } else {\n      // Hashtables\n      for (n in o){\n        if (o.hasOwnProperty(n)) {\n          if (cb.call(s, o[n], n, o) === false){\n            return 0;\n          }\n        }\n      }\n    }\n    return 1;\n  }\n\n  // Extend object e on to o.\n  function extend(o, e){\n    each(e, function(v, n){\n      o[n] = v;\n    });\n    return o;\n  }\n\n  function noConflict(){\n    root.chartstack = previousChartstack;\n    return this;\n  }\n\n  // DOM-ready queue method.\n  function ready(cb){\n    if (!isDomReady){\n      readyCallbacks.push(cb);\n    }else{\n      cb();\n    }\n  }\n\n  // Called when DOM and chart libs are loaded and ready.\n  function bootstrap (){\n    // If graph library isn't set in defaults, match provider to the first graph\n    // lib found on the page that we have an adapter for.\n    if (chartstack.defaults.library){\n      chartstack.library = chartstack.defaults.library;\n    } else {\n      for (var namespace in chartstack.libraries) {\n        if (namespace in window) {\n          chartstack.library = namespace;\n          break;\n        }\n      }\n    }\n\n    if (!chartstack.library){\n      throw new Error('No charting library located.');\n    }\n\n    // Parse the dom.\n    chartstack.parseDOM();\n    isDomReady = true;\n\n    // Bring moment.js into the mix\n    chartstack.moment = root.moment || false;\n    if (chartstack.moment) {\n      chartstack.moment.suppressDeprecationWarnings = true;\n    }\n\n    each(readyCallbacks, function(cb){\n      cb();\n    });\n  }\n\n  // Returns a chartstack object by html element id or element comparison.\n  function get(strOrEl){\n    var el = strOrEl.nodeName ? strOrEl : document.querySelector(strOrEl);\n    var matchedChart;\n\n    if (el){\n      each(chartstack.charts, function(chart){\n        if (el == chart.el){\n          matchedChart = chart;\n          return false;\n        }\n      });\n      return matchedChart;\n    }\n    throw(\"That element doesn't exist on the page.\");\n  }\n\n  // Adapters that normalize 3rd party api to a standard format.\n  function addAdapter(domain, configObj){\n    if (chartstack.is(configObj, 'function')){\n      //adapters.push({ name: domain, adapte: configObj }); // [domain] = configObj;\n      adapters[domain] = configObj;\n    }else{\n      each(configObj, function(func, type){\n        // If domain doesn't exist, create the namespace.\n        if (!adapters[domain]){\n          adapters[domain] = {};\n        }\n        adapters[domain][type] = func;\n\n      });\n    }\n  }\n\n  // Parse the DOM and search for valid charting elements to turn to classes.\n  function parseDOM(){\n    var registeredNodes = [], retrievedNodes;\n    each(chartstack.libraries, function(library){\n      for (var key in library){\n        if (registeredNodes.indexOf(key) == -1) {\n          registeredNodes.push(key);\n        }\n      }\n    });\n    retrievedNodes = document.querySelectorAll(registeredNodes.join(','));\n    each(retrievedNodes, function(el){\n      // Ensure data attribute exists.\n      if (el.getAttribute('dataset')){\n        new Chart(el);\n      }\n    });\n  }\n\n  function parseParams(str){\n    // via http://stackoverflow.com/a/2880929/2511985\n    var urlParams = {},\n        match,\n        pl     = /\\+/g,  // Regex for replacing addition symbol with a space\n        search = /([^&=]+)=?([^&]*)/g,\n        decode = function (s) { return decodeURIComponent(s.replace(pl, \" \")); },\n        query  = str.split(\"?\")[1];\n\n    while (!!(match=search.exec(query))) {\n      urlParams[decode(match[1])] = decode(match[2]);\n    }\n    return urlParams;\n  }\n\n  function buildQueryString(params){\n    var query = [];\n    for (var key in params) {\n      if (params[key]) {\n        var value = params[key];\n        if (Object.prototype.toString.call(value) !== '[object String]') {\n          value = JSON.stringify(value);\n        }\n        value = encodeURIComponent(value);\n        query.push(key + '=' + value);\n      }\n    }\n    return \"?\" + query.join('&');\n  }\n\n  function getAjax(url, cb){\n    var xhr;\n    var createXHR = function(){\n      var xhr;\n      if (window.ActiveXObject){\n        try{\n          xhr = new ActiveXObject(\"Microsoft.XMLHTTP\");\n        }catch(e){\n          console.warn(e.message);\n          xhr = null;\n        }\n      }else{\n        xhr = new XMLHttpRequest();\n      }\n      return xhr;\n    };\n\n    xhr = createXHR();\n    xhr.onreadystatechange = function(){\n      if (xhr.readyState === 4){\n        cb(xhr.responseText);\n      }\n    };\n    xhr.open('GET', url, true);\n    xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n    xhr.send();\n  }\n\n  function getJSONP(url, success, error){\n    var callbackName = \"ChartstackJSONPCallback\" + new Date().getTime();\n    while (callbackName in window) {\n      callbackName += \"a\";\n    }\n    var loaded = false;\n    window[callbackName] = function (response) {\n      loaded = true;\n      if (success && response) {\n        success(response);\n      }\n      // Remove this from the namespace\n      window[callbackName] = undefined;\n    };\n    url = url + \"&jsonp=\" + callbackName;\n    var script = document.createElement(\"script\");\n    script.id = \"chartstack-jsonp\";\n    script.src = url;\n    document.getElementsByTagName(\"head\")[0].appendChild(script);\n    // for early IE w/ no onerror event\n    script.onreadystatechange = function() {\n      if (loaded === false && this.readyState === \"loaded\") {\n        loaded = true;\n        if (error) {\n          error();\n        }\n      }\n    };\n    // non-ie, etc\n    script.onerror = function() {\n      if (loaded === false) { // on IE9 both onerror and onreadystatechange are called\n        loaded = true;\n        if (error) {\n          error();\n        }\n      }\n    };\n  }\n\n  // Hack to support google charts.\n  if (window.google){\n    google.load('visualization', '1.0', {'packages':['corechart','table']});\n    google.setOnLoadCallback(bootstrap);\n  }else{\n    document.addEventListener(\"DOMContentLoaded\", bootstrap);\n  }\n})(this);\n","/* global chartstack */\n/* jshint camelcase: false */\n(function(cs){\n  var proto;\n  var each = chartstack.each;\n\n  cs.dataform = function(data, map) {\n    this.build(data, map);\n  };\n\n  proto = cs.dataform.prototype;\n\n  proto.build = function(data, map) {\n\n    // map.root\n    // map.each.index\n    // map.each.label\n    // map.each.value\n\n    var self = this, _root;\n    // root = data[map.root];\n    if (map.root == \"\") {\n      _root = [[data]];\n      //console.log('root', _root[0])\n    } else {\n      _root = parse.apply(self, [data].concat(map.root.split(\" -> \")));\n    }\n    self.root = _root[0],\n    self.map = map,\n    self.table = [],\n    self.series = [],\n    self.raw = data;\n\n    self.cols = (function(){\n      var split_index, split_value, output = { fixed: [] };\n\n      split_value = self.map.each.value.split(\" -> \");\n      split_index =  (self.map.each.index) ? self.map.each.index.split(\" -> \") : self.map.each.value.split(\" -> \");\n      output.fixed.push(split_index[split_index.length-1]);\n\n      if (self.map.each.label) {\n        output.cells = self.map.each.label.split(\" -> \");\n      } else {\n        output.fixed.push(split_value[split_value.length-1])\n      }\n      return output;\n\n      /*\n      if (self.map.each.index) {\n        split_index = self.map.each.index.split(\" -> \");\n        output.fixed.push(split_index[split_index.length-1]);\n      } else {\n        output.fixed.push('result');\n      }*/\n\n      /*var split_index = self.map.each.index.split(\" -> \");\n      var split_value = self.map.each.value.split(\" -> \");\n      var output = {\n        fixed: [split_index[split_index.length-1]]\n      };\n      if (self.map.each.label) {\n        output.cells = self.map.each.label.split(\" -> \");\n      } else {\n        output.fixed.push(split_value[split_value.length-1]);\n      }\n      return output;*/\n    })();\n\n\n    self.rows = {\n      index: (self.map.each.index) ? self.map.each.index.split(\" -> \") : ['result'],\n      cells: (self.map.each.value) ? self.map.each.value.split(\" -> \") : []\n    };\n\n    self.order = (function(){\n      var output = {};\n      if (self.map.sort) {\n        output.rows = self.map.sort.index || 'asc';\n        output.cols = self.map.sort.label || 'desc';\n      }\n      return output;\n    })();\n\n    // SORT ROWS\n    if (self.order.rows.length > 0) {\n      if (self.root instanceof Array) {\n        self.root.sort(function(a, b){\n          var aIndex = parse.apply(self, [a].concat(self.rows.index));\n          var bIndex = parse.apply(self, [b].concat(self.rows.index));\n\n          if (self.order.rows == 'asc') {\n            if (aIndex > bIndex){return 1;}\n            if (aIndex < bIndex){return -1;}\n            return 0;\n          } else {\n            if (aIndex > bIndex){return -1;}\n            if (aIndex < bIndex){return 1;}\n            return 0;\n          }\n\n          return false;\n        });\n      }\n    }\n\n    // ADD SERIES\n    (function(){\n      //var fixed, cells, output;\n      //self.cols.label = (self.cols.fixed.length > 0) ? self.cols.fixed[0] : 'series';\n      if (self.cols.fixed && self.cols.fixed[self.cols.fixed.length-1] == \"\") {\n        self.cols.label = self.cols.fixed[self.cols.fixed.length-1];\n        fixed = self.cols.fixed;\n        fixed.splice((fixed.length-1),1);\n      } else {\n        self.cols.label = fixed = self.cols.fixed[0];\n        fixed = self.cols.fixed;\n      }\n\n      //var fixed = (self.cols.fixed) ? self.cols.fixed : [];\n      var cells = (self.cols.cells) ? parse.apply(self, [self.root[0]].concat(self.cols.cells)) : [];\n      var output = fixed.concat(cells);\n      if (output.length > 1) {\n        output.splice(0,1);\n      }\n      each(output, function(el, i){\n        self.series.push({ key: el, values: [] });\n      });\n    })();\n\n    // ADD SERIES' RECORDS\n    if (self.root instanceof Array || typeof self.root == 'object') {\n      each(self.root, function(el){\n        var index = parse.apply(self, [el].concat(self.rows.index));\n        var cells = parse.apply(self, [el].concat(self.rows.cells));\n        //console.log(index, cells);\n        if (index.length > 1) {\n          each(index, function(key, j){\n            var output = {};\n            output[self.cols.label] = key;\n            output.value = cells[j];\n            self.series[0].values.push(output);\n          });\n        } else {\n          each(cells, function(cell, j){\n            var output = {};\n            output[self.cols.label] = index[0];\n            output.value = cell;\n            self.series[j].values.push(output);\n          });\n        }\n      });\n    } else {\n      (function(){\n        var output = {};\n        output[self.cols.label] = 'result';\n        output.value = self.root;\n        self.series[0].values.push(output);\n      })();\n    }\n\n\n    // SORT COLUMNS\n    if (self.order.cols.length > 0) {\n      self.series = self.series.sort(function(a, b){\n        var aTotal = 0;\n        var bTotal = 0;\n        each(a.values, function(record){\n          aTotal += record.value;\n        });\n        each(b.values, function(record){\n          bTotal += record.value;\n        });\n\n        if (self.order.cols == 'asc') {\n          return aTotal - bTotal;\n        } else {\n          return bTotal - aTotal;\n        }\n      });\n    }\n\n    // BUILD TABLE\n    self.table = [];\n\n    //console.log(self.cols.fixed, self.cols.index);\n    //if (self.cols.index) {\n      self.table.push([self.cols.label]);\n      each(self.series[0].values, function(value){\n        self.table.push([value[self.cols.label]]);\n      });\n    /*} else {\n      self.table.push([]);\n      each(self.series[0].values, function(value){\n        self.table.push([]);\n      });\n    }*/\n\n    each(self.series, function(series){\n      self.table[0].push(series.key);\n      each(series.values, function(record, j){\n        self.table[j+1].push(record.value);\n      });\n    });\n\n    // COLUMN TRANSFORMS\n    /*\n    if (setup.cols.transform) {\n      for (var transform in setup.cols.transform) {\n        if (transform == 'all') {\n          each(self.table[0], function(column, index){\n            if (index > 0) {\n              self.table[0][index] = setup.cols.transform[transform](self.table[0][index]);\n            }\n          });\n        } else {\n          transform = parseInt(transform);\n          if (self.table[0].length > transform) {\n            self.table[0][transform] = setup.cols.transform[transform](self.table[0][transform]);\n          }\n        }\n      }\n    }*/\n\n    // ROW TRANSFORMS\n    /*\n    if (setup.rows.transform) {\n      each(self.table, function(row, index){\n        if (index > 0) {\n          for (var transform in setup.rows.transform) {\n            self.table[index][transform] = setup.rows.transform[transform](self.table[index][transform]);\n          }\n        }\n      });\n    }*/\n\n    return this;\n  };\n\n  function parse() {\n    var result = [];\n    var loop = function() {\n      var root = arguments[0];\n      var args = Array.prototype.slice.call(arguments, 1);\n      var target = args.pop();\n\n      if (args.length === 0) {\n        if (root instanceof Array) {\n          args = root;\n        } else if (typeof root === 'object') {\n          args.push(root);\n        }\n      }\n\n      each(args, function(el){\n\n\n        if (target == \"\" && typeof el == \"number\") {\n          //console.log(typeof(el), el);\n          return result.push(el);\n        }\n        //\n\n        if (el[target] || el[target] === 0 || el[target] !== void 0) {\n          // Easy grab!\n          if (el[target] === null) {\n            return result.push('');\n          } else {\n            return result.push(el[target]);\n          }\n\n        } else if (root[el]){\n          if (root[el] instanceof Array) {\n            // dive through each array item\n\n            each(root[el], function(n, i) {\n              var splinter = [root[el]].concat(root[el][i]).concat(args.slice(1)).concat(target);\n              return loop.apply(this, splinter);\n            });\n\n          } else {\n            if (root[el][target]) {\n              // grab it!\n              return result.push(root[el][target]);\n\n            } else {\n              // dive down a level!\n              return loop.apply(this, [root[el]].concat(args.splice(1)).concat(target));\n\n            }\n          }\n\n        } else {\n          // dive down a level!\n          return loop.apply(this, [el].concat(args.splice(1)).concat(target));\n\n        }\n\n        return;\n\n      });\n      if (result.length > 0) {\n        return result;\n      }\n    };\n    return loop.apply(this, arguments);\n  }\n\n})(chartstack);\n","/* global chartstack */\n// Data normalizing adaper for keen.io API.\n(function(cs){\n  var each = cs.each;\n\n  cs.addAdapter('keen-io', function(response){\n    var self = this, data, output;\n    var map = self.map || false;\n    //var response = { result: 2450 };\n\n    // Default Response Map\n    if (!map) {\n\n      map = {\n        root: \"result\",\n        each: {},\n        sort: {\n          index: 'asc',\n          label: 'desc'\n        }\n      };\n\n      if (response.result instanceof Array) {\n\n        if (response.result[0]['value'] !== void 0){\n\n          if (response.result[0]['value'] instanceof Array) {\n            // Interval + Group_by\n\n            // Get value (interval result)\n            map.each.value = \"value -> result\";\n\n            // Get label (group_by field)\n            for (var key in response.result[0]['value'][0]){\n              if (key !== \"result\") {\n                map.each.label = \"value -> \" + key;\n                break;\n              }\n            }\n\n          } else {\n            // Interval, no Group_by\n            // Get value\n            map.each.value = \"value\";\n          }\n        }\n\n        if (response.result[0]['timeframe']) {\n          // Get index (start time)\n          map.each.index = \"timeframe -> start\";\n        }\n\n        if (response.result[0]['result']) {\n          // Get value (group_by)\n          map.each.value = \"result\";\n          for (var key in response.result[0]){\n            if (key !== \"result\") {\n              map.each.index = key;\n              break;\n            }\n          }\n        }\n\n        if (typeof response.result[0] == \"number\") {\n          map.root = \"\";\n          map.each.index = \"steps -> event_collection\";\n          map.each.value = \"result -> \";\n        }\n\n      } else {\n        // Metric: { result: 2450 } -> [['result'],[2450]]\n        /*data = {\n          table: [['result'], [response.result]],\n          series: [{ key: 'result', values: [{ value: response.result }] }]\n        };\n        output = data.table;*/\n        map.each.value = 'result';\n      }\n\n    }\n\n    data = new cs.dataform(response, map);\n    output = data.table;\n    \n    // Date formatting\n    if (chartstack.moment) {\n      each(output, function(row, i){\n        each(row, function(cell, j){\n          if (j == 0) {\n            if (moment(cell).isValid()) {\n              output[i][j] = (self.dateformat) ? chartstack.moment(cell).format(self.dateformat) : new Date(cell);\n            }\n          }\n        });\n      });\n    }\n    //console.log(data);\n    return output;\n  });\n\n})(chartstack);\n","/* global google, chartstack */\n(function(cs){\n  var each = cs.each;\n  var extend = cs.extend;\n\n  // -----------------------------\n  // Library Namespace\n  // -----------------------------\n\n  cs.Keen = cs.Keen || {};\n\n  // -----------------------------\n  // Type: Number\n  // -----------------------------\n\n  cs.Keen.Metric = cs.Visualization.extend({\n    initialize: function(){\n      var css = document.createElement(\"style\");\n      css.type = \"text/css\";\n      css.innerHTML = \".cs-widget {\n          background: #49c5b1;\n          border-radius: 4px;\n          color: #fff;\n          font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n          margin: 0 auto;\n          padding: 10px 0;\n          text-align: center;\n        }\n        .cs-widget-title {\n          display: block;\n          font-size: 84px;\n          font-weight: 700;\n          line-height: 84px;\n        }\n        .cs-widget-subtitle {\n          display: block;\n          font-size: 24px;\n          font-weight: 200;\n        }\";\n      document.body.appendChild(css);\n\n      this.render();\n    },\n    //render: function(){},\n    update: function(){\n      this.el.innerHTML = '' +\n        '<div class=\"cs-widget cs-number\" style=\"width:' + parseInt(this.chartOptions.width) + 'px;\">' +\n          '<span class=\"cs-widget-title\">' + this.data[0][1][1] + '</span>' +\n          '<span class=\"cs-widget-subtitle\">' + (this.chartOptions.title || 'Result') + '</span>' +\n        '</div>';\n    }\n  });\n\n\n  // -----------------------------\n  // Register Methods\n  // -----------------------------\n\n  cs.Visualization.register(\"keen-io\", {\n    \"metric\": cs.Keen.Metric\n  });\n\n})(chartstack);\n","/* global google, chartstack */\n(function(cs){\n  var each = cs.each;\n  var extend = cs.extend;\n\n  // -----------------------------\n  // Library Namespace\n  // -----------------------------\n\n  cs.GoogleCharts = cs.GoogleCharts || {};\n\n  // \"https://www.google.com/jsapi\"\n\n\n  // -----------------------------\n  // Type: Area chart\n  // -----------------------------\n\n  cs.GoogleCharts.AreaChart = cs.Visualization.extend({\n    initialize: function(){\n      //this.trigger('error', 'testing pie errors');\n      this.render();\n    },\n    render: function(){\n      this._chart = this._chart || new google.visualization.AreaChart(this.el);\n    },\n    update: function(){\n      var data = google.visualization.arrayToDataTable(this.data[0]);\n      var options = extend(this.chartOptions, {\n        title: this.chartOptions.title || '',\n        height: parseInt(this.chartOptions.height),\n        width: parseInt(this.chartOptions.width)\n      });\n      this._chart.draw(data, options);\n    }\n  });\n\n\n  // -----------------------------\n  // Type: Bar chart\n  // -----------------------------\n\n  cs.GoogleCharts.BarChart = cs.Visualization.extend({\n    initialize: function(){\n      //console.log('bar!', this);\n      this.render();\n    },\n    render: function(){\n      this._chart = this._chart || new google.visualization.BarChart(this.el);\n    },\n    update: function(){\n      var data = google.visualization.arrayToDataTable(this.data[0]);\n      var options = extend(this.chartOptions, {\n        title: this.chartOptions.title || '',\n        height: parseInt(this.chartOptions.height),\n        width: parseInt(this.chartOptions.width)\n      });\n      this._chart.draw(data, options);\n    }\n  });\n\n\n  // -----------------------------\n  // Type: Column chart\n  // -----------------------------\n\n  cs.GoogleCharts.ColumnChart = cs.Visualization.extend({\n    initialize: function(){\n      //console.log('bar!', this);\n      this.render();\n    },\n    render: function(){\n      this._chart = this._chart || new google.visualization.ColumnChart(this.el);\n      //this.chart.draw(data, options);\n    },\n    update: function(){\n      var data = google.visualization.arrayToDataTable(this.data[0]);\n      var options = extend(this.chartOptions, {\n        title: this.chartOptions.title || '',\n        height: parseInt(this.chartOptions.height),\n        width: parseInt(this.chartOptions.width)\n      });\n      this._chart.draw(data, options);\n    }\n  });\n\n\n  // -----------------------------\n  // Type: Line chart\n  // -----------------------------\n\n  cs.GoogleCharts.LineChart = cs.Visualization.extend({\n    initialize: function(){\n      this.render();\n    },\n    render: function(){\n      this._chart = this._chart || new google.visualization.LineChart(this.el);\n    },\n    update: function(){\n      var data = google.visualization.arrayToDataTable(this.data[0]);\n      var options = extend(this.chartOptions, {\n        title: this.chartOptions.title || '',\n        height: parseInt(this.chartOptions.height),\n        width: parseInt(this.chartOptions.width)\n      });\n      this._chart.draw(data, options);\n    }\n  });\n\n\n  // -----------------------------\n  // Type: Pie chart\n  // -----------------------------\n\n  cs.GoogleCharts.PieChart = cs.Visualization.extend({\n    initialize: function(){\n      this.render();\n    },\n    render: function(){\n      this._chart = this._chart || new google.visualization.PieChart(this.el);\n    },\n    update: function(){\n      var data = google.visualization.arrayToDataTable(this.data[0]);\n      var options = extend(this.chartOptions, {\n        title: this.chartOptions.title || '',\n        height: parseInt(this.chartOptions.height),\n        width: parseInt(this.chartOptions.width)\n      });\n      this._chart.draw(data, options);\n    }\n  });\n\n\n  // -----------------------------\n  // Type: Table\n  // -----------------------------\n\n  cs.GoogleCharts.DataTable = cs.Visualization.extend({\n    initialize: function(){\n      this.render();\n    },\n    render: function(){\n      this._chart = this._chart || new google.visualization.Table(this.el);\n      //this.chart.draw(data, options);\n    },\n    update: function(){\n      var data = google.visualization.arrayToDataTable(this.data[0]);\n      this._chart.draw(data, this.chartOptions);\n    }\n  });\n\n\n  // -----------------------------\n  // Register Methods\n  // -----------------------------\n\n  cs.Visualization.register(\"google\", {\n    \"areachart\": cs.GoogleCharts.AreaChart,\n    \"barchart\": cs.GoogleCharts.BarChart,\n    \"columnchart\": cs.GoogleCharts.ColumnChart,\n    \"linechart\": cs.GoogleCharts.LineChart,\n    \"piechart\": cs.GoogleCharts.PieChart,\n    \"datatable\": cs.GoogleCharts.DataTable\n  }, {\n    \"attributes\": [\n      \"animation\",\n      \"backgroundColor\",\n      \"bar\",\n      \"chartArea\",\n      \"fontName\",\n      \"fontSize\",\n      \"isStacked\",\n      \"hAxis\",\n      \"legend\",\n      \"orientation\",\n      \"titleTextStyle\",\n      \"tooltip\",\n      \"vAxis\"\n    ]\n  });\n\n})(chartstack);\n","//! moment.js\n//! version : 2.6.0\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n\n(function (undefined) {\n\n    /************************************\n        Constants\n    ************************************/\n\n    var moment,\n        VERSION = \"2.6.0\",\n        // the global-scope this is NOT the global object in Node.js\n        globalScope = typeof global !== 'undefined' ? global : this,\n        oldGlobalMoment,\n        round = Math.round,\n        i,\n\n        YEAR = 0,\n        MONTH = 1,\n        DATE = 2,\n        HOUR = 3,\n        MINUTE = 4,\n        SECOND = 5,\n        MILLISECOND = 6,\n\n        // internal storage for language config files\n        languages = {},\n\n        // moment internal properties\n        momentProperties = {\n            _isAMomentObject: null,\n            _i : null,\n            _f : null,\n            _l : null,\n            _strict : null,\n            _isUTC : null,\n            _offset : null,  // optional. Combine with _isUTC\n            _pf : null,\n            _lang : null  // optional\n        },\n\n        // check for nodeJS\n        hasModule = (typeof module !== 'undefined' && module.exports),\n\n        // ASP.NET json date format regex\n        aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i,\n        aspNetTimeSpanJsonRegex = /(\\-)?(?:(\\d*)\\.)?(\\d+)\\:(\\d+)(?:\\:(\\d+)\\.?(\\d{3})?)?/,\n\n        // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n        // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n        isoDurationRegex = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,\n\n        // format tokens\n        formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,\n        localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LT|LL?L?L?|l{1,4})/g,\n\n        // parsing token regexes\n        parseTokenOneOrTwoDigits = /\\d\\d?/, // 0 - 99\n        parseTokenOneToThreeDigits = /\\d{1,3}/, // 0 - 999\n        parseTokenOneToFourDigits = /\\d{1,4}/, // 0 - 9999\n        parseTokenOneToSixDigits = /[+\\-]?\\d{1,6}/, // -999,999 - 999,999\n        parseTokenDigits = /\\d+/, // nonzero number of digits\n        parseTokenWord = /[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i, // any word (or two) characters or numbers including two/three word month in arabic.\n        parseTokenTimezone = /Z|[\\+\\-]\\d\\d:?\\d\\d/gi, // +00:00 -00:00 +0000 -0000 or Z\n        parseTokenT = /T/i, // T (ISO separator)\n        parseTokenTimestampMs = /[\\+\\-]?\\d+(\\.\\d{1,3})?/, // 123456789 123456789.123\n        parseTokenOrdinal = /\\d{1,2}/,\n\n        //strict parsing regexes\n        parseTokenOneDigit = /\\d/, // 0 - 9\n        parseTokenTwoDigits = /\\d\\d/, // 00 - 99\n        parseTokenThreeDigits = /\\d{3}/, // 000 - 999\n        parseTokenFourDigits = /\\d{4}/, // 0000 - 9999\n        parseTokenSixDigits = /[+-]?\\d{6}/, // -999,999 - 999,999\n        parseTokenSignedNumber = /[+-]?\\d+/, // -inf - inf\n\n        // iso 8601 regex\n        // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\n        isoRegex = /^\\s*(?:[+-]\\d{6}|\\d{4})-(?:(\\d\\d-\\d\\d)|(W\\d\\d$)|(W\\d\\d-\\d)|(\\d\\d\\d))((T| )(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d+)?)?)?)?([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,\n\n        isoFormat = 'YYYY-MM-DDTHH:mm:ssZ',\n\n        isoDates = [\n            ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d{2}-\\d{2}/],\n            ['YYYY-MM-DD', /\\d{4}-\\d{2}-\\d{2}/],\n            ['GGGG-[W]WW-E', /\\d{4}-W\\d{2}-\\d/],\n            ['GGGG-[W]WW', /\\d{4}-W\\d{2}/],\n            ['YYYY-DDD', /\\d{4}-\\d{3}/]\n        ],\n\n        // iso time formats and regexes\n        isoTimes = [\n            ['HH:mm:ss.SSSS', /(T| )\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n            ['HH:mm:ss', /(T| )\\d\\d:\\d\\d:\\d\\d/],\n            ['HH:mm', /(T| )\\d\\d:\\d\\d/],\n            ['HH', /(T| )\\d\\d/]\n        ],\n\n        // timezone chunker \"+10:00\" > [\"10\", \"00\"] or \"-1530\" > [\"-15\", \"30\"]\n        parseTimezoneChunker = /([\\+\\-]|\\d\\d)/gi,\n\n        // getter and setter names\n        proxyGettersAndSetters = 'Date|Hours|Minutes|Seconds|Milliseconds'.split('|'),\n        unitMillisecondFactors = {\n            'Milliseconds' : 1,\n            'Seconds' : 1e3,\n            'Minutes' : 6e4,\n            'Hours' : 36e5,\n            'Days' : 864e5,\n            'Months' : 2592e6,\n            'Years' : 31536e6\n        },\n\n        unitAliases = {\n            ms : 'millisecond',\n            s : 'second',\n            m : 'minute',\n            h : 'hour',\n            d : 'day',\n            D : 'date',\n            w : 'week',\n            W : 'isoWeek',\n            M : 'month',\n            Q : 'quarter',\n            y : 'year',\n            DDD : 'dayOfYear',\n            e : 'weekday',\n            E : 'isoWeekday',\n            gg: 'weekYear',\n            GG: 'isoWeekYear'\n        },\n\n        camelFunctions = {\n            dayofyear : 'dayOfYear',\n            isoweekday : 'isoWeekday',\n            isoweek : 'isoWeek',\n            weekyear : 'weekYear',\n            isoweekyear : 'isoWeekYear'\n        },\n\n        // format function strings\n        formatFunctions = {},\n\n        // tokens to ordinalize and pad\n        ordinalizeTokens = 'DDD w W M D d'.split(' '),\n        paddedTokens = 'M D H h m s w W'.split(' '),\n\n        formatTokenFunctions = {\n            M    : function () {\n                return this.month() + 1;\n            },\n            MMM  : function (format) {\n                return this.lang().monthsShort(this, format);\n            },\n            MMMM : function (format) {\n                return this.lang().months(this, format);\n            },\n            D    : function () {\n                return this.date();\n            },\n            DDD  : function () {\n                return this.dayOfYear();\n            },\n            d    : function () {\n                return this.day();\n            },\n            dd   : function (format) {\n                return this.lang().weekdaysMin(this, format);\n            },\n            ddd  : function (format) {\n                return this.lang().weekdaysShort(this, format);\n            },\n            dddd : function (format) {\n                return this.lang().weekdays(this, format);\n            },\n            w    : function () {\n                return this.week();\n            },\n            W    : function () {\n                return this.isoWeek();\n            },\n            YY   : function () {\n                return leftZeroFill(this.year() % 100, 2);\n            },\n            YYYY : function () {\n                return leftZeroFill(this.year(), 4);\n            },\n            YYYYY : function () {\n                return leftZeroFill(this.year(), 5);\n            },\n            YYYYYY : function () {\n                var y = this.year(), sign = y >= 0 ? '+' : '-';\n                return sign + leftZeroFill(Math.abs(y), 6);\n            },\n            gg   : function () {\n                return leftZeroFill(this.weekYear() % 100, 2);\n            },\n            gggg : function () {\n                return leftZeroFill(this.weekYear(), 4);\n            },\n            ggggg : function () {\n                return leftZeroFill(this.weekYear(), 5);\n            },\n            GG   : function () {\n                return leftZeroFill(this.isoWeekYear() % 100, 2);\n            },\n            GGGG : function () {\n                return leftZeroFill(this.isoWeekYear(), 4);\n            },\n            GGGGG : function () {\n                return leftZeroFill(this.isoWeekYear(), 5);\n            },\n            e : function () {\n                return this.weekday();\n            },\n            E : function () {\n                return this.isoWeekday();\n            },\n            a    : function () {\n                return this.lang().meridiem(this.hours(), this.minutes(), true);\n            },\n            A    : function () {\n                return this.lang().meridiem(this.hours(), this.minutes(), false);\n            },\n            H    : function () {\n                return this.hours();\n            },\n            h    : function () {\n                return this.hours() % 12 || 12;\n            },\n            m    : function () {\n                return this.minutes();\n            },\n            s    : function () {\n                return this.seconds();\n            },\n            S    : function () {\n                return toInt(this.milliseconds() / 100);\n            },\n            SS   : function () {\n                return leftZeroFill(toInt(this.milliseconds() / 10), 2);\n            },\n            SSS  : function () {\n                return leftZeroFill(this.milliseconds(), 3);\n            },\n            SSSS : function () {\n                return leftZeroFill(this.milliseconds(), 3);\n            },\n            Z    : function () {\n                var a = -this.zone(),\n                    b = \"+\";\n                if (a < 0) {\n                    a = -a;\n                    b = \"-\";\n                }\n                return b + leftZeroFill(toInt(a / 60), 2) + \":\" + leftZeroFill(toInt(a) % 60, 2);\n            },\n            ZZ   : function () {\n                var a = -this.zone(),\n                    b = \"+\";\n                if (a < 0) {\n                    a = -a;\n                    b = \"-\";\n                }\n                return b + leftZeroFill(toInt(a / 60), 2) + leftZeroFill(toInt(a) % 60, 2);\n            },\n            z : function () {\n                return this.zoneAbbr();\n            },\n            zz : function () {\n                return this.zoneName();\n            },\n            X    : function () {\n                return this.unix();\n            },\n            Q : function () {\n                return this.quarter();\n            }\n        },\n\n        lists = ['months', 'monthsShort', 'weekdays', 'weekdaysShort', 'weekdaysMin'];\n\n    function defaultParsingFlags() {\n        // We need to deep clone this object, and es5 standard is not very\n        // helpful.\n        return {\n            empty : false,\n            unusedTokens : [],\n            unusedInput : [],\n            overflow : -2,\n            charsLeftOver : 0,\n            nullInput : false,\n            invalidMonth : null,\n            invalidFormat : false,\n            userInvalidated : false,\n            iso: false\n        };\n    }\n\n    function deprecate(msg, fn) {\n        var firstTime = true;\n        function printMsg() {\n            if (moment.suppressDeprecationWarnings === false &&\n                    typeof console !== 'undefined' && console.warn) {\n                console.warn(\"Deprecation warning: \" + msg);\n            }\n        }\n        return extend(function () {\n            if (firstTime) {\n                printMsg();\n                firstTime = false;\n            }\n            return fn.apply(this, arguments);\n        }, fn);\n    }\n\n    function padToken(func, count) {\n        return function (a) {\n            return leftZeroFill(func.call(this, a), count);\n        };\n    }\n    function ordinalizeToken(func, period) {\n        return function (a) {\n            return this.lang().ordinal(func.call(this, a), period);\n        };\n    }\n\n    while (ordinalizeTokens.length) {\n        i = ordinalizeTokens.pop();\n        formatTokenFunctions[i + 'o'] = ordinalizeToken(formatTokenFunctions[i], i);\n    }\n    while (paddedTokens.length) {\n        i = paddedTokens.pop();\n        formatTokenFunctions[i + i] = padToken(formatTokenFunctions[i], 2);\n    }\n    formatTokenFunctions.DDDD = padToken(formatTokenFunctions.DDD, 3);\n\n\n    /************************************\n        Constructors\n    ************************************/\n\n    function Language() {\n\n    }\n\n    // Moment prototype object\n    function Moment(config) {\n        checkOverflow(config);\n        extend(this, config);\n    }\n\n    // Duration Constructor\n    function Duration(duration) {\n        var normalizedInput = normalizeObjectUnits(duration),\n            years = normalizedInput.year || 0,\n            quarters = normalizedInput.quarter || 0,\n            months = normalizedInput.month || 0,\n            weeks = normalizedInput.week || 0,\n            days = normalizedInput.day || 0,\n            hours = normalizedInput.hour || 0,\n            minutes = normalizedInput.minute || 0,\n            seconds = normalizedInput.second || 0,\n            milliseconds = normalizedInput.millisecond || 0;\n\n        // representation for dateAddRemove\n        this._milliseconds = +milliseconds +\n            seconds * 1e3 + // 1000\n            minutes * 6e4 + // 1000 * 60\n            hours * 36e5; // 1000 * 60 * 60\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = +days +\n            weeks * 7;\n        // It is impossible translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = +months +\n            quarters * 3 +\n            years * 12;\n\n        this._data = {};\n\n        this._bubble();\n    }\n\n    /************************************\n        Helpers\n    ************************************/\n\n\n    function extend(a, b) {\n        for (var i in b) {\n            if (b.hasOwnProperty(i)) {\n                a[i] = b[i];\n            }\n        }\n\n        if (b.hasOwnProperty(\"toString\")) {\n            a.toString = b.toString;\n        }\n\n        if (b.hasOwnProperty(\"valueOf\")) {\n            a.valueOf = b.valueOf;\n        }\n\n        return a;\n    }\n\n    function cloneMoment(m) {\n        var result = {}, i;\n        for (i in m) {\n            if (m.hasOwnProperty(i) && momentProperties.hasOwnProperty(i)) {\n                result[i] = m[i];\n            }\n        }\n\n        return result;\n    }\n\n    function absRound(number) {\n        if (number < 0) {\n            return Math.ceil(number);\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    // left zero fill a number\n    // see http://jsperf.com/left-zero-filling for performance comparison\n    function leftZeroFill(number, targetLength, forceSign) {\n        var output = '' + Math.abs(number),\n            sign = number >= 0;\n\n        while (output.length < targetLength) {\n            output = '0' + output;\n        }\n        return (sign ? (forceSign ? '+' : '') : '-') + output;\n    }\n\n    // helper function for _.addTime and _.subtractTime\n    function addOrSubtractDurationFromMoment(mom, duration, isAdding, updateOffset) {\n        var milliseconds = duration._milliseconds,\n            days = duration._days,\n            months = duration._months;\n        updateOffset = updateOffset == null ? true : updateOffset;\n\n        if (milliseconds) {\n            mom._d.setTime(+mom._d + milliseconds * isAdding);\n        }\n        if (days) {\n            rawSetter(mom, 'Date', rawGetter(mom, 'Date') + days * isAdding);\n        }\n        if (months) {\n            rawMonthSetter(mom, rawGetter(mom, 'Month') + months * isAdding);\n        }\n        if (updateOffset) {\n            moment.updateOffset(mom, days || months);\n        }\n    }\n\n    // check if is an array\n    function isArray(input) {\n        return Object.prototype.toString.call(input) === '[object Array]';\n    }\n\n    function isDate(input) {\n        return  Object.prototype.toString.call(input) === '[object Date]' ||\n                input instanceof Date;\n    }\n\n    // compare two arrays, return the number of differences\n    function compareArrays(array1, array2, dontConvert) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if ((dontConvert && array1[i] !== array2[i]) ||\n                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    function normalizeUnits(units) {\n        if (units) {\n            var lowered = units.toLowerCase().replace(/(.)s$/, '$1');\n            units = unitAliases[units] || camelFunctions[lowered] || lowered;\n        }\n        return units;\n    }\n\n    function normalizeObjectUnits(inputObject) {\n        var normalizedInput = {},\n            normalizedProp,\n            prop;\n\n        for (prop in inputObject) {\n            if (inputObject.hasOwnProperty(prop)) {\n                normalizedProp = normalizeUnits(prop);\n                if (normalizedProp) {\n                    normalizedInput[normalizedProp] = inputObject[prop];\n                }\n            }\n        }\n\n        return normalizedInput;\n    }\n\n    function makeList(field) {\n        var count, setter;\n\n        if (field.indexOf('week') === 0) {\n            count = 7;\n            setter = 'day';\n        }\n        else if (field.indexOf('month') === 0) {\n            count = 12;\n            setter = 'month';\n        }\n        else {\n            return;\n        }\n\n        moment[field] = function (format, index) {\n            var i, getter,\n                method = moment.fn._lang[field],\n                results = [];\n\n            if (typeof format === 'number') {\n                index = format;\n                format = undefined;\n            }\n\n            getter = function (i) {\n                var m = moment().utc().set(setter, i);\n                return method.call(moment.fn._lang, m, format || '');\n            };\n\n            if (index != null) {\n                return getter(index);\n            }\n            else {\n                for (i = 0; i < count; i++) {\n                    results.push(getter(i));\n                }\n                return results;\n            }\n        };\n    }\n\n    function toInt(argumentForCoercion) {\n        var coercedNumber = +argumentForCoercion,\n            value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            if (coercedNumber >= 0) {\n                value = Math.floor(coercedNumber);\n            } else {\n                value = Math.ceil(coercedNumber);\n            }\n        }\n\n        return value;\n    }\n\n    function daysInMonth(year, month) {\n        return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();\n    }\n\n    function weeksInYear(year, dow, doy) {\n        return weekOfYear(moment([year, 11, 31 + dow - doy]), dow, doy).week;\n    }\n\n    function daysInYear(year) {\n        return isLeapYear(year) ? 366 : 365;\n    }\n\n    function isLeapYear(year) {\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n\n    function checkOverflow(m) {\n        var overflow;\n        if (m._a && m._pf.overflow === -2) {\n            overflow =\n                m._a[MONTH] < 0 || m._a[MONTH] > 11 ? MONTH :\n                m._a[DATE] < 1 || m._a[DATE] > daysInMonth(m._a[YEAR], m._a[MONTH]) ? DATE :\n                m._a[HOUR] < 0 || m._a[HOUR] > 23 ? HOUR :\n                m._a[MINUTE] < 0 || m._a[MINUTE] > 59 ? MINUTE :\n                m._a[SECOND] < 0 || m._a[SECOND] > 59 ? SECOND :\n                m._a[MILLISECOND] < 0 || m._a[MILLISECOND] > 999 ? MILLISECOND :\n                -1;\n\n            if (m._pf._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n                overflow = DATE;\n            }\n\n            m._pf.overflow = overflow;\n        }\n    }\n\n    function isValid(m) {\n        if (m._isValid == null) {\n            m._isValid = !isNaN(m._d.getTime()) &&\n                m._pf.overflow < 0 &&\n                !m._pf.empty &&\n                !m._pf.invalidMonth &&\n                !m._pf.nullInput &&\n                !m._pf.invalidFormat &&\n                !m._pf.userInvalidated;\n\n            if (m._strict) {\n                m._isValid = m._isValid &&\n                    m._pf.charsLeftOver === 0 &&\n                    m._pf.unusedTokens.length === 0;\n            }\n        }\n        return m._isValid;\n    }\n\n    function normalizeLanguage(key) {\n        return key ? key.toLowerCase().replace('_', '-') : key;\n    }\n\n    // Return a moment from input, that is local/utc/zone equivalent to model.\n    function makeAs(input, model) {\n        return model._isUTC ? moment(input).zone(model._offset || 0) :\n            moment(input).local();\n    }\n\n    /************************************\n        Languages\n    ************************************/\n\n\n    extend(Language.prototype, {\n\n        set : function (config) {\n            var prop, i;\n            for (i in config) {\n                prop = config[i];\n                if (typeof prop === 'function') {\n                    this[i] = prop;\n                } else {\n                    this['_' + i] = prop;\n                }\n            }\n        },\n\n        _months : \"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),\n        months : function (m) {\n            return this._months[m.month()];\n        },\n\n        _monthsShort : \"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\".split(\"_\"),\n        monthsShort : function (m) {\n            return this._monthsShort[m.month()];\n        },\n\n        monthsParse : function (monthName) {\n            var i, mom, regex;\n\n            if (!this._monthsParse) {\n                this._monthsParse = [];\n            }\n\n            for (i = 0; i < 12; i++) {\n                // make the regex if we don't have it already\n                if (!this._monthsParse[i]) {\n                    mom = moment.utc([2000, i]);\n                    regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n                    this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n                }\n                // test the regex\n                if (this._monthsParse[i].test(monthName)) {\n                    return i;\n                }\n            }\n        },\n\n        _weekdays : \"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),\n        weekdays : function (m) {\n            return this._weekdays[m.day()];\n        },\n\n        _weekdaysShort : \"Sun_Mon_Tue_Wed_Thu_Fri_Sat\".split(\"_\"),\n        weekdaysShort : function (m) {\n            return this._weekdaysShort[m.day()];\n        },\n\n        _weekdaysMin : \"Su_Mo_Tu_We_Th_Fr_Sa\".split(\"_\"),\n        weekdaysMin : function (m) {\n            return this._weekdaysMin[m.day()];\n        },\n\n        weekdaysParse : function (weekdayName) {\n            var i, mom, regex;\n\n            if (!this._weekdaysParse) {\n                this._weekdaysParse = [];\n            }\n\n            for (i = 0; i < 7; i++) {\n                // make the regex if we don't have it already\n                if (!this._weekdaysParse[i]) {\n                    mom = moment([2000, 1]).day(i);\n                    regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n                    this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n                }\n                // test the regex\n                if (this._weekdaysParse[i].test(weekdayName)) {\n                    return i;\n                }\n            }\n        },\n\n        _longDateFormat : {\n            LT : \"h:mm A\",\n            L : \"MM/DD/YYYY\",\n            LL : \"MMMM D YYYY\",\n            LLL : \"MMMM D YYYY LT\",\n            LLLL : \"dddd, MMMM D YYYY LT\"\n        },\n        longDateFormat : function (key) {\n            var output = this._longDateFormat[key];\n            if (!output && this._longDateFormat[key.toUpperCase()]) {\n                output = this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function (val) {\n                    return val.slice(1);\n                });\n                this._longDateFormat[key] = output;\n            }\n            return output;\n        },\n\n        isPM : function (input) {\n            // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n            // Using charAt should be more compatible.\n            return ((input + '').toLowerCase().charAt(0) === 'p');\n        },\n\n        _meridiemParse : /[ap]\\.?m?\\.?/i,\n        meridiem : function (hours, minutes, isLower) {\n            if (hours > 11) {\n                return isLower ? 'pm' : 'PM';\n            } else {\n                return isLower ? 'am' : 'AM';\n            }\n        },\n\n        _calendar : {\n            sameDay : '[Today at] LT',\n            nextDay : '[Tomorrow at] LT',\n            nextWeek : 'dddd [at] LT',\n            lastDay : '[Yesterday at] LT',\n            lastWeek : '[Last] dddd [at] LT',\n            sameElse : 'L'\n        },\n        calendar : function (key, mom) {\n            var output = this._calendar[key];\n            return typeof output === 'function' ? output.apply(mom) : output;\n        },\n\n        _relativeTime : {\n            future : \"in %s\",\n            past : \"%s ago\",\n            s : \"a few seconds\",\n            m : \"a minute\",\n            mm : \"%d minutes\",\n            h : \"an hour\",\n            hh : \"%d hours\",\n            d : \"a day\",\n            dd : \"%d days\",\n            M : \"a month\",\n            MM : \"%d months\",\n            y : \"a year\",\n            yy : \"%d years\"\n        },\n        relativeTime : function (number, withoutSuffix, string, isFuture) {\n            var output = this._relativeTime[string];\n            return (typeof output === 'function') ?\n                output(number, withoutSuffix, string, isFuture) :\n                output.replace(/%d/i, number);\n        },\n        pastFuture : function (diff, output) {\n            var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n            return typeof format === 'function' ? format(output) : format.replace(/%s/i, output);\n        },\n\n        ordinal : function (number) {\n            return this._ordinal.replace(\"%d\", number);\n        },\n        _ordinal : \"%d\",\n\n        preparse : function (string) {\n            return string;\n        },\n\n        postformat : function (string) {\n            return string;\n        },\n\n        week : function (mom) {\n            return weekOfYear(mom, this._week.dow, this._week.doy).week;\n        },\n\n        _week : {\n            dow : 0, // Sunday is the first day of the week.\n            doy : 6  // The week that contains Jan 1st is the first week of the year.\n        },\n\n        _invalidDate: 'Invalid date',\n        invalidDate: function () {\n            return this._invalidDate;\n        }\n    });\n\n    // Loads a language definition into the `languages` cache.  The function\n    // takes a key and optionally values.  If not in the browser and no values\n    // are provided, it will load the language file module.  As a convenience,\n    // this function also returns the language values.\n    function loadLang(key, values) {\n        values.abbr = key;\n        if (!languages[key]) {\n            languages[key] = new Language();\n        }\n        languages[key].set(values);\n        return languages[key];\n    }\n\n    // Remove a language from the `languages` cache. Mostly useful in tests.\n    function unloadLang(key) {\n        delete languages[key];\n    }\n\n    // Determines which language definition to use and returns it.\n    //\n    // With no parameters, it will return the global language.  If you\n    // pass in a language key, such as 'en', it will return the\n    // definition for 'en', so long as 'en' has already been loaded using\n    // moment.lang.\n    function getLangDefinition(key) {\n        var i = 0, j, lang, next, split,\n            get = function (k) {\n                if (!languages[k] && hasModule) {\n                    try {\n                        require('./lang/' + k);\n                    } catch (e) { }\n                }\n                return languages[k];\n            };\n\n        if (!key) {\n            return moment.fn._lang;\n        }\n\n        if (!isArray(key)) {\n            //short-circuit everything else\n            lang = get(key);\n            if (lang) {\n                return lang;\n            }\n            key = [key];\n        }\n\n        //pick the language from the array\n        //try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n        //substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n        while (i < key.length) {\n            split = normalizeLanguage(key[i]).split('-');\n            j = split.length;\n            next = normalizeLanguage(key[i + 1]);\n            next = next ? next.split('-') : null;\n            while (j > 0) {\n                lang = get(split.slice(0, j).join('-'));\n                if (lang) {\n                    return lang;\n                }\n                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                    //the next array item is better than a shallower substring of this one\n                    break;\n                }\n                j--;\n            }\n            i++;\n        }\n        return moment.fn._lang;\n    }\n\n    /************************************\n        Formatting\n    ************************************/\n\n\n    function removeFormattingTokens(input) {\n        if (input.match(/\\[[\\s\\S]/)) {\n            return input.replace(/^\\[|\\]$/g, \"\");\n        }\n        return input.replace(/\\\\/g, \"\");\n    }\n\n    function makeFormatFunction(format) {\n        var array = format.match(formattingTokens), i, length;\n\n        for (i = 0, length = array.length; i < length; i++) {\n            if (formatTokenFunctions[array[i]]) {\n                array[i] = formatTokenFunctions[array[i]];\n            } else {\n                array[i] = removeFormattingTokens(array[i]);\n            }\n        }\n\n        return function (mom) {\n            var output = \"\";\n            for (i = 0; i < length; i++) {\n                output += array[i] instanceof Function ? array[i].call(mom, format) : array[i];\n            }\n            return output;\n        };\n    }\n\n    // format date using native date object\n    function formatMoment(m, format) {\n\n        if (!m.isValid()) {\n            return m.lang().invalidDate();\n        }\n\n        format = expandFormat(format, m.lang());\n\n        if (!formatFunctions[format]) {\n            formatFunctions[format] = makeFormatFunction(format);\n        }\n\n        return formatFunctions[format](m);\n    }\n\n    function expandFormat(format, lang) {\n        var i = 5;\n\n        function replaceLongDateFormatTokens(input) {\n            return lang.longDateFormat(input) || input;\n        }\n\n        localFormattingTokens.lastIndex = 0;\n        while (i >= 0 && localFormattingTokens.test(format)) {\n            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n            localFormattingTokens.lastIndex = 0;\n            i -= 1;\n        }\n\n        return format;\n    }\n\n\n    /************************************\n        Parsing\n    ************************************/\n\n\n    // get the regex to find the next token\n    function getParseRegexForToken(token, config) {\n        var a, strict = config._strict;\n        switch (token) {\n        case 'Q':\n            return parseTokenOneDigit;\n        case 'DDDD':\n            return parseTokenThreeDigits;\n        case 'YYYY':\n        case 'GGGG':\n        case 'gggg':\n            return strict ? parseTokenFourDigits : parseTokenOneToFourDigits;\n        case 'Y':\n        case 'G':\n        case 'g':\n            return parseTokenSignedNumber;\n        case 'YYYYYY':\n        case 'YYYYY':\n        case 'GGGGG':\n        case 'ggggg':\n            return strict ? parseTokenSixDigits : parseTokenOneToSixDigits;\n        case 'S':\n            if (strict) { return parseTokenOneDigit; }\n            /* falls through */\n        case 'SS':\n            if (strict) { return parseTokenTwoDigits; }\n            /* falls through */\n        case 'SSS':\n            if (strict) { return parseTokenThreeDigits; }\n            /* falls through */\n        case 'DDD':\n            return parseTokenOneToThreeDigits;\n        case 'MMM':\n        case 'MMMM':\n        case 'dd':\n        case 'ddd':\n        case 'dddd':\n            return parseTokenWord;\n        case 'a':\n        case 'A':\n            return getLangDefinition(config._l)._meridiemParse;\n        case 'X':\n            return parseTokenTimestampMs;\n        case 'Z':\n        case 'ZZ':\n            return parseTokenTimezone;\n        case 'T':\n            return parseTokenT;\n        case 'SSSS':\n            return parseTokenDigits;\n        case 'MM':\n        case 'DD':\n        case 'YY':\n        case 'GG':\n        case 'gg':\n        case 'HH':\n        case 'hh':\n        case 'mm':\n        case 'ss':\n        case 'ww':\n        case 'WW':\n            return strict ? parseTokenTwoDigits : parseTokenOneOrTwoDigits;\n        case 'M':\n        case 'D':\n        case 'd':\n        case 'H':\n        case 'h':\n        case 'm':\n        case 's':\n        case 'w':\n        case 'W':\n        case 'e':\n        case 'E':\n            return parseTokenOneOrTwoDigits;\n        case 'Do':\n            return parseTokenOrdinal;\n        default :\n            a = new RegExp(regexpEscape(unescapeFormat(token.replace('\\\\', '')), \"i\"));\n            return a;\n        }\n    }\n\n    function timezoneMinutesFromString(string) {\n        string = string || \"\";\n        var possibleTzMatches = (string.match(parseTokenTimezone) || []),\n            tzChunk = possibleTzMatches[possibleTzMatches.length - 1] || [],\n            parts = (tzChunk + '').match(parseTimezoneChunker) || ['-', 0, 0],\n            minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n        return parts[0] === '+' ? -minutes : minutes;\n    }\n\n    // function to convert string input to date\n    function addTimeToArrayFromToken(token, input, config) {\n        var a, datePartArray = config._a;\n\n        switch (token) {\n        // QUARTER\n        case 'Q':\n            if (input != null) {\n                datePartArray[MONTH] = (toInt(input) - 1) * 3;\n            }\n            break;\n        // MONTH\n        case 'M' : // fall through to MM\n        case 'MM' :\n            if (input != null) {\n                datePartArray[MONTH] = toInt(input) - 1;\n            }\n            break;\n        case 'MMM' : // fall through to MMMM\n        case 'MMMM' :\n            a = getLangDefinition(config._l).monthsParse(input);\n            // if we didn't find a month name, mark the date as invalid.\n            if (a != null) {\n                datePartArray[MONTH] = a;\n            } else {\n                config._pf.invalidMonth = input;\n            }\n            break;\n        // DAY OF MONTH\n        case 'D' : // fall through to DD\n        case 'DD' :\n            if (input != null) {\n                datePartArray[DATE] = toInt(input);\n            }\n            break;\n        case 'Do' :\n            if (input != null) {\n                datePartArray[DATE] = toInt(parseInt(input, 10));\n            }\n            break;\n        // DAY OF YEAR\n        case 'DDD' : // fall through to DDDD\n        case 'DDDD' :\n            if (input != null) {\n                config._dayOfYear = toInt(input);\n            }\n\n            break;\n        // YEAR\n        case 'YY' :\n            datePartArray[YEAR] = moment.parseTwoDigitYear(input);\n            break;\n        case 'YYYY' :\n        case 'YYYYY' :\n        case 'YYYYYY' :\n            datePartArray[YEAR] = toInt(input);\n            break;\n        // AM / PM\n        case 'a' : // fall through to A\n        case 'A' :\n            config._isPm = getLangDefinition(config._l).isPM(input);\n            break;\n        // 24 HOUR\n        case 'H' : // fall through to hh\n        case 'HH' : // fall through to hh\n        case 'h' : // fall through to hh\n        case 'hh' :\n            datePartArray[HOUR] = toInt(input);\n            break;\n        // MINUTE\n        case 'm' : // fall through to mm\n        case 'mm' :\n            datePartArray[MINUTE] = toInt(input);\n            break;\n        // SECOND\n        case 's' : // fall through to ss\n        case 'ss' :\n            datePartArray[SECOND] = toInt(input);\n            break;\n        // MILLISECOND\n        case 'S' :\n        case 'SS' :\n        case 'SSS' :\n        case 'SSSS' :\n            datePartArray[MILLISECOND] = toInt(('0.' + input) * 1000);\n            break;\n        // UNIX TIMESTAMP WITH MS\n        case 'X':\n            config._d = new Date(parseFloat(input) * 1000);\n            break;\n        // TIMEZONE\n        case 'Z' : // fall through to ZZ\n        case 'ZZ' :\n            config._useUTC = true;\n            config._tzm = timezoneMinutesFromString(input);\n            break;\n        case 'w':\n        case 'ww':\n        case 'W':\n        case 'WW':\n        case 'd':\n        case 'dd':\n        case 'ddd':\n        case 'dddd':\n        case 'e':\n        case 'E':\n            token = token.substr(0, 1);\n            /* falls through */\n        case 'gg':\n        case 'gggg':\n        case 'GG':\n        case 'GGGG':\n        case 'GGGGG':\n            token = token.substr(0, 2);\n            if (input) {\n                config._w = config._w || {};\n                config._w[token] = input;\n            }\n            break;\n        }\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function dateFromConfig(config) {\n        var i, date, input = [], currentDate,\n            yearToUse, fixYear, w, temp, lang, weekday, week;\n\n        if (config._d) {\n            return;\n        }\n\n        currentDate = currentDateArray(config);\n\n        //compute day of the year from weeks and weekdays\n        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n            fixYear = function (val) {\n                var intVal = parseInt(val, 10);\n                return val ?\n                  (val.length < 3 ? (intVal > 68 ? 1900 + intVal : 2000 + intVal) : intVal) :\n                  (config._a[YEAR] == null ? moment().weekYear() : config._a[YEAR]);\n            };\n\n            w = config._w;\n            if (w.GG != null || w.W != null || w.E != null) {\n                temp = dayOfYearFromWeeks(fixYear(w.GG), w.W || 1, w.E, 4, 1);\n            }\n            else {\n                lang = getLangDefinition(config._l);\n                weekday = w.d != null ?  parseWeekday(w.d, lang) :\n                  (w.e != null ?  parseInt(w.e, 10) + lang._week.dow : 0);\n\n                week = parseInt(w.w, 10) || 1;\n\n                //if we're parsing 'd', then the low day numbers may be next week\n                if (w.d != null && weekday < lang._week.dow) {\n                    week++;\n                }\n\n                temp = dayOfYearFromWeeks(fixYear(w.gg), week, weekday, lang._week.doy, lang._week.dow);\n            }\n\n            config._a[YEAR] = temp.year;\n            config._dayOfYear = temp.dayOfYear;\n        }\n\n        //if the day of the year is set, figure out what it is\n        if (config._dayOfYear) {\n            yearToUse = config._a[YEAR] == null ? currentDate[YEAR] : config._a[YEAR];\n\n            if (config._dayOfYear > daysInYear(yearToUse)) {\n                config._pf._overflowDayOfYear = true;\n            }\n\n            date = makeUTCDate(yearToUse, 0, config._dayOfYear);\n            config._a[MONTH] = date.getUTCMonth();\n            config._a[DATE] = date.getUTCDate();\n        }\n\n        // Default to current date.\n        // * if no year, month, day of month are given, default to today\n        // * if day of month is given, default month and year\n        // * if month is given, default only year\n        // * if year is given, don't default anything\n        for (i = 0; i < 3 && config._a[i] == null; ++i) {\n            config._a[i] = input[i] = currentDate[i];\n        }\n\n        // Zero out whatever was not defaulted, including time\n        for (; i < 7; i++) {\n            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n        }\n\n        // add the offsets to the time to be parsed so that we can have a clean array for checking isValid\n        input[HOUR] += toInt((config._tzm || 0) / 60);\n        input[MINUTE] += toInt((config._tzm || 0) % 60);\n\n        config._d = (config._useUTC ? makeUTCDate : makeDate).apply(null, input);\n    }\n\n    function dateFromObject(config) {\n        var normalizedInput;\n\n        if (config._d) {\n            return;\n        }\n\n        normalizedInput = normalizeObjectUnits(config._i);\n        config._a = [\n            normalizedInput.year,\n            normalizedInput.month,\n            normalizedInput.day,\n            normalizedInput.hour,\n            normalizedInput.minute,\n            normalizedInput.second,\n            normalizedInput.millisecond\n        ];\n\n        dateFromConfig(config);\n    }\n\n    function currentDateArray(config) {\n        var now = new Date();\n        if (config._useUTC) {\n            return [\n                now.getUTCFullYear(),\n                now.getUTCMonth(),\n                now.getUTCDate()\n            ];\n        } else {\n            return [now.getFullYear(), now.getMonth(), now.getDate()];\n        }\n    }\n\n    // date from string and format string\n    function makeDateFromStringAndFormat(config) {\n\n        config._a = [];\n        config._pf.empty = true;\n\n        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n        var lang = getLangDefinition(config._l),\n            string = '' + config._i,\n            i, parsedInput, tokens, token, skipped,\n            stringLength = string.length,\n            totalParsedInputLength = 0;\n\n        tokens = expandFormat(config._f, lang).match(formattingTokens) || [];\n\n        for (i = 0; i < tokens.length; i++) {\n            token = tokens[i];\n            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n            if (parsedInput) {\n                skipped = string.substr(0, string.indexOf(parsedInput));\n                if (skipped.length > 0) {\n                    config._pf.unusedInput.push(skipped);\n                }\n                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n                totalParsedInputLength += parsedInput.length;\n            }\n            // don't parse if it's not a known token\n            if (formatTokenFunctions[token]) {\n                if (parsedInput) {\n                    config._pf.empty = false;\n                }\n                else {\n                    config._pf.unusedTokens.push(token);\n                }\n                addTimeToArrayFromToken(token, parsedInput, config);\n            }\n            else if (config._strict && !parsedInput) {\n                config._pf.unusedTokens.push(token);\n            }\n        }\n\n        // add remaining unparsed input length to the string\n        config._pf.charsLeftOver = stringLength - totalParsedInputLength;\n        if (string.length > 0) {\n            config._pf.unusedInput.push(string);\n        }\n\n        // handle am pm\n        if (config._isPm && config._a[HOUR] < 12) {\n            config._a[HOUR] += 12;\n        }\n        // if is 12 am, change hours to 0\n        if (config._isPm === false && config._a[HOUR] === 12) {\n            config._a[HOUR] = 0;\n        }\n\n        dateFromConfig(config);\n        checkOverflow(config);\n    }\n\n    function unescapeFormat(s) {\n        return s.replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n            return p1 || p2 || p3 || p4;\n        });\n    }\n\n    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    function regexpEscape(s) {\n        return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    }\n\n    // date from string and array of format strings\n    function makeDateFromStringAndArray(config) {\n        var tempConfig,\n            bestMoment,\n\n            scoreToBeat,\n            i,\n            currentScore;\n\n        if (config._f.length === 0) {\n            config._pf.invalidFormat = true;\n            config._d = new Date(NaN);\n            return;\n        }\n\n        for (i = 0; i < config._f.length; i++) {\n            currentScore = 0;\n            tempConfig = extend({}, config);\n            tempConfig._pf = defaultParsingFlags();\n            tempConfig._f = config._f[i];\n            makeDateFromStringAndFormat(tempConfig);\n\n            if (!isValid(tempConfig)) {\n                continue;\n            }\n\n            // if there is any input that was not parsed add a penalty for that format\n            currentScore += tempConfig._pf.charsLeftOver;\n\n            //or tokens\n            currentScore += tempConfig._pf.unusedTokens.length * 10;\n\n            tempConfig._pf.score = currentScore;\n\n            if (scoreToBeat == null || currentScore < scoreToBeat) {\n                scoreToBeat = currentScore;\n                bestMoment = tempConfig;\n            }\n        }\n\n        extend(config, bestMoment || tempConfig);\n    }\n\n    // date from iso format\n    function makeDateFromString(config) {\n        var i, l,\n            string = config._i,\n            match = isoRegex.exec(string);\n\n        if (match) {\n            config._pf.iso = true;\n            for (i = 0, l = isoDates.length; i < l; i++) {\n                if (isoDates[i][1].exec(string)) {\n                    // match[5] should be \"T\" or undefined\n                    config._f = isoDates[i][0] + (match[6] || \" \");\n                    break;\n                }\n            }\n            for (i = 0, l = isoTimes.length; i < l; i++) {\n                if (isoTimes[i][1].exec(string)) {\n                    config._f += isoTimes[i][0];\n                    break;\n                }\n            }\n            if (string.match(parseTokenTimezone)) {\n                config._f += \"Z\";\n            }\n            makeDateFromStringAndFormat(config);\n        }\n        else {\n            moment.createFromInputFallback(config);\n        }\n    }\n\n    function makeDateFromInput(config) {\n        var input = config._i,\n            matched = aspNetJsonRegex.exec(input);\n\n        if (input === undefined) {\n            config._d = new Date();\n        } else if (matched) {\n            config._d = new Date(+matched[1]);\n        } else if (typeof input === 'string') {\n            makeDateFromString(config);\n        } else if (isArray(input)) {\n            config._a = input.slice(0);\n            dateFromConfig(config);\n        } else if (isDate(input)) {\n            config._d = new Date(+input);\n        } else if (typeof(input) === 'object') {\n            dateFromObject(config);\n        } else if (typeof(input) === 'number') {\n            // from milliseconds\n            config._d = new Date(input);\n        } else {\n            moment.createFromInputFallback(config);\n        }\n    }\n\n    function makeDate(y, m, d, h, M, s, ms) {\n        //can't just apply() to create a date:\n        //http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply\n        var date = new Date(y, m, d, h, M, s, ms);\n\n        //the date constructor doesn't accept years < 1970\n        if (y < 1970) {\n            date.setFullYear(y);\n        }\n        return date;\n    }\n\n    function makeUTCDate(y) {\n        var date = new Date(Date.UTC.apply(null, arguments));\n        if (y < 1970) {\n            date.setUTCFullYear(y);\n        }\n        return date;\n    }\n\n    function parseWeekday(input, language) {\n        if (typeof input === 'string') {\n            if (!isNaN(input)) {\n                input = parseInt(input, 10);\n            }\n            else {\n                input = language.weekdaysParse(input);\n                if (typeof input !== 'number') {\n                    return null;\n                }\n            }\n        }\n        return input;\n    }\n\n    /************************************\n        Relative Time\n    ************************************/\n\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture, lang) {\n        return lang.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n    }\n\n    function relativeTime(milliseconds, withoutSuffix, lang) {\n        var seconds = round(Math.abs(milliseconds) / 1000),\n            minutes = round(seconds / 60),\n            hours = round(minutes / 60),\n            days = round(hours / 24),\n            years = round(days / 365),\n            args = seconds < 45 && ['s', seconds] ||\n                minutes === 1 && ['m'] ||\n                minutes < 45 && ['mm', minutes] ||\n                hours === 1 && ['h'] ||\n                hours < 22 && ['hh', hours] ||\n                days === 1 && ['d'] ||\n                days <= 25 && ['dd', days] ||\n                days <= 45 && ['M'] ||\n                days < 345 && ['MM', round(days / 30)] ||\n                years === 1 && ['y'] || ['yy', years];\n        args[2] = withoutSuffix;\n        args[3] = milliseconds > 0;\n        args[4] = lang;\n        return substituteTimeAgo.apply({}, args);\n    }\n\n\n    /************************************\n        Week of Year\n    ************************************/\n\n\n    // firstDayOfWeek       0 = sun, 6 = sat\n    //                      the day of the week that starts the week\n    //                      (usually sunday or monday)\n    // firstDayOfWeekOfYear 0 = sun, 6 = sat\n    //                      the first week is the week that contains the first\n    //                      of this day of the week\n    //                      (eg. ISO weeks use thursday (4))\n    function weekOfYear(mom, firstDayOfWeek, firstDayOfWeekOfYear) {\n        var end = firstDayOfWeekOfYear - firstDayOfWeek,\n            daysToDayOfWeek = firstDayOfWeekOfYear - mom.day(),\n            adjustedMoment;\n\n\n        if (daysToDayOfWeek > end) {\n            daysToDayOfWeek -= 7;\n        }\n\n        if (daysToDayOfWeek < end - 7) {\n            daysToDayOfWeek += 7;\n        }\n\n        adjustedMoment = moment(mom).add('d', daysToDayOfWeek);\n        return {\n            week: Math.ceil(adjustedMoment.dayOfYear() / 7),\n            year: adjustedMoment.year()\n        };\n    }\n\n    //http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n    function dayOfYearFromWeeks(year, week, weekday, firstDayOfWeekOfYear, firstDayOfWeek) {\n        var d = makeUTCDate(year, 0, 1).getUTCDay(), daysToAdd, dayOfYear;\n\n        weekday = weekday != null ? weekday : firstDayOfWeek;\n        daysToAdd = firstDayOfWeek - d + (d > firstDayOfWeekOfYear ? 7 : 0) - (d < firstDayOfWeek ? 7 : 0);\n        dayOfYear = 7 * (week - 1) + (weekday - firstDayOfWeek) + daysToAdd + 1;\n\n        return {\n            year: dayOfYear > 0 ? year : year - 1,\n            dayOfYear: dayOfYear > 0 ?  dayOfYear : daysInYear(year - 1) + dayOfYear\n        };\n    }\n\n    /************************************\n        Top Level Functions\n    ************************************/\n\n    function makeMoment(config) {\n        var input = config._i,\n            format = config._f;\n\n        if (input === null || (format === undefined && input === '')) {\n            return moment.invalid({nullInput: true});\n        }\n\n        if (typeof input === 'string') {\n            config._i = input = getLangDefinition().preparse(input);\n        }\n\n        if (moment.isMoment(input)) {\n            config = cloneMoment(input);\n\n            config._d = new Date(+input._d);\n        } else if (format) {\n            if (isArray(format)) {\n                makeDateFromStringAndArray(config);\n            } else {\n                makeDateFromStringAndFormat(config);\n            }\n        } else {\n            makeDateFromInput(config);\n        }\n\n        return new Moment(config);\n    }\n\n    moment = function (input, format, lang, strict) {\n        var c;\n\n        if (typeof(lang) === \"boolean\") {\n            strict = lang;\n            lang = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c = {};\n        c._isAMomentObject = true;\n        c._i = input;\n        c._f = format;\n        c._l = lang;\n        c._strict = strict;\n        c._isUTC = false;\n        c._pf = defaultParsingFlags();\n\n        return makeMoment(c);\n    };\n\n    moment.suppressDeprecationWarnings = false;\n\n    moment.createFromInputFallback = deprecate(\n            \"moment construction falls back to js Date. This is \" +\n            \"discouraged and will be removed in upcoming major \" +\n            \"release. Please refer to \" +\n            \"https://github.com/moment/moment/issues/1407 for more info.\",\n            function (config) {\n        config._d = new Date(config._i);\n    });\n\n    // creating with utc\n    moment.utc = function (input, format, lang, strict) {\n        var c;\n\n        if (typeof(lang) === \"boolean\") {\n            strict = lang;\n            lang = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c = {};\n        c._isAMomentObject = true;\n        c._useUTC = true;\n        c._isUTC = true;\n        c._l = lang;\n        c._i = input;\n        c._f = format;\n        c._strict = strict;\n        c._pf = defaultParsingFlags();\n\n        return makeMoment(c).utc();\n    };\n\n    // creating with unix timestamp (in seconds)\n    moment.unix = function (input) {\n        return moment(input * 1000);\n    };\n\n    // duration\n    moment.duration = function (input, key) {\n        var duration = input,\n            // matching against regexp is expensive, do it on demand\n            match = null,\n            sign,\n            ret,\n            parseIso;\n\n        if (moment.isDuration(input)) {\n            duration = {\n                ms: input._milliseconds,\n                d: input._days,\n                M: input._months\n            };\n        } else if (typeof input === 'number') {\n            duration = {};\n            if (key) {\n                duration[key] = input;\n            } else {\n                duration.milliseconds = input;\n            }\n        } else if (!!(match = aspNetTimeSpanJsonRegex.exec(input))) {\n            sign = (match[1] === \"-\") ? -1 : 1;\n            duration = {\n                y: 0,\n                d: toInt(match[DATE]) * sign,\n                h: toInt(match[HOUR]) * sign,\n                m: toInt(match[MINUTE]) * sign,\n                s: toInt(match[SECOND]) * sign,\n                ms: toInt(match[MILLISECOND]) * sign\n            };\n        } else if (!!(match = isoDurationRegex.exec(input))) {\n            sign = (match[1] === \"-\") ? -1 : 1;\n            parseIso = function (inp) {\n                // We'd normally use ~~inp for this, but unfortunately it also\n                // converts floats to ints.\n                // inp may be undefined, so careful calling replace on it.\n                var res = inp && parseFloat(inp.replace(',', '.'));\n                // apply sign while we're at it\n                return (isNaN(res) ? 0 : res) * sign;\n            };\n            duration = {\n                y: parseIso(match[2]),\n                M: parseIso(match[3]),\n                d: parseIso(match[4]),\n                h: parseIso(match[5]),\n                m: parseIso(match[6]),\n                s: parseIso(match[7]),\n                w: parseIso(match[8])\n            };\n        }\n\n        ret = new Duration(duration);\n\n        if (moment.isDuration(input) && input.hasOwnProperty('_lang')) {\n            ret._lang = input._lang;\n        }\n\n        return ret;\n    };\n\n    // version number\n    moment.version = VERSION;\n\n    // default format\n    moment.defaultFormat = isoFormat;\n\n    // Plugins that add properties should also add the key here (null value),\n    // so we can properly clone ourselves.\n    moment.momentProperties = momentProperties;\n\n    // This function will be called whenever a moment is mutated.\n    // It is intended to keep the offset in sync with the timezone.\n    moment.updateOffset = function () {};\n\n    // This function will load languages and then set the global language.  If\n    // no arguments are passed in, it will simply return the current global\n    // language key.\n    moment.lang = function (key, values) {\n        var r;\n        if (!key) {\n            return moment.fn._lang._abbr;\n        }\n        if (values) {\n            loadLang(normalizeLanguage(key), values);\n        } else if (values === null) {\n            unloadLang(key);\n            key = 'en';\n        } else if (!languages[key]) {\n            getLangDefinition(key);\n        }\n        r = moment.duration.fn._lang = moment.fn._lang = getLangDefinition(key);\n        return r._abbr;\n    };\n\n    // returns language data\n    moment.langData = function (key) {\n        if (key && key._lang && key._lang._abbr) {\n            key = key._lang._abbr;\n        }\n        return getLangDefinition(key);\n    };\n\n    // compare moment object\n    moment.isMoment = function (obj) {\n        return obj instanceof Moment ||\n            (obj != null &&  obj.hasOwnProperty('_isAMomentObject'));\n    };\n\n    // for typechecking Duration objects\n    moment.isDuration = function (obj) {\n        return obj instanceof Duration;\n    };\n\n    for (i = lists.length - 1; i >= 0; --i) {\n        makeList(lists[i]);\n    }\n\n    moment.normalizeUnits = function (units) {\n        return normalizeUnits(units);\n    };\n\n    moment.invalid = function (flags) {\n        var m = moment.utc(NaN);\n        if (flags != null) {\n            extend(m._pf, flags);\n        }\n        else {\n            m._pf.userInvalidated = true;\n        }\n\n        return m;\n    };\n\n    moment.parseZone = function () {\n        return moment.apply(null, arguments).parseZone();\n    };\n\n    moment.parseTwoDigitYear = function (input) {\n        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n    };\n\n    /************************************\n        Moment Prototype\n    ************************************/\n\n\n    extend(moment.fn = Moment.prototype, {\n\n        clone : function () {\n            return moment(this);\n        },\n\n        valueOf : function () {\n            return +this._d + ((this._offset || 0) * 60000);\n        },\n\n        unix : function () {\n            return Math.floor(+this / 1000);\n        },\n\n        toString : function () {\n            return this.clone().lang('en').format(\"ddd MMM DD YYYY HH:mm:ss [GMT]ZZ\");\n        },\n\n        toDate : function () {\n            return this._offset ? new Date(+this) : this._d;\n        },\n\n        toISOString : function () {\n            var m = moment(this).utc();\n            if (0 < m.year() && m.year() <= 9999) {\n                return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n            } else {\n                return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n            }\n        },\n\n        toArray : function () {\n            var m = this;\n            return [\n                m.year(),\n                m.month(),\n                m.date(),\n                m.hours(),\n                m.minutes(),\n                m.seconds(),\n                m.milliseconds()\n            ];\n        },\n\n        isValid : function () {\n            return isValid(this);\n        },\n\n        isDSTShifted : function () {\n\n            if (this._a) {\n                return this.isValid() && compareArrays(this._a, (this._isUTC ? moment.utc(this._a) : moment(this._a)).toArray()) > 0;\n            }\n\n            return false;\n        },\n\n        parsingFlags : function () {\n            return extend({}, this._pf);\n        },\n\n        invalidAt: function () {\n            return this._pf.overflow;\n        },\n\n        utc : function () {\n            return this.zone(0);\n        },\n\n        local : function () {\n            this.zone(0);\n            this._isUTC = false;\n            return this;\n        },\n\n        format : function (inputString) {\n            var output = formatMoment(this, inputString || moment.defaultFormat);\n            return this.lang().postformat(output);\n        },\n\n        add : function (input, val) {\n            var dur;\n            // switch args to support add('s', 1) and add(1, 's')\n            if (typeof input === 'string') {\n                dur = moment.duration(+val, input);\n            } else {\n                dur = moment.duration(input, val);\n            }\n            addOrSubtractDurationFromMoment(this, dur, 1);\n            return this;\n        },\n\n        subtract : function (input, val) {\n            var dur;\n            // switch args to support subtract('s', 1) and subtract(1, 's')\n            if (typeof input === 'string') {\n                dur = moment.duration(+val, input);\n            } else {\n                dur = moment.duration(input, val);\n            }\n            addOrSubtractDurationFromMoment(this, dur, -1);\n            return this;\n        },\n\n        diff : function (input, units, asFloat) {\n            var that = makeAs(input, this),\n                zoneDiff = (this.zone() - that.zone()) * 6e4,\n                diff, output;\n\n            units = normalizeUnits(units);\n\n            if (units === 'year' || units === 'month') {\n                // average number of days in the months in the given dates\n                diff = (this.daysInMonth() + that.daysInMonth()) * 432e5; // 24 * 60 * 60 * 1000 / 2\n                // difference in months\n                output = ((this.year() - that.year()) * 12) + (this.month() - that.month());\n                // adjust by taking difference in days, average number of days\n                // and dst in the given months.\n                output += ((this - moment(this).startOf('month')) -\n                        (that - moment(that).startOf('month'))) / diff;\n                // same as above but with zones, to negate all dst\n                output -= ((this.zone() - moment(this).startOf('month').zone()) -\n                        (that.zone() - moment(that).startOf('month').zone())) * 6e4 / diff;\n                if (units === 'year') {\n                    output = output / 12;\n                }\n            } else {\n                diff = (this - that);\n                output = units === 'second' ? diff / 1e3 : // 1000\n                    units === 'minute' ? diff / 6e4 : // 1000 * 60\n                    units === 'hour' ? diff / 36e5 : // 1000 * 60 * 60\n                    units === 'day' ? (diff - zoneDiff) / 864e5 : // 1000 * 60 * 60 * 24, negate dst\n                    units === 'week' ? (diff - zoneDiff) / 6048e5 : // 1000 * 60 * 60 * 24 * 7, negate dst\n                    diff;\n            }\n            return asFloat ? output : absRound(output);\n        },\n\n        from : function (time, withoutSuffix) {\n            return moment.duration(this.diff(time)).lang(this.lang()._abbr).humanize(!withoutSuffix);\n        },\n\n        fromNow : function (withoutSuffix) {\n            return this.from(moment(), withoutSuffix);\n        },\n\n        calendar : function () {\n            // We want to compare the start of today, vs this.\n            // Getting start-of-today depends on whether we're zone'd or not.\n            var sod = makeAs(moment(), this).startOf('day'),\n                diff = this.diff(sod, 'days', true),\n                format = diff < -6 ? 'sameElse' :\n                    diff < -1 ? 'lastWeek' :\n                    diff < 0 ? 'lastDay' :\n                    diff < 1 ? 'sameDay' :\n                    diff < 2 ? 'nextDay' :\n                    diff < 7 ? 'nextWeek' : 'sameElse';\n            return this.format(this.lang().calendar(format, this));\n        },\n\n        isLeapYear : function () {\n            return isLeapYear(this.year());\n        },\n\n        isDST : function () {\n            return (this.zone() < this.clone().month(0).zone() ||\n                this.zone() < this.clone().month(5).zone());\n        },\n\n        day : function (input) {\n            var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n            if (input != null) {\n                input = parseWeekday(input, this.lang());\n                return this.add({ d : input - day });\n            } else {\n                return day;\n            }\n        },\n\n        month : makeAccessor('Month', true),\n\n        startOf: function (units) {\n            units = normalizeUnits(units);\n            // the following switch intentionally omits break keywords\n            // to utilize falling through the cases.\n            switch (units) {\n            case 'year':\n                this.month(0);\n                /* falls through */\n            case 'quarter':\n            case 'month':\n                this.date(1);\n                /* falls through */\n            case 'week':\n            case 'isoWeek':\n            case 'day':\n                this.hours(0);\n                /* falls through */\n            case 'hour':\n                this.minutes(0);\n                /* falls through */\n            case 'minute':\n                this.seconds(0);\n                /* falls through */\n            case 'second':\n                this.milliseconds(0);\n                /* falls through */\n            }\n\n            // weeks are a special case\n            if (units === 'week') {\n                this.weekday(0);\n            } else if (units === 'isoWeek') {\n                this.isoWeekday(1);\n            }\n\n            // quarters are also special\n            if (units === 'quarter') {\n                this.month(Math.floor(this.month() / 3) * 3);\n            }\n\n            return this;\n        },\n\n        endOf: function (units) {\n            units = normalizeUnits(units);\n            return this.startOf(units).add((units === 'isoWeek' ? 'week' : units), 1).subtract('ms', 1);\n        },\n\n        isAfter: function (input, units) {\n            units = typeof units !== 'undefined' ? units : 'millisecond';\n            return +this.clone().startOf(units) > +moment(input).startOf(units);\n        },\n\n        isBefore: function (input, units) {\n            units = typeof units !== 'undefined' ? units : 'millisecond';\n            return +this.clone().startOf(units) < +moment(input).startOf(units);\n        },\n\n        isSame: function (input, units) {\n            units = units || 'ms';\n            return +this.clone().startOf(units) === +makeAs(input, this).startOf(units);\n        },\n\n        min: function (other) {\n            other = moment.apply(null, arguments);\n            return other < this ? this : other;\n        },\n\n        max: function (other) {\n            other = moment.apply(null, arguments);\n            return other > this ? this : other;\n        },\n\n        // keepTime = true means only change the timezone, without affecting\n        // the local hour. So 5:31:26 +0300 --[zone(2, true)]--> 5:31:26 +0200\n        // It is possible that 5:31:26 doesn't exist int zone +0200, so we\n        // adjust the time as needed, to be valid.\n        //\n        // Keeping the time actually adds/subtracts (one hour)\n        // from the actual represented time. That is why we call updateOffset\n        // a second time. In case it wants us to change the offset again\n        // _changeInProgress == true case, then we have to adjust, because\n        // there is no such time in the given timezone.\n        zone : function (input, keepTime) {\n            var offset = this._offset || 0;\n            if (input != null) {\n                if (typeof input === \"string\") {\n                    input = timezoneMinutesFromString(input);\n                }\n                if (Math.abs(input) < 16) {\n                    input = input * 60;\n                }\n                this._offset = input;\n                this._isUTC = true;\n                if (offset !== input) {\n                    if (!keepTime || this._changeInProgress) {\n                        addOrSubtractDurationFromMoment(this,\n                                moment.duration(offset - input, 'm'), 1, false);\n                    } else if (!this._changeInProgress) {\n                        this._changeInProgress = true;\n                        moment.updateOffset(this, true);\n                        this._changeInProgress = null;\n                    }\n                }\n            } else {\n                return this._isUTC ? offset : this._d.getTimezoneOffset();\n            }\n            return this;\n        },\n\n        zoneAbbr : function () {\n            return this._isUTC ? \"UTC\" : \"\";\n        },\n\n        zoneName : function () {\n            return this._isUTC ? \"Coordinated Universal Time\" : \"\";\n        },\n\n        parseZone : function () {\n            if (this._tzm) {\n                this.zone(this._tzm);\n            } else if (typeof this._i === 'string') {\n                this.zone(this._i);\n            }\n            return this;\n        },\n\n        hasAlignedHourOffset : function (input) {\n            if (!input) {\n                input = 0;\n            }\n            else {\n                input = moment(input).zone();\n            }\n\n            return (this.zone() - input) % 60 === 0;\n        },\n\n        daysInMonth : function () {\n            return daysInMonth(this.year(), this.month());\n        },\n\n        dayOfYear : function (input) {\n            var dayOfYear = round((moment(this).startOf('day') - moment(this).startOf('year')) / 864e5) + 1;\n            return input == null ? dayOfYear : this.add(\"d\", (input - dayOfYear));\n        },\n\n        quarter : function (input) {\n            return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n        },\n\n        weekYear : function (input) {\n            var year = weekOfYear(this, this.lang()._week.dow, this.lang()._week.doy).year;\n            return input == null ? year : this.add(\"y\", (input - year));\n        },\n\n        isoWeekYear : function (input) {\n            var year = weekOfYear(this, 1, 4).year;\n            return input == null ? year : this.add(\"y\", (input - year));\n        },\n\n        week : function (input) {\n            var week = this.lang().week(this);\n            return input == null ? week : this.add(\"d\", (input - week) * 7);\n        },\n\n        isoWeek : function (input) {\n            var week = weekOfYear(this, 1, 4).week;\n            return input == null ? week : this.add(\"d\", (input - week) * 7);\n        },\n\n        weekday : function (input) {\n            var weekday = (this.day() + 7 - this.lang()._week.dow) % 7;\n            return input == null ? weekday : this.add(\"d\", input - weekday);\n        },\n\n        isoWeekday : function (input) {\n            // behaves the same as moment#day except\n            // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n            // as a setter, sunday should belong to the previous week.\n            return input == null ? this.day() || 7 : this.day(this.day() % 7 ? input : input - 7);\n        },\n\n        isoWeeksInYear : function () {\n            return weeksInYear(this.year(), 1, 4);\n        },\n\n        weeksInYear : function () {\n            var weekInfo = this._lang._week;\n            return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n        },\n\n        get : function (units) {\n            units = normalizeUnits(units);\n            return this[units]();\n        },\n\n        set : function (units, value) {\n            units = normalizeUnits(units);\n            if (typeof this[units] === 'function') {\n                this[units](value);\n            }\n            return this;\n        },\n\n        // If passed a language key, it will set the language for this\n        // instance.  Otherwise, it will return the language configuration\n        // variables for this instance.\n        lang : function (key) {\n            if (key === undefined) {\n                return this._lang;\n            } else {\n                this._lang = getLangDefinition(key);\n                return this;\n            }\n        }\n    });\n\n    function rawMonthSetter(mom, value) {\n        var dayOfMonth;\n\n        // TODO: Move this out of here!\n        if (typeof value === 'string') {\n            value = mom.lang().monthsParse(value);\n            // TODO: Another silent failure?\n            if (typeof value !== 'number') {\n                return mom;\n            }\n        }\n\n        dayOfMonth = Math.min(mom.date(),\n                daysInMonth(mom.year(), value));\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n        return mom;\n    }\n\n    function rawGetter(mom, unit) {\n        return mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]();\n    }\n\n    function rawSetter(mom, unit, value) {\n        if (unit === 'Month') {\n            return rawMonthSetter(mom, value);\n        } else {\n            return mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n        }\n    }\n\n    function makeAccessor(unit, keepTime) {\n        return function (value) {\n            if (value != null) {\n                rawSetter(this, unit, value);\n                moment.updateOffset(this, keepTime);\n                return this;\n            } else {\n                return rawGetter(this, unit);\n            }\n        };\n    }\n\n    moment.fn.millisecond = moment.fn.milliseconds = makeAccessor('Milliseconds', false);\n    moment.fn.second = moment.fn.seconds = makeAccessor('Seconds', false);\n    moment.fn.minute = moment.fn.minutes = makeAccessor('Minutes', false);\n    // Setting the hour should keep the time, because the user explicitly\n    // specified which hour he wants. So trying to maintain the same hour (in\n    // a new timezone) makes sense. Adding/subtracting hours does not follow\n    // this rule.\n    moment.fn.hour = moment.fn.hours = makeAccessor('Hours', true);\n    // moment.fn.month is defined separately\n    moment.fn.date = makeAccessor('Date', true);\n    moment.fn.dates = deprecate(\"dates accessor is deprecated. Use date instead.\", makeAccessor('Date', true));\n    moment.fn.year = makeAccessor('FullYear', true);\n    moment.fn.years = deprecate(\"years accessor is deprecated. Use year instead.\", makeAccessor('FullYear', true));\n\n    // add plural methods\n    moment.fn.days = moment.fn.day;\n    moment.fn.months = moment.fn.month;\n    moment.fn.weeks = moment.fn.week;\n    moment.fn.isoWeeks = moment.fn.isoWeek;\n    moment.fn.quarters = moment.fn.quarter;\n\n    // add aliased format methods\n    moment.fn.toJSON = moment.fn.toISOString;\n\n    /************************************\n        Duration Prototype\n    ************************************/\n\n\n    extend(moment.duration.fn = Duration.prototype, {\n\n        _bubble : function () {\n            var milliseconds = this._milliseconds,\n                days = this._days,\n                months = this._months,\n                data = this._data,\n                seconds, minutes, hours, years;\n\n            // The following code bubbles up values, see the tests for\n            // examples of what that means.\n            data.milliseconds = milliseconds % 1000;\n\n            seconds = absRound(milliseconds / 1000);\n            data.seconds = seconds % 60;\n\n            minutes = absRound(seconds / 60);\n            data.minutes = minutes % 60;\n\n            hours = absRound(minutes / 60);\n            data.hours = hours % 24;\n\n            days += absRound(hours / 24);\n            data.days = days % 30;\n\n            months += absRound(days / 30);\n            data.months = months % 12;\n\n            years = absRound(months / 12);\n            data.years = years;\n        },\n\n        weeks : function () {\n            return absRound(this.days() / 7);\n        },\n\n        valueOf : function () {\n            return this._milliseconds +\n              this._days * 864e5 +\n              (this._months % 12) * 2592e6 +\n              toInt(this._months / 12) * 31536e6;\n        },\n\n        humanize : function (withSuffix) {\n            var difference = +this,\n                output = relativeTime(difference, !withSuffix, this.lang());\n\n            if (withSuffix) {\n                output = this.lang().pastFuture(difference, output);\n            }\n\n            return this.lang().postformat(output);\n        },\n\n        add : function (input, val) {\n            // supports only 2.0-style add(1, 's') or add(moment)\n            var dur = moment.duration(input, val);\n\n            this._milliseconds += dur._milliseconds;\n            this._days += dur._days;\n            this._months += dur._months;\n\n            this._bubble();\n\n            return this;\n        },\n\n        subtract : function (input, val) {\n            var dur = moment.duration(input, val);\n\n            this._milliseconds -= dur._milliseconds;\n            this._days -= dur._days;\n            this._months -= dur._months;\n\n            this._bubble();\n\n            return this;\n        },\n\n        get : function (units) {\n            units = normalizeUnits(units);\n            return this[units.toLowerCase() + 's']();\n        },\n\n        as : function (units) {\n            units = normalizeUnits(units);\n            return this['as' + units.charAt(0).toUpperCase() + units.slice(1) + 's']();\n        },\n\n        lang : moment.fn.lang,\n\n        toIsoString : function () {\n            // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n            var years = Math.abs(this.years()),\n                months = Math.abs(this.months()),\n                days = Math.abs(this.days()),\n                hours = Math.abs(this.hours()),\n                minutes = Math.abs(this.minutes()),\n                seconds = Math.abs(this.seconds() + this.milliseconds() / 1000);\n\n            if (!this.asSeconds()) {\n                // this is the same as C#'s (Noda) and python (isodate)...\n                // but not other JS (goog.date)\n                return 'P0D';\n            }\n\n            return (this.asSeconds() < 0 ? '-' : '') +\n                'P' +\n                (years ? years + 'Y' : '') +\n                (months ? months + 'M' : '') +\n                (days ? days + 'D' : '') +\n                ((hours || minutes || seconds) ? 'T' : '') +\n                (hours ? hours + 'H' : '') +\n                (minutes ? minutes + 'M' : '') +\n                (seconds ? seconds + 'S' : '');\n        }\n    });\n\n    function makeDurationGetter(name) {\n        moment.duration.fn[name] = function () {\n            return this._data[name];\n        };\n    }\n\n    function makeDurationAsGetter(name, factor) {\n        moment.duration.fn['as' + name] = function () {\n            return +this / factor;\n        };\n    }\n\n    for (i in unitMillisecondFactors) {\n        if (unitMillisecondFactors.hasOwnProperty(i)) {\n            makeDurationAsGetter(i, unitMillisecondFactors[i]);\n            makeDurationGetter(i.toLowerCase());\n        }\n    }\n\n    makeDurationAsGetter('Weeks', 6048e5);\n    moment.duration.fn.asMonths = function () {\n        return (+this - this.years() * 31536e6) / 2592e6 + this.years() * 12;\n    };\n\n\n    /************************************\n        Default Lang\n    ************************************/\n\n\n    // Set default language, other languages will inherit from English.\n    moment.lang('en', {\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (toInt(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        }\n    });\n\n    /* EMBED_LANGUAGES */\n\n    /************************************\n        Exposing Moment\n    ************************************/\n\n    function makeGlobal(shouldDeprecate) {\n        /*global ender:false */\n        if (typeof ender !== 'undefined') {\n            return;\n        }\n        oldGlobalMoment = globalScope.moment;\n        if (shouldDeprecate) {\n            globalScope.moment = deprecate(\n                    \"Accessing Moment through the global scope is \" +\n                    \"deprecated, and will be removed in an upcoming \" +\n                    \"release.\",\n                    moment);\n        } else {\n            globalScope.moment = moment;\n        }\n    }\n\n    // CommonJS module is defined\n    if (hasModule) {\n        module.exports = moment;\n    } else if (typeof define === \"function\" && define.amd) {\n        define(\"moment\", function (require, exports, module) {\n            if (module.config && module.config() && module.config().noGlobal === true) {\n                // release the global variable\n                globalScope.moment = oldGlobalMoment;\n            }\n\n            return moment;\n        });\n        makeGlobal(true);\n    } else {\n        makeGlobal();\n    }\n}).call(this);\n"]}
>>>>>>> f5544e91723fc90253428c01f9401d9b447c1747
=======
{"version":3,"file":"chartstack.min.js","sources":["../src/chartstack.js","../src/utils/chartstack.dataform.js","../src/adapters/chartstack.keen-io.js","../src/libraries/chartstack.keen-widgets.js","../src/libraries/chartstack.googlecharts.js","../lib/simg/src/simg.js","../src/utils/simg.noconflict.js","../lib/momentjs/min/moment.min.js"],"names":["root","visualErrorHandler","console","log","arguments","is","o","t","each","cb","s","n","length","call","hasOwnProperty","extend","e","v","noConflict","chartstack","previousChartstack","this","ready","isDomReady","readyCallbacks","push","bootstrap","defaults","library","namespace","libraries","window","Error","parseDOM","moment","get","strOrEl","matchedChart","el","nodeName","document","querySelector","charts","chart","view","addAdapter","domain","configObj","adapters","func","type","retrievedNodes","registeredNodes","key","indexOf","querySelectorAll","join","getAttribute","Chart","parseParams","str","match","urlParams","pl","search","decode","decodeURIComponent","replace","query","split","exec","buildQueryString","params","value","Object","prototype","toString","JSON","stringify","encodeURIComponent","getAjax","url","xhr","createXHR","ActiveXObject","warn","message","XMLHttpRequest","onreadystatechange","readyState","responseText","open","setRequestHeader","send","getJSONP","success","error","callbackName","Date","getTime","loaded","response","undefined","script","createElement","id","src","getElementsByTagName","appendChild","onerror","Events","transformers","json","data","parse","labels","on","name","callback","listeners","events","off","i","splice","trigger","args","Array","slice","apply","DataResource","config","option","configure","attribute","set","attributes","Dataset","resources","options","source","fetch","self","completions","responses","finish","index","transform","resource","successSequencer","adapter","at","Visualization","chartOptions","width","offsetWidth","update","initialize","render","remove","register","methods","method","protoProps","staticProps","parent","constructor","Surrogate","__super__","setup","mapAttribute","dataAttributes","setupData","initAttributes","setupVis","setupDom","setupJS","visualAttributes","chartType","toLocaleLowerCase","style","display","k","concat","attr","test","newKey","nodeType","$chart","dataset","dataformat","dateformat","c","svg","Simg","download","show","hide","draw","google","load","packages","setOnLoadCallback","addEventListener","cs","result","loop","target","pop","splinter","proto","dataform","map","build","_root","table","series","raw","cols","split_index","split_value","output","fixed","label","cells","rows","order","sort","a","b","aIndex","bIndex","values","cell","j","aTotal","bTotal","record","row","isValid","format","Keen","Metric","css","innerHTML","body","parseInt","title","metric","GoogleCharts","AreaChart","_chart","visualization","arrayToDataTable","height","BarChart","ColumnChart","LineChart","PieChart","DataTable","Table","areachart","barchart","columnchart","linechart","piechart","datatable","previousSimg","getBase64Image","img","canvas","ctx","getContext","drawImage","dataURL","toDataURL","forEach","item","setAttribute","parentNode","toCanvas","toSvgImage","context","onload","btoa","toImg","canvasData","replaceChild","toBinaryBlob","dataUrl","byteString","atob","ab","ArrayBuffer","ia","Uint8Array","charCodeAt","dataView","DataView","blob","Blob","href","click","empty","unusedTokens","unusedInput","overflow","charsLeftOver","nullInput","invalidMonth","invalidFormat","userInvalidated","iso","ib","suppressDeprecationWarnings","d","l","lang","ordinal","f","g","y","h","r","year","quarter","month","week","day","hour","minute","second","millisecond","_milliseconds","_days","_months","_data","_bubble","valueOf","wb","Math","ceil","floor","abs","m","_d","setTime","db","bb","updateOffset","p","min","q","toLowerCase","Zb","$b","fn","_lang","utc","isFinite","u","UTC","getUTCDate","$","w","x","_a","_pf","pb","qb","ob","rb","sb","tb","ub","_overflowDayOfYear","z","_isValid","isNaN","_strict","A","B","_isUTC","zone","_offset","local","C","abbr","vb","D","E","xb","require","F","G","Bb","cc","Function","H","I","_b","invalidDate","longDateFormat","Cb","lastIndex","J","Nb","Pb","Qb","Fb","Sb","Rb","Gb","Ob","Eb","Ib","_l","_meridiemParse","Lb","Jb","Kb","Hb","Db","Mb","RegExp","R","Q","K","Xb","L","monthsParse","_dayOfYear","parseTwoDigitYear","_isPm","isPM","parseFloat","_useUTC","_tzm","substr","_w","M","O","weekYear","GG","W","_","X","_week","dow","gg","doy","dayOfYear","getUTCMonth","V","N","_i","getUTCFullYear","getFullYear","getMonth","getDate","P","_f","S","score","T","Tb","Vb","Wb","createFromInputFallback","U","yb","setFullYear","setUTCFullYear","weekdaysParse","Y","relativeTime","Z","nb","add","getUTCDay","invalid","preparse","isMoment","date","eb","fb","duration","gb","hb","ender","jb","mb","kb","lb","global","round","_isAMomentObject","module","exports","zb","Ab","Ub","Yb","Milliseconds","Seconds","Minutes","Hours","Days","Months","Years","ms","DDD","dayofyear","isoweekday","isoweek","weekyear","isoweekyear","ac","bc","MMM","monthsShort","MMMM","months","dd","weekdaysMin","ddd","weekdaysShort","dddd","weekdays","isoWeek","YY","YYYY","YYYYY","YYYYYY","gggg","ggggg","isoWeekYear","GGGG","GGGGG","weekday","isoWeekday","meridiem","hours","minutes","seconds","milliseconds","SS","SSS","SSSS","ZZ","zoneAbbr","zz","zoneName","unix","dc","DDDD","_monthsShort","_monthsParse","_weekdays","_weekdaysShort","_weekdaysMin","_weekdaysParse","_longDateFormat","LT","LL","LLL","LLLL","toUpperCase","charAt","_calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","calendar","_relativeTime","future","past","mm","hh","MM","yy","pastFuture","_ordinal","postformat","_invalidDate","isDuration","version","defaultFormat","momentProperties","_abbr","langData","normalizeUnits","parseZone","clone","toDate","toISOString","toArray","isDSTShifted","parsingFlags","invalidAt","subtract","diff","daysInMonth","startOf","from","humanize","fromNow","isLeapYear","isDST","getDay","endOf","isAfter","isBefore","isSame","max","getTimezoneOffset","_changeInProgress","hasAlignedHourOffset","isoWeeksInYear","weeksInYear","dates","years","days","weeks","isoWeeks","quarters","toJSON","as","toIsoString","asSeconds","asMonths","define","amd","noGlobal"],"mappings":"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","sourcesContent":["/* global google */\n(function(root) {\n  var previousChartstack = root.chartstack;\n  var chartstack = root.chartstack = {};\n  var adapters, charts, Chart, Events, transformers, isDomReady, readyCallbacks = [];\n\n  // Placeholder for chartstack data adapters.\n  chartstack.adapters = adapters = {};\n\n  // Array of instantiated charts.\n  chartstack.charts = charts = [];\n\n  // Placeholder for transform data adapters.\n  chartstack.transformers = transformers = {\n    json : function(data){\n      if (typeof data == 'string'){\n        return JSON.parse(data);\n      }else{\n        return data;\n      }\n    }\n  };\n\n  // Defaults accessible from outside in case user wants to change them.\n  // DOM properties override defaults.\n  chartstack.defaults = extend({\n    labels: true\n  }, chartstack.defaults || {});\n\n\n  // -----------------------------\n  // Events class\n  // -----------------------------\n  // Extended by all classes that\n  // require event listeners\n  // -----------------------------\n\n  Events = chartstack.Events = {\n\n    on: function(name, callback) {\n      this.listeners || (this.listeners = {});\n      var events = this.listeners[name] || (this.listeners[name] = []);\n      events.push({callback: callback});\n      return this;\n    },\n\n    // once: function(name, callback) {},\n\n    off: function(name, callback) {\n      if (!name && !callback) {\n        this.listeners = void 0;\n        delete this.listeners;\n        return this;\n      }\n      var events = this.listeners[name] || [];\n      for (var i = events.length; i--;) {\n        if (callback && callback == events[i].callback) {\n          this.listeners[name].splice(i, 1);\n        }\n        if (!callback || events.length === 0) {\n          this.listeners[name] = void 0;\n          delete this.listeners[name];\n        }\n      }\n      return this;\n    },\n\n    trigger: function(name) {\n      if (!this.listeners) {\n        return this;\n      }\n      var args = Array.prototype.slice.call(arguments, 1);\n      var events = this.listeners[name] || [];\n      for (var i = 0; i < events.length; i++) {\n        events[i].callback.apply(this, args);\n      }\n      return this;\n    }\n\n  };\n  extend(chartstack, Events);\n\n\n\n  // -----------------------------\n  // DataResource class\n  // -----------------------------\n  // This class is never directly\n  // instantiated, but is managed\n  // by the Dataset class\n  // -----------------------------\n\n  chartstack.DataResource = function(config){\n    // Types: String (Data or URL), Object\n    if (typeof config === \"string\") {\n      if (config.match(/^({|\\[)/)) {\n        // Raw Data\n        this.response = JSON.parse(config);\n      } else {\n        // URL + Params\n        this.url = config;\n      }\n    } else {\n      for (var option in config) {\n        this[option] = config[option];\n      }\n    }\n    this.configure();\n  };\n\n  chartstack.DataResource.prototype = {\n    configure: function(){\n      if (this.url !== void 0 && this.url.indexOf(\"?\") !== -1 && this.params == void 0) {\n        this.params = chartstack.parseParams(this.url);\n        this.url = this.url.split(\"?\")[0];\n      }\n      return this;\n    },\n    get: function(attribute){\n      return this.params[attribute] || null;\n    },\n    set: function(attributes){\n      for (var attribute in attributes) {\n        this.params[attribute] = attributes[attribute];\n      }\n      return this;\n    }\n  };\n  extend(chartstack.DataResource.prototype, Events);\n\n\n  // -----------------------------\n  // Dataset class\n  // -----------------------------\n  // This class instantiates and\n  // manages instances of the\n  // DataResource class\n  // -----------------------------\n\n  chartstack.Dataset = function(config){\n    var resources = [], options = config || {};\n    if (options instanceof Array) {\n      each(options, function(source){\n        resources.push(new chartstack.DataResource(source));\n      });\n    } else {\n      resources.push(new chartstack.DataResource(options));\n    }\n    this.resources = resources;\n    return;\n  };\n\n  chartstack.Dataset.prototype = {\n\n    fetch: function(){\n      var self = this, completions = 0;\n\n      self.data = [];\n      self.responses = [];\n\n      var finish = function(response, index){\n        self.responses[index] = JSON.parse(response);\n        completions++;\n        if (completions == self.resources.length){\n          self.transform();\n        }\n      };\n\n      var error = function(){\n        //console.log('error');\n        return false;\n      };\n\n      each(self.resources, function(resource, index){\n        if (resource.url) {\n          var url = resource.url + buildQueryString(resource.params);\n          var successSequencer = function(response){\n            finish(response, index);\n          };\n          chartstack.getAjax(url, successSequencer, error);\n          //chartstack.getJSONP(url, successSequencer);\n        } else {\n          error();\n        }\n      });\n\n      return self;\n    },\n\n    transform: function() {\n      var self = this;\n      each(self.resources, function(resource, index){\n        var adapter = resource.adapter;\n        var response = self.responses[index];\n        self.data[index] = adapters[adapter].call(resource, response);\n      });\n      self.trigger(\"complete\", self.data[0]);\n      return self;\n    },\n\n    at: function(index){\n      //if (typeof index == \"string\") {\n      //  return this.resources where\n      //}\n      return this.resources[index] || null;\n    }\n\n  };\n  extend(chartstack.Dataset.prototype, Events);\n\n\n  // -----------------------------\n  // Visualization class\n  // -----------------------------\n  // This class is never directly\n  // instantiated, but extended\n  // by all library rendersets\n  // -----------------------------\n\n  chartstack.Visualization = function(config){\n    var self = this;\n    extend(self, config);\n\n    self.chartOptions = self.chartOptions || {};\n    self.chartOptions.width = self.chartOptions.width || self.el.offsetWidth;\n\n    // Set default event handlers\n    self.on(\"error\", function(){\n      visualErrorHandler.apply(this, arguments);\n    });\n    self.on(\"update\", function(){\n      self.update.apply(this, arguments);\n    });\n\n\n    // Let's kick it off!\n    this.initialize();\n  };\n\n  chartstack.Visualization.prototype = {\n    initialize: function(){\n      // Sets listeners and prepares data\n    },\n    render: function(){\n      // Builds artifacts\n    },\n    update: function(){\n      // Optional: handles data updates\n    },\n    remove: function(){\n      // Cleanup and DOM removal\n    }\n  };\n  extend(chartstack.Visualization.prototype, Events);\n\n  chartstack.libraries = {};\n\n  chartstack.Visualization.register = function(name, methods){\n    chartstack.libraries[name] = chartstack.libraries[name] || {};\n    for (var method in methods) {\n      chartstack.libraries[name][method] = methods[method];\n    }\n  };\n\n  chartstack.Visualization.extend = function(protoProps, staticProps){\n    var parent = this, Visualization;\n    if (protoProps && protoProps.hasOwnProperty('constructor')) {\n      Visualization = protoProps.constructor;\n    } else {\n      Visualization = function(){ return parent.apply(this, arguments); };\n    }\n    extend(Visualization, parent, staticProps);\n    var Surrogate = function(){ this.constructor = Visualization; };\n    Surrogate.prototype = parent.prototype;\n    Visualization.prototype = new Surrogate();\n    if (protoProps) {\n      extend(Visualization.prototype, protoProps);\n    }\n    Visualization.__super__ = parent.prototype;\n    return Visualization;\n  };\n\n  function visualErrorHandler(){\n    console.log(\"Error!\", arguments);\n  }\n\n\n\n  // -----------------------------\n  // Chart class\n  // -----------------------------\n  // Primary class encompassing\n  // every chartstack instance\n  // -----------------------------\n\n  chartstack.Chart = Chart = function(args) {\n    var $chart = this,\n    setupVis = { chartOptions: {} },\n    setupData = {},\n    options = args || {};\n\n    // Add to internal array.\n    chartstack.charts.push($chart);\n\n    // Collects properties off DOM element and inspects data source.\n    function setup(){\n      var setupDom, setupJS;\n      var initAttributes, dataAttributes, visualAttributes;\n\n      setupDom = function(){\n        //$chart.el = args;\n        setupVis.el = options;\n\n        // Type of chart.\n        options.chartType = setupVis.el.nodeName.toLocaleLowerCase();\n\n        // Our made up HTML nodes are display: inline so we need to make\n        // them block;\n        setupVis.el.style.display = \"block\";\n        setupVis.style = {\n          display: \"inline-block\"\n        };\n      };\n\n      setupJS = function(){\n        //setupVis['el'] = options.el;\n      };\n\n      // Copy global defaults on to this chart.\n      each(chartstack.defaults, function(k, v){\n        setupVis[v] = k;\n      });\n\n      if ('nodeType' in options){\n        setupDom();\n      } else {\n        setupJS();\n      }\n\n      // Find properties on dom element to override defaults.\n      // Support arrays here so we can store the data under a different name.\n      // TODO: These strings should be objects with support for defaults and other options.\n\n      dataAttributes = ['adapter', 'dataset', 'dataformat', 'dateformat'];\n      initAttributes = ['library'];\n      visualAttributes = ['title', 'labels', 'height', 'width', 'isStacked'];\n\n      // Prev:\n      // titleTextColor, legendColor, colors, pieSliceBorderColor,\n      // pieSliceTextColor, backgroundColor, customOptions, formatRowLabel\n\n      each(initAttributes.concat(dataAttributes, visualAttributes), function(attr){\n        var test, newKey;\n\n        if (is(attr, 'object')){\n          newKey = attr[1];\n          attr = attr[0];\n        }\n        test = options.nodeType ? options.getAttribute(attr) : options[attr];\n        // If property exists, save it.\n        if (test){\n          // Support for real booleans.\n          if (test == 'false' || test == '0' || test == 'off'){\n            test = false;\n          } else if (test == 'true' || test == '1' || test == \"on\"){\n            test = true;\n          }\n\n          if (newKey){\n            mapAttribute(newKey, test);\n          } else {\n            mapAttribute(attr, test);\n          }\n        }\n      });\n\n      function mapAttribute(key, value){\n        if (dataAttributes.indexOf(key) !== -1) {\n          setupData[key] = value;\n        } else if (initAttributes.indexOf(key) !== -1) {\n          options[key] = value;\n        } else {\n          setupVis.chartOptions[key] = value;\n        }\n      }\n\n      // If we don't have a designated library...\n      if (!options.library){\n        if(options.chartType in chartstack.libraries[chartstack.library] || options.view instanceof chartstack.Visualization) {\n          // Set global default if type matches\n          options.library = chartstack.library;\n        } else {\n          // Select library with matching type\n          each(chartstack.libraries, function(library, namespace){\n            each(library, function(value, key){\n              if (options.chartType == key) {\n                options.library = namespace;\n              }\n            });\n          });\n        }\n      }\n\n      if (options.view instanceof chartstack.Visualization) {\n        $chart.view = options.view;\n      } else {\n        $chart.view = new chartstack.libraries[options.library][options.chartType](setupVis);\n      }\n\n\n      // Check datasource starts with { or [ assume it's JSON or else\n      // assume it's a URL to fetch.  We do not check for http anymore\n      // as it can be a local/relative file.\n\n      if (options.dataset instanceof chartstack.Dataset) {\n        $chart.dataset = options.dataset;\n\n      } else if (typeof setupData.dataset == 'string'){\n        $chart.dataset = new chartstack.Dataset(setupData.dataset.replace(/(\\r\\n|\\n|\\r|\\ )/g,\"\"));\n        $chart.dataset.resources[0].adapter = setupData.adapter || false;\n        $chart.dataset.resources[0].dataformat = setupData.dataformat || 'json';\n        $chart.dataset.resources[0].dateformat = setupData.dateformat || false;\n      }\n\n      $chart.dataset.on(\"complete\", function(data){\n        //console.log('data', this.data);\n        $chart.view.data = this.data;\n        $chart.view.trigger(\"update\", data);\n      });\n      $chart.dataset.fetch();\n    }\n\n    setup();\n\n    $chart.on(\"download\", function(){\n      var c;\n      var svg = this.view.el.getElementsByTagName('svg');\n\n      if (svg.length){\n        svg = svg[0];\n        c = new chartstack.Simg(svg);\n        c.download();\n      }\n    });\n\n    $chart.on(\"replace\", function(cb){\n      var c;\n      var svg = this.view.el.getElementsByTagName('svg');\n      cb = cb || function(){};\n\n      if (svg.length){\n        svg = svg[0];\n        c = new chartstack.Simg(svg);\n        c.replace(cb);\n      }\n    });\n\n  };\n\n  Chart.prototype = {\n    show : function(){\n      this.trigger('show');\n      return this;\n    },\n\n    hide : function(){\n      this.trigger('hide');\n      return this;\n    },\n\n    draw: function(){\n      this.trigger('draw');\n      return this;\n    },\n\n    fetch : function(){\n      this.dataset.fetch();\n      //cb || (cb = function(){});\n      //fetch(cb);\n      return this;\n    }\n\n  };\n  extend(Chart.prototype, Events);\n\n\n\n  // -----------------------------\n  // Private Methods\n  // -----------------------------\n  // Expose for plugin use\n  // -----------------------------\n\n  extend(chartstack, {\n    is : is,\n    each : each,\n    extend : extend,\n    noConflict : noConflict,\n    ready: ready,\n    get: get,\n    addAdapter : addAdapter,\n    parseDOM : parseDOM,\n    parseParams: parseParams,\n    buildQueryString: buildQueryString,\n    getAjax : getAjax,\n    getJSONP: getJSONP,\n    // Attach event for every chart we have.\n    on: function(){\n      var args = arguments;\n      each(this.charts, function(chart){\n        chart.on.apply(chart, args);\n      });\n    },\n    // Trigger event for every chart we have.\n    trigger: function(){\n      var args = arguments;\n      each(this.charts, function(chart){\n        chart.trigger.apply(chart, args);\n      });\n    }\n  });\n\n\n  // These three functions taken from:\n  // https://github.com/spocke/punymce\n  function is(o, t){\n    o = typeof(o);\n    if (!t){\n      return o != 'undefined';\n    }\n    return o == t;\n  }\n\n  function each(o, cb, s){\n    var n;\n    if (!o){\n      return 0;\n    }\n    s = !s ? o : s;\n    if (is(o.length)){\n      // Indexed arrays, needed for Safari\n      for (n=0; n<o.length; n++) {\n        if (cb.call(s, o[n], n, o) === false){\n          return 0;\n        }\n      }\n    } else {\n      // Hashtables\n      for (n in o){\n        if (o.hasOwnProperty(n)) {\n          if (cb.call(s, o[n], n, o) === false){\n            return 0;\n          }\n        }\n      }\n    }\n    return 1;\n  }\n\n  // Extend object e on to o.\n  function extend(o, e){\n    each(e, function(v, n){\n      o[n] = v;\n    });\n    return o;\n  }\n\n  function noConflict(){\n    root.chartstack = previousChartstack;\n    return this;\n  }\n\n  // DOM-ready queue method.\n  function ready(cb){\n    if (!isDomReady){\n      readyCallbacks.push(cb);\n    }else{\n      cb();\n    }\n  }\n\n  // Called when DOM and chart libs are loaded and ready.\n  function bootstrap (){\n    // If graph library isn't set in defaults, match provider to the first graph\n    // lib found on the page that we have an adapter for.\n    if (chartstack.defaults.library){\n      chartstack.library = chartstack.defaults.library;\n    } else {\n      for (var namespace in chartstack.libraries) {\n        if (namespace in window) {\n          chartstack.library = namespace;\n          break;\n        }\n      }\n    }\n\n    if (!chartstack.library){\n      throw new Error('No charting library located.');\n    }\n\n    // Parse the dom.\n    chartstack.parseDOM();\n    isDomReady = true;\n\n    // Bring moment.js into the mix\n    chartstack.moment = root.moment || false;\n\n    each(readyCallbacks, function(cb){\n      cb();\n    });\n  }\n\n  // Returns a chartstack object by html element id or element comparison.\n  function get(strOrEl){\n    var el = strOrEl.nodeName ? strOrEl : document.querySelector(strOrEl);\n    var matchedChart;\n\n    if (el){\n      each(chartstack.charts, function(chart){\n        if (el == chart.view.el){\n          matchedChart = chart;\n          return false;\n        }\n      });\n      return matchedChart;\n    }\n    throw(\"That element doesn't exist on the page.\");\n  }\n\n  // Adapters that normalize 3rd party api to a standard format.\n  function addAdapter(domain, configObj){\n    if (chartstack.is(configObj, 'function')){\n      adapters[domain] = configObj;\n    }else{\n      each(configObj, function(func, type){\n        // If domain doesn't exist, create the namespace.\n        if (!adapters[domain]){\n          adapters[domain] = {};\n        }\n        adapters[domain][type] = func;\n\n      });\n    }\n  }\n\n  // Parse the DOM and search for valid charting elements to turn to classes.\n  function parseDOM(){\n    var registeredNodes = [], retrievedNodes;\n    each(chartstack.libraries, function(library){\n      for (var key in library){\n        if (registeredNodes.indexOf(key) == -1) {\n          registeredNodes.push(key);\n        }\n      }\n    });\n    retrievedNodes = document.querySelectorAll(registeredNodes.join(','));\n    each(retrievedNodes, function(el){\n      // Ensure data attribute exists.\n      if (el.getAttribute('dataset')){\n        new Chart(el);\n      }\n    });\n  }\n\n  function parseParams(str){\n    // via http://stackoverflow.com/a/2880929/2511985\n    var urlParams = {},\n        match,\n        pl     = /\\+/g,  // Regex for replacing addition symbol with a space\n        search = /([^&=]+)=?([^&]*)/g,\n        decode = function (s) { return decodeURIComponent(s.replace(pl, \" \")); },\n        query  = str.split(\"?\")[1];\n\n    while (!!(match=search.exec(query))) {\n      urlParams[decode(match[1])] = decode(match[2]);\n    }\n    return urlParams;\n  }\n\n  function buildQueryString(params){\n    var query = [];\n    for (var key in params) {\n      if (params[key]) {\n        var value = params[key];\n        if (Object.prototype.toString.call(value) !== '[object String]') {\n          value = JSON.stringify(value);\n        }\n        value = encodeURIComponent(value);\n        query.push(key + '=' + value);\n      }\n    }\n    return \"?\" + query.join('&');\n  }\n\n  function getAjax(url, cb){\n    var xhr;\n    var createXHR = function(){\n      var xhr;\n      if (window.ActiveXObject){\n        try{\n          xhr = new ActiveXObject(\"Microsoft.XMLHTTP\");\n        }catch(e){\n          console.warn(e.message);\n          xhr = null;\n        }\n      }else{\n        xhr = new XMLHttpRequest();\n      }\n      return xhr;\n    };\n\n    xhr = createXHR();\n    xhr.onreadystatechange = function(){\n      if (xhr.readyState === 4){\n        cb(xhr.responseText);\n      }\n    };\n    xhr.open('GET', url, true);\n    xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n    xhr.send();\n  }\n\n  function getJSONP(url, success, error){\n    var callbackName = \"ChartstackJSONPCallback\" + new Date().getTime();\n    while (callbackName in window) {\n      callbackName += \"a\";\n    }\n    var loaded = false;\n    window[callbackName] = function (response) {\n      loaded = true;\n      if (success && response) {\n        success(response);\n      }\n      // Remove this from the namespace\n      window[callbackName] = undefined;\n    };\n    url = url + \"&jsonp=\" + callbackName;\n    var script = document.createElement(\"script\");\n    script.id = \"chartstack-jsonp\";\n    script.src = url;\n    document.getElementsByTagName(\"head\")[0].appendChild(script);\n    // for early IE w/ no onerror event\n    script.onreadystatechange = function() {\n      if (loaded === false && this.readyState === \"loaded\") {\n        loaded = true;\n        if (error) {\n          error();\n        }\n      }\n    };\n    // non-ie, etc\n    script.onerror = function() {\n      if (loaded === false) { // on IE9 both onerror and onreadystatechange are called\n        loaded = true;\n        if (error) {\n          error();\n        }\n      }\n    };\n  }\n\n  // Hack to support google charts.\n  if (window.google){\n    google.load('visualization', '1.0', {'packages':['corechart','table']});\n    google.setOnLoadCallback(bootstrap);\n  }else{\n    document.addEventListener(\"DOMContentLoaded\", bootstrap);\n  }\n})(this);\n","/* global chartstack */\n/* jshint camelcase: false */\n(function(cs){\n  var proto;\n  var each = chartstack.each;\n\n  cs.dataform = function(data, map) {\n    this.build(data, map);\n  };\n\n  proto = cs.dataform.prototype;\n\n  proto.build = function(data, map) {\n\n    // map.root\n    // map.each.index\n    // map.each.label\n    // map.each.value\n\n    var self = this,\n    // root = data[map.root];\n    _root = parse.apply(self, [data].concat(map.root.split(\" -> \")));\n    root = _root[0];\n\n    self.map = map,\n    self.table = [],\n    self.series = [],\n    self.raw = data;\n\n    self.cols = (function(){\n      var split_index, split_value, output = { fixed: [] };\n\n      split_value = self.map.each.value.split(\" -> \");\n      split_index =  (self.map.each.index) ? self.map.each.index.split(\" -> \") : self.map.each.value.split(\" -> \");\n      output.fixed.push(split_index[split_index.length-1]);\n\n      if (self.map.each.label) {\n        output.cells = self.map.each.label.split(\" -> \");\n      } else {\n        output.fixed.push(split_value[split_value.length-1])\n      }\n      return output;\n\n      /*\n      if (self.map.each.index) {\n        split_index = self.map.each.index.split(\" -> \");\n        output.fixed.push(split_index[split_index.length-1]);\n      } else {\n        output.fixed.push('result');\n      }*/\n\n      /*var split_index = self.map.each.index.split(\" -> \");\n      var split_value = self.map.each.value.split(\" -> \");\n      var output = {\n        fixed: [split_index[split_index.length-1]]\n      };\n      if (self.map.each.label) {\n        output.cells = self.map.each.label.split(\" -> \");\n      } else {\n        output.fixed.push(split_value[split_value.length-1]);\n      }\n      return output;*/\n    })();\n\n\n    self.rows = {\n      index: (self.map.each.index) ? self.map.each.index.split(\" -> \") : ['result'],\n      cells: (self.map.each.value) ? self.map.each.value.split(\" -> \") : []\n    };\n\n    self.order = (function(){\n      var output = {};\n      if (self.map.sort) {\n        output.rows = self.map.sort.index || 'asc';\n        output.cols = self.map.sort.label || 'desc';\n      }\n      return output;\n    })();\n\n    // SORT ROWS\n    if (self.order.rows.length > 0) {\n      if (root instanceof Array) {\n        root.sort(function(a, b){\n          var aIndex = parse.apply(self, [a].concat(self.rows.index));\n          var bIndex = parse.apply(self, [b].concat(self.rows.index));\n\n          if (self.order.rows == 'asc') {\n            if (aIndex > bIndex){return 1;}\n            if (aIndex < bIndex){return -1;}\n            return 0;\n          } else {\n            if (aIndex > bIndex){return -1;}\n            if (aIndex < bIndex){return 1;}\n            return 0;\n          }\n\n          return false;\n        });\n      }\n    }\n\n    // ADD SERIES\n    (function(){\n      self.cols.label = (self.cols.fixed) ? self.cols.fixed[0] : 'series';\n      var fixed = (self.cols.fixed) ? self.cols.fixed : [];\n      var cells = (self.cols.cells) ? parse.apply(self, [root[0]].concat(self.cols.cells)) : [];\n      var output = fixed.concat(cells);\n      output.splice(0,1);\n      each(output, function(el){\n        self.series.push({ key: el, values: [] });\n      });\n    })();\n\n    // ADD SERIES' RECORDS\n    if (root instanceof Array || typeof root == 'object') {\n      each(root, function(el){\n        var index = parse.apply(self, [el].concat(self.rows.index));\n        var cells = parse.apply(self, [el].concat(self.rows.cells));\n        each(cells, function(cell, j){\n          var output = {};\n          output[self.cols.label] = index[0];\n          output.value = cell;\n          self.series[j].values.push(output);\n        });\n      });\n    } else {\n      (function(){\n        var output = {};\n        output[self.cols.label] = 'result';\n        output.value = root;\n        self.series[0].values.push(output);\n      })();\n    }\n\n\n    // SORT COLUMNS\n    if (self.order.cols.length > 0) {\n      self.series = self.series.sort(function(a, b){\n        var aTotal = 0;\n        var bTotal = 0;\n        each(a.values, function(record){\n          aTotal += record.value;\n        });\n        each(b.values, function(record){\n          bTotal += record.value;\n        });\n\n        if (self.order.cols == 'asc') {\n          return aTotal - bTotal;\n        } else {\n          return bTotal - aTotal;\n        }\n      });\n    }\n\n    // BUILD TABLE\n    self.table = [];\n    self.table.push([self.cols.label]);\n\n    each(self.series[0].values, function(value){\n      self.table.push([value[self.cols.label]]);\n    });\n\n    each(self.series, function(series){\n      self.table[0].push(series.key);\n      each(series.values, function(record, j){\n        self.table[j+1].push(record.value);\n      });\n    });\n\n    // COLUMN TRANSFORMS\n    /*\n    if (setup.cols.transform) {\n      for (var transform in setup.cols.transform) {\n        if (transform == 'all') {\n          each(self.table[0], function(column, index){\n            if (index > 0) {\n              self.table[0][index] = setup.cols.transform[transform](self.table[0][index]);\n            }\n          });\n        } else {\n          transform = parseInt(transform);\n          if (self.table[0].length > transform) {\n            self.table[0][transform] = setup.cols.transform[transform](self.table[0][transform]);\n          }\n        }\n      }\n    }*/\n\n    // ROW TRANSFORMS\n    /*\n    if (setup.rows.transform) {\n      each(self.table, function(row, index){\n        if (index > 0) {\n          for (var transform in setup.rows.transform) {\n            self.table[index][transform] = setup.rows.transform[transform](self.table[index][transform]);\n          }\n        }\n      });\n    }*/\n\n    return this;\n  };\n\n  function parse() {\n    var result = [];\n    var loop = function() {\n      var root = arguments[0];\n      var args = Array.prototype.slice.call(arguments, 1);\n      var target = args.pop();\n\n      if (args.length === 0) {\n        if (root instanceof Array) {\n          args = root;\n        } else if (typeof root === 'object') {\n          args.push(root);\n        }\n      }\n\n      each(args, function(el){\n\n        if (el[target] || el[target] === 0 || el[target] !== void 0) {\n          // Easy grab!\n          if (el[target] === null) {\n            return result.push('');\n          } else {\n            return result.push(el[target]);\n          }\n\n        } else if (root[el]){\n          if (root[el] instanceof Array) {\n            // dive through each array item\n\n            each(root[el], function(n, i) {\n              var splinter = [root[el]].concat(root[el][i]).concat(args.slice(1)).concat(target);\n              return loop.apply(this, splinter);\n            });\n\n          } else {\n            if (root[el][target]) {\n              // grab it!\n              return result.push(root[el][target]);\n\n            } else {\n              // dive down a level!\n              return loop.apply(this, [root[el]].concat(args.splice(1)).concat(target));\n\n            }\n          }\n\n        } else {\n          // dive down a level!\n          return loop.apply(this, [el].concat(args.splice(1)).concat(target));\n\n        }\n\n        return;\n\n      });\n      if (result.length > 0) {\n        return result;\n      }\n    };\n    return loop.apply(this, arguments);\n  }\n\n})(chartstack);\n","/* global chartstack */\n// Data normalizing adaper for keen.io API.\n(function(cs){\n  var each = cs.each;\n\n  cs.addAdapter('keen-io', function(response){\n    var self = this, data, output;\n    var map = self.map || false;\n    //var response = { result: 2450 };\n\n    // Default Response Map\n    if (!map) {\n\n      map = {\n        root: \"result\",\n        each: {},\n        sort: {\n          index: 'asc',\n          label: 'desc'\n        }\n      };\n\n      if (response.result instanceof Array) {\n\n        if (response.result[0]['value'] !== void 0){\n\n          if (response.result[0]['value'] instanceof Array) {\n            // Interval + Group_by\n\n            // Get value (interval result)\n            map.each.value = \"value -> result\";\n\n            // Get label (group_by field)\n            for (var key in response.result[0]['value'][0]){\n              if (key !== \"result\") {\n                map.each.label = \"value -> \" + key;\n                break;\n              }\n            }\n\n          } else {\n            // Interval, no Group_by\n            // Get value\n            map.each.value = \"value\";\n          }\n        }\n\n        if (response.result[0]['timeframe']) {\n          // Get index (start time)\n          map.each.index = \"timeframe -> start\";\n        }\n\n        if (response.result[0]['result']) {\n          // Get value (group_by)\n          map.each.value = \"result\";\n          for (var key in response.result[0]){\n            if (key !== \"result\") {\n              map.each.index = key;\n              break;\n            }\n          }\n        }\n\n\n\n      } else {\n        // Metric: { result: 2450 } -> [['result'],[2450]]\n        /*data = {\n          table: [['result'], [response.result]],\n          series: [{ key: 'result', values: [{ value: response.result }] }]\n        };\n        output = data.table;*/\n        map.each.value = 'result';\n      }\n\n    }\n\n    data = new cs.dataform(response, map);\n    output = data.table;\n    // Date formatting\n    if (chartstack.moment) {\n      each(output, function(row, i){\n        each(row, function(cell, j){\n          if (j == 0) {\n            if (chartstack.moment(cell).isValid()) {\n              output[i][j] = (self.dateformat) ? chartstack.moment(cell).format(self.dateformat) : new Date(cell);\n            }\n          }\n        });\n      });\n    }\n    //console.log(data);\n    return output;\n  });\n\n})(chartstack);\n","/* global google, chartstack */\n(function(cs){\n  var each = cs.each;\n  var extend = cs.extend;\n\n  // -----------------------------\n  // Library Namespace\n  // -----------------------------\n\n  cs.Keen = cs.Keen || {};\n\n  // -----------------------------\n  // Type: Number\n  // -----------------------------\n\n  cs.Keen.Metric = cs.Visualization.extend({\n    initialize: function(){\n      var css = document.createElement(\"style\");\n      css.type = \"text/css\";\n      css.innerHTML = \".cs-widget {\n          background: #49c5b1;\n          border-radius: 4px;\n          color: #fff;\n          font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n          margin: 0 auto;\n          padding: 10px 0;\n          text-align: center;\n        }\n        .cs-widget-title {\n          display: block;\n          font-size: 84px;\n          font-weight: 700;\n          line-height: 84px;\n        }\n        .cs-widget-subtitle {\n          display: block;\n          font-size: 24px;\n          font-weight: 200;\n        }\";\n      document.body.appendChild(css);\n\n      this.render();\n    },\n    //render: function(){},\n    update: function(){\n      this.el.innerHTML = '' +\n        '<div class=\"cs-widget cs-number\" style=\"width:' + parseInt(this.chartOptions.width) + 'px;\">' +\n          '<span class=\"cs-widget-title\">' + this.data[0][1][1] + '</span>' +\n          '<span class=\"cs-widget-subtitle\">' + (this.chartOptions.title || 'Result') + '</span>' +\n        '</div>';\n    }\n  });\n\n\n  // -----------------------------\n  // Register Methods\n  // -----------------------------\n\n  cs.Visualization.register(\"keen-io\", {\n    \"metric\": cs.Keen.Metric\n  });\n\n})(chartstack);\n","/* global google, chartstack */\n(function(cs){\n  var each = cs.each;\n  var extend = cs.extend;\n\n  // -----------------------------\n  // Library Namespace\n  // -----------------------------\n\n  cs.GoogleCharts = cs.GoogleCharts || {};\n\n  // \"https://www.google.com/jsapi\"\n\n\n  // -----------------------------\n  // Type: Area chart\n  // -----------------------------\n\n  cs.GoogleCharts.AreaChart = cs.Visualization.extend({\n    initialize: function(){\n      //this.trigger('error', 'testing pie errors');\n      this.render();\n    },\n    render: function(){\n      this._chart = this._chart || new google.visualization.AreaChart(this.el);\n    },\n    update: function(){\n      var data = google.visualization.arrayToDataTable(this.data[0]);\n      var options = extend(this.chartOptions, {\n        title: this.chartOptions.title || '',\n        height: parseInt(this.chartOptions.height),\n        width: parseInt(this.chartOptions.width)\n      });\n      this._chart.draw(data, options);\n    }\n  });\n\n\n  // -----------------------------\n  // Type: Bar chart\n  // -----------------------------\n\n  cs.GoogleCharts.BarChart = cs.Visualization.extend({\n    initialize: function(){\n      //console.log('bar!', this);\n      this.render();\n    },\n    render: function(){\n      this._chart = this._chart || new google.visualization.BarChart(this.el);\n    },\n    update: function(){\n      var data = google.visualization.arrayToDataTable(this.data[0]);\n      var options = extend(this.chartOptions, {\n        title: this.chartOptions.title || '',\n        height: parseInt(this.chartOptions.height),\n        width: parseInt(this.chartOptions.width)\n      });\n      this._chart.draw(data, options);\n    }\n  });\n\n\n  // -----------------------------\n  // Type: Column chart\n  // -----------------------------\n\n  cs.GoogleCharts.ColumnChart = cs.Visualization.extend({\n    initialize: function(){\n      //console.log('bar!', this);\n      this.render();\n    },\n    render: function(){\n      this._chart = this._chart || new google.visualization.ColumnChart(this.el);\n      //this.chart.draw(data, options);\n    },\n    update: function(){\n      var data = google.visualization.arrayToDataTable(this.data[0]);\n      var options = extend(this.chartOptions, {\n        title: this.chartOptions.title || '',\n        height: parseInt(this.chartOptions.height),\n        width: parseInt(this.chartOptions.width)\n      });\n      this._chart.draw(data, options);\n    }\n  });\n\n\n  // -----------------------------\n  // Type: Line chart\n  // -----------------------------\n\n  cs.GoogleCharts.LineChart = cs.Visualization.extend({\n    initialize: function(){\n      this.render();\n    },\n    render: function(){\n      this._chart = this._chart || new google.visualization.LineChart(this.el);\n    },\n    update: function(){\n      var data = google.visualization.arrayToDataTable(this.data[0]);\n      var options = extend(this.chartOptions, {\n        title: this.chartOptions.title || '',\n        height: parseInt(this.chartOptions.height),\n        width: parseInt(this.chartOptions.width)\n      });\n      this._chart.draw(data, options);\n    }\n  });\n\n\n  // -----------------------------\n  // Type: Pie chart\n  // -----------------------------\n\n  cs.GoogleCharts.PieChart = cs.Visualization.extend({\n    initialize: function(){\n      this.render();\n    },\n    render: function(){\n      this._chart = this._chart || new google.visualization.PieChart(this.el);\n    },\n    update: function(){\n      var data = google.visualization.arrayToDataTable(this.data[0]);\n      var options = extend(this.chartOptions, {\n        title: this.chartOptions.title || '',\n        height: parseInt(this.chartOptions.height),\n        width: parseInt(this.chartOptions.width)\n      });\n      this._chart.draw(data, options);\n    }\n  });\n\n\n  // -----------------------------\n  // Type: Table\n  // -----------------------------\n\n  cs.GoogleCharts.DataTable = cs.Visualization.extend({\n    initialize: function(){\n      this.render();\n    },\n    render: function(){\n      this._chart = this._chart || new google.visualization.Table(this.el);\n      //this.chart.draw(data, options);\n    },\n    update: function(){\n      var data = google.visualization.arrayToDataTable(this.data[0]);\n      this._chart.draw(data, this.chartOptions);\n    }\n  });\n\n\n  // -----------------------------\n  // Register Methods\n  // -----------------------------\n\n  cs.Visualization.register(\"google\", {\n    \"areachart\": cs.GoogleCharts.AreaChart,\n    \"barchart\": cs.GoogleCharts.BarChart,\n    \"columnchart\": cs.GoogleCharts.ColumnChart,\n    \"linechart\": cs.GoogleCharts.LineChart,\n    \"piechart\": cs.GoogleCharts.PieChart,\n    \"datatable\": cs.GoogleCharts.DataTable\n  });\n\n})(chartstack);\n","(function(root){\n  var previousSimg = root.Simg;\n  var Simg = root.Simg = function(svg){\n    this.svg = svg;\n  };\n\n  Simg.noConflict = function(){\n    root.Simg = previousSimg;\n    return this;\n  };\n\n  Simg.getBase64Image = function(img) {\n    // From: http://stackoverflow.com/questions/934012/get-image-data-in-javascript\n    var canvas = document.createElement(\"canvas\");\n    canvas.width = img.width;\n    canvas.height = img.height;\n\n    var ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(img, 0, 0);\n    var dataURL = canvas.toDataURL(\"image/png\");\n\n    return dataURL.replace(/^data:image\\/(png|jpg);base64,/, \"\");\n  };\n\n  Simg.prototype = {\n    // Return SVG text.\n    toString: function(svg){\n      if (!svg){\n        throw new Error('.toString: No SVG found.');\n      }\n\n      [\n        ['version', 1.1],\n        ['xmlns', \"http://www.w3.org/2000/svg\"],\n      ].forEach(function(item){\n        svg.setAttribute(item[0], item[1]);\n      });\n      return svg.parentNode.innerHTML;\n    },\n\n    // Return canvas with this SVG drawn inside.\n    toCanvas: function(cb){\n      this.toSvgImage(function(img){\n        var canvas = document.createElement('canvas');\n        var context = canvas.getContext(\"2d\");\n\n        canvas.width = img.width;\n        canvas.height = img.height;\n\n        context.drawImage(img, 0, 0);\n        cb(canvas);\n      });\n    },\n\n    toSvgImage: function(cb){\n      var str = this.toString(this.svg);\n      var img = document.createElement('img');\n\n      if (cb){\n        img.onload = function(){\n          cb(img);\n        };\n      }\n\n      // Make the new img's source an SVG image.\n      img.setAttribute('src', 'data:image/svg+xml;base64,'+ btoa(str));\n    },\n\n    // Returns callback to new img from SVG.\n    // Call with no arguments to return svg image element.\n    // Call with callback to return png image element.\n    toImg: function(cb){\n      this.toCanvas(function(canvas){\n        var canvasData = canvas.toDataURL(\"image/png\");\n        var img = document.createElement('img');\n\n        img.onload = function(){\n          cb(img);\n        };\n\n        // Make pngImg's source the canvas data.\n        img.setAttribute('src', canvasData);\n      });\n    },\n\n    // Replace SVG with PNG img.\n    replace: function(cb){\n      var self = this;\n      this.toImg(function(img){\n        var parentNode = self.svg.parentNode;\n        parentNode.replaceChild(img, self.svg);\n        if (cb){\n          cb();\n        }\n      });\n    },\n\n    // Converts canvas to binary blob.\n    toBinaryBlob: function(cb){\n      this.toCanvas(function(canvas){\n        var dataUrl = canvas.toDataURL().replace(/^data:image\\/(png|jpg);base64,/, \"\");\n        var byteString = atob(dataUrl);\n        // write the bytes of the string to an ArrayBuffer\n        var ab = new ArrayBuffer(byteString.length);\n        var ia = new Uint8Array(ab);\n        for (var i = 0; i < byteString.length; i++) {\n          ia[i] = byteString.charCodeAt(i);\n        }\n        var dataView = new DataView(ab);\n        var blob = new Blob([dataView], {type: \"image/png\"});\n        cb(blob);\n      });\n    },\n\n    // Trigger download of image.\n    download: function(){\n      this.toImg(function(img){\n        var a = document.createElement(\"a\");\n        a.download = \"chart.png\";\n        a.href = img.getAttribute('src');\n        a.click();\n      });\n    }\n  };\n})(this);\n","chartstack.Simg = Simg.noConflict();\n","//! moment.js\n//! version : 2.6.0\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n(function(a){function b(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function c(a,b){function c(){ib.suppressDeprecationWarnings===!1&&\"undefined\"!=typeof console&&console.warn&&console.warn(\"Deprecation warning: \"+a)}var d=!0;return i(function(){return d&&(c(),d=!1),b.apply(this,arguments)},b)}function d(a,b){return function(c){return l(a.call(this,c),b)}}function e(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function f(){}function g(a){y(a),i(this,a)}function h(a){var b=r(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._bubble()}function i(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return b.hasOwnProperty(\"toString\")&&(a.toString=b.toString),b.hasOwnProperty(\"valueOf\")&&(a.valueOf=b.valueOf),a}function j(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&wb.hasOwnProperty(b)&&(c[b]=a[b]);return c}function k(a){return 0>a?Math.ceil(a):Math.floor(a)}function l(a,b,c){for(var d=\"\"+Math.abs(a),e=a>=0;d.length<b;)d=\"0\"+d;return(e?c?\"+\":\"\":\"-\")+d}function m(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d?!0:d,e&&a._d.setTime(+a._d+e*c),f&&db(a,\"Date\",cb(a,\"Date\")+f*c),g&&bb(a,cb(a,\"Month\")+g*c),d&&ib.updateOffset(a,f||g)}function n(a){return\"[object Array]\"===Object.prototype.toString.call(a)}function o(a){return\"[object Date]\"===Object.prototype.toString.call(a)||a instanceof Date}function p(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&t(a[d])!==t(b[d]))&&g++;return g+f}function q(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,\"$1\");a=Zb[a]||$b[b]||b}return a}function r(a){var b,c,d={};for(c in a)a.hasOwnProperty(c)&&(b=q(c),b&&(d[b]=a[c]));return d}function s(b){var c,d;if(0===b.indexOf(\"week\"))c=7,d=\"day\";else{if(0!==b.indexOf(\"month\"))return;c=12,d=\"month\"}ib[b]=function(e,f){var g,h,i=ib.fn._lang[b],j=[];if(\"number\"==typeof e&&(f=e,e=a),h=function(a){var b=ib().utc().set(d,a);return i.call(ib.fn._lang,b,e||\"\")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function t(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function u(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function v(a,b,c){return $(ib([a,11,31+b-c]),b,c).week}function w(a){return x(a)?366:365}function x(a){return a%4===0&&a%100!==0||a%400===0}function y(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[pb]<0||a._a[pb]>11?pb:a._a[qb]<1||a._a[qb]>u(a._a[ob],a._a[pb])?qb:a._a[rb]<0||a._a[rb]>23?rb:a._a[sb]<0||a._a[sb]>59?sb:a._a[tb]<0||a._a[tb]>59?tb:a._a[ub]<0||a._a[ub]>999?ub:-1,a._pf._overflowDayOfYear&&(ob>b||b>qb)&&(b=qb),a._pf.overflow=b)}function z(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function A(a){return a?a.toLowerCase().replace(\"_\",\"-\"):a}function B(a,b){return b._isUTC?ib(a).zone(b._offset||0):ib(a).local()}function C(a,b){return b.abbr=a,vb[a]||(vb[a]=new f),vb[a].set(b),vb[a]}function D(a){delete vb[a]}function E(a){var b,c,d,e,f=0,g=function(a){if(!vb[a]&&xb)try{require(\"./lang/\"+a)}catch(b){}return vb[a]};if(!a)return ib.fn._lang;if(!n(a)){if(c=g(a))return c;a=[a]}for(;f<a.length;){for(e=A(a[f]).split(\"-\"),b=e.length,d=A(a[f+1]),d=d?d.split(\"-\"):null;b>0;){if(c=g(e.slice(0,b).join(\"-\")))return c;if(d&&d.length>=b&&p(e,d,!0)>=b-1)break;b--}f++}return ib.fn._lang}function F(a){return a.match(/\\[[\\s\\S]/)?a.replace(/^\\[|\\]$/g,\"\"):a.replace(/\\\\/g,\"\")}function G(a){var b,c,d=a.match(Bb);for(b=0,c=d.length;c>b;b++)d[b]=cc[d[b]]?cc[d[b]]:F(d[b]);return function(e){var f=\"\";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function H(a,b){return a.isValid()?(b=I(b,a.lang()),_b[b]||(_b[b]=G(b)),_b[b](a)):a.lang().invalidDate()}function I(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Cb.lastIndex=0;d>=0&&Cb.test(a);)a=a.replace(Cb,c),Cb.lastIndex=0,d-=1;return a}function J(a,b){var c,d=b._strict;switch(a){case\"Q\":return Nb;case\"DDDD\":return Pb;case\"YYYY\":case\"GGGG\":case\"gggg\":return d?Qb:Fb;case\"Y\":case\"G\":case\"g\":return Sb;case\"YYYYYY\":case\"YYYYY\":case\"GGGGG\":case\"ggggg\":return d?Rb:Gb;case\"S\":if(d)return Nb;case\"SS\":if(d)return Ob;case\"SSS\":if(d)return Pb;case\"DDD\":return Eb;case\"MMM\":case\"MMMM\":case\"dd\":case\"ddd\":case\"dddd\":return Ib;case\"a\":case\"A\":return E(b._l)._meridiemParse;case\"X\":return Lb;case\"Z\":case\"ZZ\":return Jb;case\"T\":return Kb;case\"SSSS\":return Hb;case\"MM\":case\"DD\":case\"YY\":case\"GG\":case\"gg\":case\"HH\":case\"hh\":case\"mm\":case\"ss\":case\"ww\":case\"WW\":return d?Ob:Db;case\"M\":case\"D\":case\"d\":case\"H\":case\"h\":case\"m\":case\"s\":case\"w\":case\"W\":case\"e\":case\"E\":return Db;case\"Do\":return Mb;default:return c=new RegExp(R(Q(a.replace(\"\\\\\",\"\")),\"i\"))}}function K(a){a=a||\"\";var b=a.match(Jb)||[],c=b[b.length-1]||[],d=(c+\"\").match(Xb)||[\"-\",0,0],e=+(60*d[1])+t(d[2]);return\"+\"===d[0]?-e:e}function L(a,b,c){var d,e=c._a;switch(a){case\"Q\":null!=b&&(e[pb]=3*(t(b)-1));break;case\"M\":case\"MM\":null!=b&&(e[pb]=t(b)-1);break;case\"MMM\":case\"MMMM\":d=E(c._l).monthsParse(b),null!=d?e[pb]=d:c._pf.invalidMonth=b;break;case\"D\":case\"DD\":null!=b&&(e[qb]=t(b));break;case\"Do\":null!=b&&(e[qb]=t(parseInt(b,10)));break;case\"DDD\":case\"DDDD\":null!=b&&(c._dayOfYear=t(b));break;case\"YY\":e[ob]=ib.parseTwoDigitYear(b);break;case\"YYYY\":case\"YYYYY\":case\"YYYYYY\":e[ob]=t(b);break;case\"a\":case\"A\":c._isPm=E(c._l).isPM(b);break;case\"H\":case\"HH\":case\"h\":case\"hh\":e[rb]=t(b);break;case\"m\":case\"mm\":e[sb]=t(b);break;case\"s\":case\"ss\":e[tb]=t(b);break;case\"S\":case\"SS\":case\"SSS\":case\"SSSS\":e[ub]=t(1e3*(\"0.\"+b));break;case\"X\":c._d=new Date(1e3*parseFloat(b));break;case\"Z\":case\"ZZ\":c._useUTC=!0,c._tzm=K(b);break;case\"w\":case\"ww\":case\"W\":case\"WW\":case\"d\":case\"dd\":case\"ddd\":case\"dddd\":case\"e\":case\"E\":a=a.substr(0,1);case\"gg\":case\"gggg\":case\"GG\":case\"GGGG\":case\"GGGGG\":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=b)}}function M(a){var b,c,d,e,f,g,h,i,j,k,l=[];if(!a._d){for(d=O(a),a._w&&null==a._a[qb]&&null==a._a[pb]&&(f=function(b){var c=parseInt(b,10);return b?b.length<3?c>68?1900+c:2e3+c:c:null==a._a[ob]?ib().weekYear():a._a[ob]},g=a._w,null!=g.GG||null!=g.W||null!=g.E?h=_(f(g.GG),g.W||1,g.E,4,1):(i=E(a._l),j=null!=g.d?X(g.d,i):null!=g.e?parseInt(g.e,10)+i._week.dow:0,k=parseInt(g.w,10)||1,null!=g.d&&j<i._week.dow&&k++,h=_(f(g.gg),k,j,i._week.doy,i._week.dow)),a._a[ob]=h.year,a._dayOfYear=h.dayOfYear),a._dayOfYear&&(e=null==a._a[ob]?d[ob]:a._a[ob],a._dayOfYear>w(e)&&(a._pf._overflowDayOfYear=!0),c=W(e,0,a._dayOfYear),a._a[pb]=c.getUTCMonth(),a._a[qb]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=l[b]=d[b];for(;7>b;b++)a._a[b]=l[b]=null==a._a[b]?2===b?1:0:a._a[b];l[rb]+=t((a._tzm||0)/60),l[sb]+=t((a._tzm||0)%60),a._d=(a._useUTC?W:V).apply(null,l)}}function N(a){var b;a._d||(b=r(a._i),a._a=[b.year,b.month,b.day,b.hour,b.minute,b.second,b.millisecond],M(a))}function O(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function P(a){a._a=[],a._pf.empty=!0;var b,c,d,e,f,g=E(a._l),h=\"\"+a._i,i=h.length,j=0;for(d=I(a._f,g).match(Bb)||[],b=0;b<d.length;b++)e=d[b],c=(h.match(J(e,a))||[])[0],c&&(f=h.substr(0,h.indexOf(c)),f.length>0&&a._pf.unusedInput.push(f),h=h.slice(h.indexOf(c)+c.length),j+=c.length),cc[e]?(c?a._pf.empty=!1:a._pf.unusedTokens.push(e),L(e,c,a)):a._strict&&!c&&a._pf.unusedTokens.push(e);a._pf.charsLeftOver=i-j,h.length>0&&a._pf.unusedInput.push(h),a._isPm&&a._a[rb]<12&&(a._a[rb]+=12),a._isPm===!1&&12===a._a[rb]&&(a._a[rb]=0),M(a),y(a)}function Q(a){return a.replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function R(a){return a.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\")}function S(a){var c,d,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(f=0;f<a._f.length;f++)g=0,c=i({},a),c._pf=b(),c._f=a._f[f],P(c),z(c)&&(g+=c._pf.charsLeftOver,g+=10*c._pf.unusedTokens.length,c._pf.score=g,(null==e||e>g)&&(e=g,d=c));i(a,d||c)}function T(a){var b,c,d=a._i,e=Tb.exec(d);if(e){for(a._pf.iso=!0,b=0,c=Vb.length;c>b;b++)if(Vb[b][1].exec(d)){a._f=Vb[b][0]+(e[6]||\" \");break}for(b=0,c=Wb.length;c>b;b++)if(Wb[b][1].exec(d)){a._f+=Wb[b][0];break}d.match(Jb)&&(a._f+=\"Z\"),P(a)}else ib.createFromInputFallback(a)}function U(b){var c=b._i,d=yb.exec(c);c===a?b._d=new Date:d?b._d=new Date(+d[1]):\"string\"==typeof c?T(b):n(c)?(b._a=c.slice(0),M(b)):o(c)?b._d=new Date(+c):\"object\"==typeof c?N(b):\"number\"==typeof c?b._d=new Date(c):ib.createFromInputFallback(b)}function V(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function W(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function X(a,b){if(\"string\"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),\"number\"!=typeof a)return null}else a=parseInt(a,10);return a}function Y(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Z(a,b,c){var d=nb(Math.abs(a)/1e3),e=nb(d/60),f=nb(e/60),g=nb(f/24),h=nb(g/365),i=45>d&&[\"s\",d]||1===e&&[\"m\"]||45>e&&[\"mm\",e]||1===f&&[\"h\"]||22>f&&[\"hh\",f]||1===g&&[\"d\"]||25>=g&&[\"dd\",g]||45>=g&&[\"M\"]||345>g&&[\"MM\",nb(g/30)]||1===h&&[\"y\"]||[\"yy\",h];return i[2]=b,i[3]=a>0,i[4]=c,Y.apply({},i)}function $(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=ib(a).add(\"d\",f),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function _(a,b,c,d,e){var f,g,h=W(a,0,1).getUTCDay();return c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:w(a-1)+g}}function ab(b){var c=b._i,d=b._f;return null===c||d===a&&\"\"===c?ib.invalid({nullInput:!0}):(\"string\"==typeof c&&(b._i=c=E().preparse(c)),ib.isMoment(c)?(b=j(c),b._d=new Date(+c._d)):d?n(d)?S(b):P(b):U(b),new g(b))}function bb(a,b){var c;return\"string\"==typeof b&&(b=a.lang().monthsParse(b),\"number\"!=typeof b)?a:(c=Math.min(a.date(),u(a.year(),b)),a._d[\"set\"+(a._isUTC?\"UTC\":\"\")+\"Month\"](b,c),a)}function cb(a,b){return a._d[\"get\"+(a._isUTC?\"UTC\":\"\")+b]()}function db(a,b,c){return\"Month\"===b?bb(a,c):a._d[\"set\"+(a._isUTC?\"UTC\":\"\")+b](c)}function eb(a,b){return function(c){return null!=c?(db(this,a,c),ib.updateOffset(this,b),this):cb(this,a)}}function fb(a){ib.duration.fn[a]=function(){return this._data[a]}}function gb(a,b){ib.duration.fn[\"as\"+a]=function(){return+this/b}}function hb(a){\"undefined\"==typeof ender&&(jb=mb.moment,mb.moment=a?c(\"Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.\",ib):ib)}for(var ib,jb,kb,lb=\"2.6.0\",mb=\"undefined\"!=typeof global?global:this,nb=Math.round,ob=0,pb=1,qb=2,rb=3,sb=4,tb=5,ub=6,vb={},wb={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},xb=\"undefined\"!=typeof module&&module.exports,yb=/^\\/?Date\\((\\-?\\d+)/i,zb=/(\\-)?(?:(\\d*)\\.)?(\\d+)\\:(\\d+)(?:\\:(\\d+)\\.?(\\d{3})?)?/,Ab=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Bb=/(\\[[^\\[]*\\])|(\\\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Cb=/(\\[[^\\[]*\\])|(\\\\)?(LT|LL?L?L?|l{1,4})/g,Db=/\\d\\d?/,Eb=/\\d{1,3}/,Fb=/\\d{1,4}/,Gb=/[+\\-]?\\d{1,6}/,Hb=/\\d+/,Ib=/[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i,Jb=/Z|[\\+\\-]\\d\\d:?\\d\\d/gi,Kb=/T/i,Lb=/[\\+\\-]?\\d+(\\.\\d{1,3})?/,Mb=/\\d{1,2}/,Nb=/\\d/,Ob=/\\d\\d/,Pb=/\\d{3}/,Qb=/\\d{4}/,Rb=/[+-]?\\d{6}/,Sb=/[+-]?\\d+/,Tb=/^\\s*(?:[+-]\\d{6}|\\d{4})-(?:(\\d\\d-\\d\\d)|(W\\d\\d$)|(W\\d\\d-\\d)|(\\d\\d\\d))((T| )(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d+)?)?)?)?([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,Ub=\"YYYY-MM-DDTHH:mm:ssZ\",Vb=[[\"YYYYYY-MM-DD\",/[+-]\\d{6}-\\d{2}-\\d{2}/],[\"YYYY-MM-DD\",/\\d{4}-\\d{2}-\\d{2}/],[\"GGGG-[W]WW-E\",/\\d{4}-W\\d{2}-\\d/],[\"GGGG-[W]WW\",/\\d{4}-W\\d{2}/],[\"YYYY-DDD\",/\\d{4}-\\d{3}/]],Wb=[[\"HH:mm:ss.SSSS\",/(T| )\\d\\d:\\d\\d:\\d\\d\\.\\d+/],[\"HH:mm:ss\",/(T| )\\d\\d:\\d\\d:\\d\\d/],[\"HH:mm\",/(T| )\\d\\d:\\d\\d/],[\"HH\",/(T| )\\d\\d/]],Xb=/([\\+\\-]|\\d\\d)/gi,Yb=(\"Date|Hours|Minutes|Seconds|Milliseconds\".split(\"|\"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),Zb={ms:\"millisecond\",s:\"second\",m:\"minute\",h:\"hour\",d:\"day\",D:\"date\",w:\"week\",W:\"isoWeek\",M:\"month\",Q:\"quarter\",y:\"year\",DDD:\"dayOfYear\",e:\"weekday\",E:\"isoWeekday\",gg:\"weekYear\",GG:\"isoWeekYear\"},$b={dayofyear:\"dayOfYear\",isoweekday:\"isoWeekday\",isoweek:\"isoWeek\",weekyear:\"weekYear\",isoweekyear:\"isoWeekYear\"},_b={},ac=\"DDD w W M D d\".split(\" \"),bc=\"M D H h m s w W\".split(\" \"),cc={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?\"+\":\"-\";return b+l(Math.abs(a),6)},gg:function(){return l(this.weekYear()%100,2)},gggg:function(){return l(this.weekYear(),4)},ggggg:function(){return l(this.weekYear(),5)},GG:function(){return l(this.isoWeekYear()%100,2)},GGGG:function(){return l(this.isoWeekYear(),4)},GGGGG:function(){return l(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return t(this.milliseconds()/100)},SS:function(){return l(t(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},SSSS:function(){return l(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b=\"+\";return 0>a&&(a=-a,b=\"-\"),b+l(t(a/60),2)+\":\"+l(t(a)%60,2)},ZZ:function(){var a=-this.zone(),b=\"+\";return 0>a&&(a=-a,b=\"-\"),b+l(t(a/60),2)+l(t(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},dc=[\"months\",\"monthsShort\",\"weekdays\",\"weekdaysShort\",\"weekdaysMin\"];ac.length;)kb=ac.pop(),cc[kb+\"o\"]=e(cc[kb],kb);for(;bc.length;)kb=bc.pop(),cc[kb+kb]=d(cc[kb],2);for(cc.DDDD=d(cc.DDD,3),i(f.prototype,{set:function(a){var b,c;for(c in a)b=a[c],\"function\"==typeof b?this[c]=b:this[\"_\"+c]=b},_months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),months:function(a){return this._months[a.month()]},_monthsShort:\"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\".split(\"_\"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=ib.utc([2e3,b]),d=\"^\"+this.months(c,\"\")+\"|^\"+this.monthsShort(c,\"\"),this._monthsParse[b]=new RegExp(d.replace(\".\",\"\"),\"i\")),this._monthsParse[b].test(a))return b},_weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:\"Sun_Mon_Tue_Wed_Thu_Fri_Sat\".split(\"_\"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:\"Su_Mo_Tu_We_Th_Fr_Sa\".split(\"_\"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=ib([2e3,1]).day(b),d=\"^\"+this.weekdays(c,\"\")+\"|^\"+this.weekdaysShort(c,\"\")+\"|^\"+this.weekdaysMin(c,\"\"),this._weekdaysParse[b]=new RegExp(d.replace(\".\",\"\"),\"i\")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D YYYY\",LLL:\"MMMM D YYYY LT\",LLLL:\"dddd, MMMM D YYYY LT\"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return\"p\"===(a+\"\").toLowerCase().charAt(0)},_meridiemParse:/[ap]\\.?m?\\.?/i,meridiem:function(a,b,c){return a>11?c?\"pm\":\"PM\":c?\"am\":\"AM\"},_calendar:{sameDay:\"[Today at] LT\",nextDay:\"[Tomorrow at] LT\",nextWeek:\"dddd [at] LT\",lastDay:\"[Yesterday at] LT\",lastWeek:\"[Last] dddd [at] LT\",sameElse:\"L\"},calendar:function(a,b){var c=this._calendar[a];return\"function\"==typeof c?c.apply(b):c},_relativeTime:{future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return\"function\"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?\"future\":\"past\"];return\"function\"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace(\"%d\",a)},_ordinal:\"%d\",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return $(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:\"Invalid date\",invalidDate:function(){return this._invalidDate}}),ib=function(c,d,e,f){var g;return\"boolean\"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._i=c,g._f=d,g._l=e,g._strict=f,g._isUTC=!1,g._pf=b(),ab(g)},ib.suppressDeprecationWarnings=!1,ib.createFromInputFallback=c(\"moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.\",function(a){a._d=new Date(a._i)}),ib.utc=function(c,d,e,f){var g;return\"boolean\"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=e,g._i=c,g._f=d,g._strict=f,g._pf=b(),ab(g).utc()},ib.unix=function(a){return ib(1e3*a)},ib.duration=function(a,b){var c,d,e,f=a,g=null;return ib.isDuration(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:\"number\"==typeof a?(f={},b?f[b]=a:f.milliseconds=a):(g=zb.exec(a))?(c=\"-\"===g[1]?-1:1,f={y:0,d:t(g[qb])*c,h:t(g[rb])*c,m:t(g[sb])*c,s:t(g[tb])*c,ms:t(g[ub])*c}):(g=Ab.exec(a))&&(c=\"-\"===g[1]?-1:1,e=function(a){var b=a&&parseFloat(a.replace(\",\",\".\"));return(isNaN(b)?0:b)*c},f={y:e(g[2]),M:e(g[3]),d:e(g[4]),h:e(g[5]),m:e(g[6]),s:e(g[7]),w:e(g[8])}),d=new h(f),ib.isDuration(a)&&a.hasOwnProperty(\"_lang\")&&(d._lang=a._lang),d},ib.version=lb,ib.defaultFormat=Ub,ib.momentProperties=wb,ib.updateOffset=function(){},ib.lang=function(a,b){var c;return a?(b?C(A(a),b):null===b?(D(a),a=\"en\"):vb[a]||E(a),c=ib.duration.fn._lang=ib.fn._lang=E(a),c._abbr):ib.fn._lang._abbr},ib.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),E(a)},ib.isMoment=function(a){return a instanceof g||null!=a&&a.hasOwnProperty(\"_isAMomentObject\")},ib.isDuration=function(a){return a instanceof h},kb=dc.length-1;kb>=0;--kb)s(dc[kb]);ib.normalizeUnits=function(a){return q(a)},ib.invalid=function(a){var b=ib.utc(0/0);return null!=a?i(b._pf,a):b._pf.userInvalidated=!0,b},ib.parseZone=function(){return ib.apply(null,arguments).parseZone()},ib.parseTwoDigitYear=function(a){return t(a)+(t(a)>68?1900:2e3)},i(ib.fn=g.prototype,{clone:function(){return ib(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang(\"en\").format(\"ddd MMM DD YYYY HH:mm:ss [GMT]ZZ\")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=ib(this).utc();return 0<a.year()&&a.year()<=9999?H(a,\"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]\"):H(a,\"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]\")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return z(this)},isDSTShifted:function(){return this._a?this.isValid()&&p(this._a,(this._isUTC?ib.utc(this._a):ib(this._a)).toArray())>0:!1},parsingFlags:function(){return i({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){var b=H(this,a||ib.defaultFormat);return this.lang().postformat(b)},add:function(a,b){var c;return c=\"string\"==typeof a?ib.duration(+b,a):ib.duration(a,b),m(this,c,1),this},subtract:function(a,b){var c;return c=\"string\"==typeof a?ib.duration(+b,a):ib.duration(a,b),m(this,c,-1),this},diff:function(a,b,c){var d,e,f=B(a,this),g=6e4*(this.zone()-f.zone());return b=q(b),\"year\"===b||\"month\"===b?(d=432e5*(this.daysInMonth()+f.daysInMonth()),e=12*(this.year()-f.year())+(this.month()-f.month()),e+=(this-ib(this).startOf(\"month\")-(f-ib(f).startOf(\"month\")))/d,e-=6e4*(this.zone()-ib(this).startOf(\"month\").zone()-(f.zone()-ib(f).startOf(\"month\").zone()))/d,\"year\"===b&&(e/=12)):(d=this-f,e=\"second\"===b?d/1e3:\"minute\"===b?d/6e4:\"hour\"===b?d/36e5:\"day\"===b?(d-g)/864e5:\"week\"===b?(d-g)/6048e5:d),c?e:k(e)},from:function(a,b){return ib.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(ib(),a)},calendar:function(){var a=B(ib(),this).startOf(\"day\"),b=this.diff(a,\"days\",!0),c=-6>b?\"sameElse\":-1>b?\"lastWeek\":0>b?\"lastDay\":1>b?\"sameDay\":2>b?\"nextDay\":7>b?\"nextWeek\":\"sameElse\";return this.format(this.lang().calendar(c,this))},isLeapYear:function(){return x(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=X(a,this.lang()),this.add({d:a-b})):b},month:eb(\"Month\",!0),startOf:function(a){switch(a=q(a)){case\"year\":this.month(0);case\"quarter\":case\"month\":this.date(1);case\"week\":case\"isoWeek\":case\"day\":this.hours(0);case\"hour\":this.minutes(0);case\"minute\":this.seconds(0);case\"second\":this.milliseconds(0)}return\"week\"===a?this.weekday(0):\"isoWeek\"===a&&this.isoWeekday(1),\"quarter\"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(a){return a=q(a),this.startOf(a).add(\"isoWeek\"===a?\"week\":a,1).subtract(\"ms\",1)},isAfter:function(a,b){return b=\"undefined\"!=typeof b?b:\"millisecond\",+this.clone().startOf(b)>+ib(a).startOf(b)},isBefore:function(a,b){return b=\"undefined\"!=typeof b?b:\"millisecond\",+this.clone().startOf(b)<+ib(a).startOf(b)},isSame:function(a,b){return b=b||\"ms\",+this.clone().startOf(b)===+B(a,this).startOf(b)},min:function(a){return a=ib.apply(null,arguments),this>a?this:a},max:function(a){return a=ib.apply(null,arguments),a>this?this:a},zone:function(a,b){var c=this._offset||0;return null==a?this._isUTC?c:this._d.getTimezoneOffset():(\"string\"==typeof a&&(a=K(a)),Math.abs(a)<16&&(a=60*a),this._offset=a,this._isUTC=!0,c!==a&&(!b||this._changeInProgress?m(this,ib.duration(c-a,\"m\"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ib.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?\"UTC\":\"\"},zoneName:function(){return this._isUTC?\"Coordinated Universal Time\":\"\"},parseZone:function(){return this._tzm?this.zone(this._tzm):\"string\"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?ib(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return u(this.year(),this.month())},dayOfYear:function(a){var b=nb((ib(this).startOf(\"day\")-ib(this).startOf(\"year\"))/864e5)+1;return null==a?b:this.add(\"d\",a-b)},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=$(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add(\"y\",a-b)},isoWeekYear:function(a){var b=$(this,1,4).year;return null==a?b:this.add(\"y\",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add(\"d\",7*(a-b))},isoWeek:function(a){var b=$(this,1,4).week;return null==a?b:this.add(\"d\",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add(\"d\",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return v(this.year(),1,4)},weeksInYear:function(){var a=this._lang._week;return v(this.year(),a.dow,a.doy)},get:function(a){return a=q(a),this[a]()},set:function(a,b){return a=q(a),\"function\"==typeof this[a]&&this[a](b),this},lang:function(b){return b===a?this._lang:(this._lang=E(b),this)}}),ib.fn.millisecond=ib.fn.milliseconds=eb(\"Milliseconds\",!1),ib.fn.second=ib.fn.seconds=eb(\"Seconds\",!1),ib.fn.minute=ib.fn.minutes=eb(\"Minutes\",!1),ib.fn.hour=ib.fn.hours=eb(\"Hours\",!0),ib.fn.date=eb(\"Date\",!0),ib.fn.dates=c(\"dates accessor is deprecated. Use date instead.\",eb(\"Date\",!0)),ib.fn.year=eb(\"FullYear\",!0),ib.fn.years=c(\"years accessor is deprecated. Use year instead.\",eb(\"FullYear\",!0)),ib.fn.days=ib.fn.day,ib.fn.months=ib.fn.month,ib.fn.weeks=ib.fn.week,ib.fn.isoWeeks=ib.fn.isoWeek,ib.fn.quarters=ib.fn.quarter,ib.fn.toJSON=ib.fn.toISOString,i(ib.duration.fn=h.prototype,{_bubble:function(){var a,b,c,d,e=this._milliseconds,f=this._days,g=this._months,h=this._data;h.milliseconds=e%1e3,a=k(e/1e3),h.seconds=a%60,b=k(a/60),h.minutes=b%60,c=k(b/60),h.hours=c%24,f+=k(c/24),h.days=f%30,g+=k(f/30),h.months=g%12,d=k(g/12),h.years=d},weeks:function(){return k(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*t(this._months/12)},humanize:function(a){var b=+this,c=Z(b,!a,this.lang());return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=ib.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=ib.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=q(a),this[a.toLowerCase()+\"s\"]()},as:function(a){return a=q(a),this[\"as\"+a.charAt(0).toUpperCase()+a.slice(1)+\"s\"]()},lang:ib.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?\"-\":\"\")+\"P\"+(a?a+\"Y\":\"\")+(b?b+\"M\":\"\")+(c?c+\"D\":\"\")+(d||e||f?\"T\":\"\")+(d?d+\"H\":\"\")+(e?e+\"M\":\"\")+(f?f+\"S\":\"\"):\"P0D\"}});for(kb in Yb)Yb.hasOwnProperty(kb)&&(gb(kb,Yb[kb]),fb(kb.toLowerCase()));gb(\"Weeks\",6048e5),ib.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},ib.lang(\"en\",{ordinal:function(a){var b=a%10,c=1===t(a%100/10)?\"th\":1===b?\"st\":2===b?\"nd\":3===b?\"rd\":\"th\";return a+c}}),xb?module.exports=ib:\"function\"==typeof define&&define.amd?(define(\"moment\",function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(mb.moment=jb),ib}),hb(!0)):hb()}).call(this);"]}
>>>>>>> Stashed changes
